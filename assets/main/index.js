System.register("chunks:///_virtual/Account.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./AccountModelComp.ts"],(function(t){var n,o,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){c=t.ecs},function(t){u=t.AccountModelComp}],execute:function(){var e;o._RF.push({},"01a26dU+ZRONoLfcNzlF8VB","Account",void 0),o._RF.push({},"33c06qSPa9MRbTUOf1u+7SR","Account",void 0);t("Account",c.register("Account")(e=function(t){function o(){for(var n,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(n=t.call.apply(t,[this].concat(c))||this).AccountModel=void 0,n}return n(o,t),o.prototype.init=function(){this.addComponents(u)},o}(c.Entity))||e);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AccountModelComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(o){var t,e,n;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy},function(o){n=o.ecs}],execute:function(){var c;e._RF.push({},"9e672jRovFPvaGKNbgz30Ka","AccountModelComp",void 0),e._RF.push({},"48e3172BRZA+ZLehWBTVmsA","AccountModelComp",void 0);o("AccountModelComp",n.register("AccountModel")(c=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=o.call.apply(o,[this].concat(n))||this).AccountName=null,t}return t(e,o),e.prototype.reset=function(){this.AccountName=null},e}(n.Comp))||c);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AdaptBgSize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,a,r,c,s,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Vec2,s=t.find,p=t.UITransform,u=t.Component}],execute:function(){var h,l,f,d,z;a._RF.push({},"9ba9d72PRBFLqby/QuK7hay","AdaptBgSize",void 0);var g=r.ccclass,y=r.property;a._RF.push({},"a76a00OyaVNkLzOG2fHlwYp","AdaptBgSize",void 0);t("AdaptBgSize",(h=g("AdaptBgSize"),l=y(c),h((z=e((d=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).textRect=null,e.backRect=null,n(e,"offsetSize",z,o(e)),e.adaptSize=new c(0,0),e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.textRect=s("CoinText",this.node).getComponent(p),this.backRect=this.node.getComponent(p)},a.update=function(){this.backRect.width=this.textRect.contentSize.width+this.offsetSize.x,this.backRect.height=this.textRect.contentSize.height+this.offsetSize.y},e}(u)).prototype,"offsetSize",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0)}}),f=d))||f));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/AddDesktopPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ToastMgr.ts","./PlatformMgr.ts","./ArchiveManager.ts"],(function(t){var n,e,o,s,i,r,c,a,d;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.find,i=t.Button,r=t.Component},function(t){c=t.ToastMgr},function(t){a=t.PlatformMgr},function(t){d=t.ArchiveManager}],execute:function(){var l;e._RF.push({},"1341fbEeVRAHYtNPBmBXj3e","AddDesktopPage",void 0);var u=o.ccclass;e._RF.push({},"63606YinHVNzo6O4dPOqd+4","AddDesktopPage",void 0);t("AddDesktopPage",u("AddDesktopPage")(l=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).gotoBtn=null,n.receiveBtn=null,n}n(e,t);var o=e.prototype;return o.onLoad=function(){var t,n=s("BgCloseButton",this.node);null==n||n.on(i.EventType.CLICK,this.OnClickCloseBtn,this),this.gotoBtn=s("ContentUI/GotoBtn",this.node),null==(t=this.gotoBtn)||t.on(i.EventType.CLICK,this.OnClickAddDesktopBtn,this)},o.OnClickAddDesktopBtn=function(){var t=this;a.platformAPI.AddToDesktop((function(n){n&&t.ReceiveReward()}))},o.OnClickCloseBtn=function(){this.node.destroy()},o.ReceiveReward=function(){d.platform.data.isReceiveDesktop||c.AddMessage("添加桌面成功"),this.OnClickCloseBtn()},e}(r))||l);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AdsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./BaseAPI.ts","./PlatformMgr.ts"],(function(i){var t,e,n,a,s,o,_;return{setters:[function(i){t=i.createClass},function(i){e=i.cclegacy,n=i._decorator,a=i.Vec2},function(i){s=i.PlatformType},function(i){o=i.GridLocationType},function(i){_=i.PlatformMgr}],execute:function(){var d,r;e._RF.push({},"7b2d1Zq851N1qzR0n/VfREA","AdsManager",void 0);var c=n.ccclass;e._RF.push({},"2882dO6tbtHT7V/8yjWz4t9","AdsManager",void 0);var h=function(i){return i[i["收纳超级世界_WX"]=0]="收纳超级世界_WX",i[i["一起铺地板_DY"]=1]="一起铺地板_DY",i[i["收纳超级世界_Tap"]=2]="收纳超级世界_Tap",i[i["收纳超级世界_Ios"]=3]="收纳超级世界_Ios",i[i["收纳超级世界_合作_WX"]=4]="收纳超级世界_合作_WX",i[i["收纳超级世界_合作_DY"]=5]="收纳超级世界_合作_DY",i[i["收纳超级世界_合作_Vivo"]=6]="收纳超级世界_合作_Vivo",i[i["收纳超级世界_合作_Oppo"]=7]="收纳超级世界_合作_Oppo",i[i["收纳超级世界_合作_XiaoMi"]=8]="收纳超级世界_合作_XiaoMi",i[i["收纳超级世界_合作_HuaWei"]=9]="收纳超级世界_合作_HuaWei",i[i["收纳超级世界_合作_Ks"]=10]="收纳超级世界_合作_Ks",i}(h||{});i("AdsManager",c("AdsManager")(((r=function(){function i(){this.gameIDType=void 0,this.videoID="",this.interstitialID="",this.banndeID="",this.isUnlockAds=!0,this.bannerGrid=void 0}var e=i.prototype;return e.InitGameID=function(){var i=_.currPlatform;i==s.微信?this.gameIDType=h.收纳超级世界_WX:i==s.抖音?this.gameIDType=h.收纳超级世界_合作_DY:i==s.Android?this.gameIDType=h.收纳超级世界_Tap:i==s.Ios?this.gameIDType=h.收纳超级世界_Ios:i==s.Vivo?this.gameIDType=h.收纳超级世界_合作_Vivo:i==s.Oppo?this.gameIDType=h.收纳超级世界_合作_Oppo:i==s.XiaoMi?this.gameIDType=h.收纳超级世界_合作_XiaoMi:i==s.华为?this.gameIDType=h.收纳超级世界_合作_HuaWei:i==s.快手&&(this.gameIDType=h.收纳超级世界_合作_Ks)},e.InitAds=function(){this.InitGameID();var i=this.gameIDType;i==h.收纳超级世界_WX?(this.videoID="adunit-0915634914220ec9",this.interstitialID="adunit-4c900c6aa82e6df0",this.banndeID="adunit-d6a4d7d94d2b6118"):i==h.一起铺地板_DY?(this.videoID="1c7f9nhh4if148jee6",this.interstitialID="7793a12hf8c113kee5",this.banndeID="2iml5g2m86la37nilk"):i==h.收纳超级世界_Tap||i==h.收纳超级世界_Ios||i==h.收纳超级世界_合作_WX||(i==h.收纳超级世界_合作_DY?(this.videoID="2064g318d6dl352sjj",this.interstitialID="1aahm9i0o6hek7a1hj",this.banndeID="cgo866j7mkpcb8bk51"):i==h.收纳超级世界_合作_Vivo?(this.videoID="45caebe72a704e499e796ef96da3ebb5",this.interstitialID="54b6dc04f5be465f903fa589148fbf0f",this.banndeID="ebe0a4e21d3b4ccbaded3943f902912a"):i==h.收纳超级世界_合作_Oppo?(this.videoID="2578645",this.interstitialID="2578657",this.banndeID="2578453"):i==h.收纳超级世界_合作_XiaoMi?(this.videoID="5350ea0462f93313b00054323aedd997",this.interstitialID="cf8d3597829fb91ffd3132ad1fe92e11"):i==h.收纳超级世界_合作_HuaWei?this.videoID="l3a66nw1q6":i==h.收纳超级世界_合作_Ks&&(this.videoID="2300031809_01",this.interstitialID="2300031809_02",this.banndeID="2300031809_03")),console.log("广告已禁用（离线模式）")},e.LoadVideoAds=function(){},e.ShowVideoAds=function(i){var t=null;i&&(t="object"==typeof i?i.success:i),t&&t(),console.log("离线模式：直接发放广告奖励")},e.ShowBanner=function(){},e.HideBanner=function(){},e.ShowInterstitial=function(){},e.InitBannerGrid=function(){if(_.currPlatform==s.微信){var i=_.platformAPI;this.bannerGrid=i.InitGridAds("adunit-e928dfc5961fac49",o.底部居中,new a(4,1))}},t(i,null,[{key:"Instance",get:function(){return null==this._inst&&(this._inst=new i),this._inst}}]),i}())._inst=void 0,d=r))||d);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AgainGamePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./GameEnum.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./UmengMgr.ts","./RewardInfo.ts","./GameMgr.ts","./MusicMgr.ts","./ToastMgr.ts"],(function(e){var n,t,a,o,i,s,r,c,u,m,f,g,d,p,l,v,G,I,h,M;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator},function(e){o=e.oops},function(e){i=e.GameComponent},function(e){s=e.ItemArchive},function(e){r=e.ItemType,c=e.MoneyType,u=e.UmengEventID},function(e){m=e.GameGeneralConfig},function(e){f=e.UIID},function(e){g=e.ItemInfo},function(e){d=e.AdsManager},function(e){p=e.PlatformMgr},function(e){l=e.UmengMgr},function(e){v=e.RewardInfo},function(e){G=e.GameMgr},function(e){I=e.MusicMgr,h=e.EffectType},function(e){M=e.ToastMgr}],execute:function(){var P;t._RF.push({},"5e88dAdsmtPfbhq23/tihhy","AgainGamePageView",void 0);var y=a.ccclass;t._RF.push({},"911b0L++3xKwZEpdYX3Apsd","AgainGamePageView",void 0);e("AgainGamePageView",y("AgainGamePageView")(P=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var a=t.prototype;return a.start=function(){this.setButton()},a.CloseBtn=function(){o.gui.open(f.SetupPage,{gameLevel:!0}),o.gui.removeByNode(this.node),I.PlayEffect(h.UIClick)},a.SureBtn=function(){var e=this;p.platformAPI.EndRecorder();var n=new g(r.货币,0,c.体力);n.use(m.PlayGame_Stamina)?this.RestartGame():(M.AddMessage("体力不足"),G.isReview||d.Instance.ShowVideoAds((function(){var t=new v(n,m.Max_Stamina-n.count);s.AddRewarwdList(t,{showPage:!1}),l.Instance.TrackEventByID(u.vit_video),n.use(m.PlayGame_Stamina)&&e.RestartGame()}))),I.PlayEffect(h.UIClick)},a.RestartGame=function(){o.gui.removeByNode(this.node),o.gui.remove(f.SetupPage),o.gui.remove(f.GameLevelScene),o.gui.open(f.GameLevelScene)},t}(i))||P);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/Ambilight.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,a,o,n,s,c,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,s=t._decorator,c=t.CCInteger,p=t.Sprite,l=t.Component}],execute:function(){var u,h,m,_,f;n._RF.push({},"aa0c0CXPuBEAoSAE3s7RSAX","Ambilight",void 0);var g=s.ccclass,y=s.property;n._RF.push({},"73c69GH9M9F2Ilsm0fvjTCX","Ambilight",void 0);t("Ambilight",(u=g("Ambilight"),h=y(c),u((f=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_max",f,a(e)),e._start=0,e._material=void 0,e}i(e,t);var n=e.prototype;return n.update=function(t){this._material=this.node.getComponent(p).getMaterial(0),this.node.active&&this._material&&this._setShaderTime(t)},n._setShaderTime=function(t){var e=this._start;e>this.max&&(e=0),e+=.015,this._material.setProperty("speed",e),this._start=e},o(e,[{key:"max",get:function(){return this._max},set:function(t){this._max=t}}]),e}(l)).prototype,"_max",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(_.prototype,"max",[h],Object.getOwnPropertyDescriptor(_.prototype,"max"),_.prototype),m=_))||m));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AndroidAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ToastMgr.ts","./BaseAPI.ts"],(function(a){var i,o,e,n,t,s,c;return{setters:[function(a){i=a.inheritsLoose},function(a){o=a.cclegacy,e=a._decorator,n=a.sys,t=a.native},function(a){s=a.ToastMgr},function(a){c=a.BaseAPI}],execute:function(){var d,r;o._RF.push({},"b00855b0s5HO5VPHSQ8fJvH","AndroidAPI",void 0);var l=e.ccclass;o._RF.push({},"bf0b8eKr01M5L11d4Z2TxnM","AndroidAPI",void 0);var u=a("AndroidAPI",l("AndroidAPI")(((r=function(a){function o(){return a.apply(this,arguments)||this}i(o,a);var e=o.prototype;return e.InitGame=function(){o.api=this,a.prototype.InitGame.call(this)},e.CallStaticJava=function(a,i,o){if(void 0===o&&(o="()V"),n.isNative&&n.os==n.OS.ANDROID){if(console.log("Ts开始调用Java",a,i),"()V"===o)return t.reflection.callStaticMethod(a,i,o);for(var e=arguments.length,s=new Array(e>3?e-3:0),c=3;c<e;c++)s[c-3]=arguments[c];return t.reflection.callStaticMethod(a,i,o,s)}console.log("非原生平台，不调用JAVA")},o.CallByNative=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];console.log("\bJava调用Ts",i)},o.ShowFloatMessage=function(a){s.AddMessage(a)},e.InitVideoAds=function(a){},e.LoadVideoAds=function(){this.CallStaticJava("com/cocos/game/AdsManager","LoadVideoAds")},e.ShowVideoAds=function(a,i,o){this.videoRewardSuccess=a,this.videoRewardFail=i,this.videoRewardCancel=o,this.CallStaticJava("com/cocos/game/AdsManager","ShowVideoAds")},o.VideoRewardSuccess=function(){console.log("激励广告游戏奖励"),o.api.isPlayingAds=!1,o.api.videoRewardSuccess&&o.api.videoRewardSuccess()},o.VideoRewardFail=function(){console.log("激励广告加载失败"),o.api.isPlayingAds=!1,o.api.videoRewardFail&&o.api.videoRewardFail()},o.VideoRewardCancel=function(){console.log("激励广告未观看完毕"),o.api.isPlayingAds=!1,o.api.videoRewardCancel&&o.api.videoRewardCancel()},e.InitBanner=function(a){},e.ShowBanner=function(){this.CallStaticJava("com/cocos/game/AdsManager","ShowBanner")},e.HideBanner=function(){this.CallStaticJava("com/cocos/game/AdsManager","HideBanner")},e.InitInterstitial=function(a){},e.ShowInterstitial=function(){this.CallStaticJava("com/cocos/game/AdsManager","ShowInterstitial")},o}(c)).api=void 0,d=r))||d);window.AndroidAPI=u,o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){var i,n,a,s,o;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){o=t.default}],execute:function(){var e;n._RF.push({},"0f730zUo7lBVbCndWLDkQse","AnimatorAnimation",void 0);var h=a.ccclass,r=a.requireComponent,m=a.disallowMultiple,p=a.menu,l=a.help;n._RF.push({},"64571Qy/TlCEZI/28RxIG+E","AnimatorAnimation",void 0);t("default",h(e=m(e=r(s)(e=p("OopsFramework/Animator/AnimatorAnimation （动画状态机）")(e=l("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(e=function(t){function n(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this)._animation=null,i._animState=null,i._wrapModeMap=new Map,i}i(n,t);var a=n.prototype;return a.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.playAnimation=function(t,i){t&&(this._animation.play(t),this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:this._wrapModeMap.get(this._animState)))},a.scaleTime=function(t){this._animState&&(this._animState.speed=t)},n}(o))||e)||e)||e)||e)||e);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorController.ts"],(function(t){var a,n,e,i,o,r,s,c,u,l;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.JsonAsset,u=t.Component},function(t){l=t.default}],execute:function(){var p,h,m,f,g,_,y,A,d,b;r._RF.push({},"9c9873iAMRHPZpq8opBQz26","AnimatorBase",void 0);var v=s.ccclass,S=s.property,C=s.executionOrder,B=s.menu;r._RF.push({},"7ff14NOug1NAIB1XgQlC9Gc","AnimatorBase",void 0);t("default",(p=C(-1e3),h=B("animator/AnimatorBase"),m=S({type:c,tooltip:"状态机json文件"}),f=S({tooltip:"是否在start中自动启动状态机"}),g=S({tooltip:"是否在update中自动触发状态机逻辑更新"}),v(_=p(_=h((A=a((y=function(t){function a(){for(var a,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return a=t.call.apply(t,[this].concat(o))||this,e(a,"AssetRawUrl",A,i(a)),e(a,"PlayOnStart",d,i(a)),e(a,"AutoUpdate",b,i(a)),a._hasInit=!1,a._ac=null,a._stateLogicMap=null,a._onStateChangeCall=null,a._animationPlayer=null,a}n(a,t);var r=a.prototype;return r.onFrameEvent=function(t){var a;null==(a=this._animationPlayer)||a.onFrameEventCallback(t,this)},r.getState=function(t){return this._ac.states.get(t)},r.onInit=function(){},r.initArgs=function(){for(var t=this,a=arguments.length,n=new Array(a),e=0;e<a;e++)n[e]=arguments[e];n.forEach((function(a){a&&("function"==typeof a?t._onStateChangeCall=a:"object"==typeof a&&(a instanceof Map?t._stateLogicMap=a:t._animationPlayer=a))}))},r.updateAnimator=function(){var t,a=this._ac.curState.speed;this._ac.curState.multi&&(a*=null!=(t=this._ac.params.getNumber(this._ac.curState.multi))?t:1);if(this.scaleTime(a),this._stateLogicMap){var n=this._stateLogicMap.get(this._ac.curState.name);n&&n.onUpdate()}this._ac.updateAnimator()},r.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},r.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},r.initJson=function(t){this._ac=new l(this,t)},r.onAnimFinished=function(){var t;this._ac.onAnimationComplete(),null==(t=this._animationPlayer)||t.onFinishedCallback(this)},r.playAnimation=function(t,a){},r.scaleTime=function(t){},r.onStateChange=function(t,a){this.playAnimation(a.motion,a.loop);var n=t?t.name:"";if(this._stateLogicMap){var e=this._stateLogicMap.get(n);e&&e.onExit();var i=this._stateLogicMap.get(a.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,a.name)},r.setBool=function(t,a){this._ac.params.setBool(t,a)},r.getBool=function(t){return 0!==this._ac.params.getBool(t)},r.setNumber=function(t,a){this._ac.params.setNumber(t,a)},r.getNumber=function(t){return this._ac.params.getNumber(t)},r.setTrigger=function(t){this._ac.params.setTrigger(t)},r.resetTrigger=function(t){this._ac.params.resetTrigger(t)},r.autoTrigger=function(t){this._ac.params.autoTrigger(t)},r.play=function(t){this._hasInit&&this._ac.play(t)},o(a,[{key:"curStateName",get:function(){return this._ac.curState.name}},{key:"curStateMotion",get:function(){return this._ac.curState.motion}}]),a}(u)).prototype,"AssetRawUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=a(y.prototype,"PlayOnStart",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=a(y.prototype,"AutoUpdate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=y))||_)||_)||_));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCondition.ts",["cc"],(function(t){var a,r;return{setters:[function(t){a=t.cclegacy,r=t.error}],execute:function(){a._RF.push({},"771efJfko9DX4yqRIOoio5q","AnimatorCondition",void 0),a._RF.push({},"8ade2h2C/ZA86thhI0NNuqu","AnimatorCondition",void 0);var e=t("ParamType",function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER",t}({})),i=t("LogicType",function(t){return t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL",t}({}));t("default",function(){function t(t,a){this._ac=void 0,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=a,this._param=t.param,this._value=t.value,this._logic=t.logic}var a=t.prototype;return a.getParamName=function(){return this._param},a.getParamType=function(){return this._ac.params.getParamType(this._param)},a.check=function(){var t=this.getParamType();if(t===e.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==e.NUMBER)return t===e.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===e.TRIGGER?0!==this._ac.params.getTrigger(this._param):(r("[AnimatorCondition.check] 错误的type: "+t),!1);var a=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return a===this._value;case i.NOTEQUAL:return a!==this._value;case i.GREATER:return a>this._value;case i.LESS:return a<this._value;case i.GREATER_EQUAL:return a>=this._value;case i.LESS_EQUAL:return a<=this._value;default:return!1}},t}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorParams.ts","./AnimatorState.ts"],(function(t){var e,a,n,i,s;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,n=t.error},function(t){i=t.default},function(t){s=t.default}],execute:function(){a._RF.push({},"32a37tJvzxFlakibNw3DSi5","AnimatorController",void 0),a._RF.push({},"01df9SMBjRCyYDE7SgbZxua","AnimatorController",void 0);t("default",function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new i(e.parameters),this.init(e)}var a=t.prototype;return a.init=function(t){if(t.states.length<=0)n("[AnimatorController.init] 状态机json错误");else{var e=t.defaultState;this._anyState=new s(t.anyState,this);for(var a=0;a<t.states.length;a++){var i=new s(t.states[a],this);this._states.set(i.name,i)}this.changeState(e)}},a.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},a.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},a.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},a.play=function(t){this._states.has(t)&&this._curState.name!==t&&(this.animComplete=!1,this.changeState(t))},a.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)n("[AnimatorController.changeState] error: 状态切换递归调用超过1000次，transition设置可能出错!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)n("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},e(t,[{key:"curState",get:function(){return this._curState}},{key:"params",get:function(){return this._params}},{key:"states",get:function(){return this._states}}]),t}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCustomization.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(i){var t,n,a,e,o,r,s;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator},function(i){s=i.default}],execute:function(){var l,c,u,p,m,h;o._RF.push({},"ca3d9rbnO5EwaNlZ53kRKS9","AnimatorCustomization",void 0);var f=r.ccclass,y=r.property,d=r.disallowMultiple,_=r.menu,A=r.help;o._RF.push({},"fe7aemTdvFBeJlAmC+6XphU","AnimatorCustomization",void 0);i("default",(l=_("OopsFramework/Animator/AnimatorCustomization （自定义状态机）"),c=A("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),u=y({override:!0,visible:!1}),f(p=d(p=l(p=c((h=t((m=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,a(t,"PlayOnStart",h,e(t)),t}n(t,i);var o=t.prototype;return o.onInit=function(){this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.playAnimation=function(i,t){this._animationPlayer&&i&&this._animationPlayer.playAnimation(i,t)},o.scaleTime=function(i){this._animationPlayer&&this._animationPlayer.scaleTime(i)},t}(s)).prototype,"PlayOnStart",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=m))||p)||p)||p)||p));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorDragonBones.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){var n,s,i,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,o=t.dragonBones},function(t){e=t.default}],execute:function(){var a;s._RF.push({},"b86d6BfJ/pOs7frniFuOe2e","AnimatorDragonBones",void 0);var r=i.ccclass,h=i.requireComponent,l=i.disallowMultiple,u=i.menu,c=i.help;s._RF.push({},"dc324J03ptB8b2JV9Ljduzh","AnimatorDragonBones",void 0);t("default",r(a=l(a=h(o.ArmatureDisplay)(a=u("OopsFramework/Animator/AnimatorDragonBones （龙骨状态机）")(a=c("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(a=function(t){function s(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._dragonBones=null,n}n(s,t);var i=s.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(o.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._dragonBones=this.getComponent(o.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.playAnimation=function(t,n){t&&this._dragonBones.playAnimation(t,n?0:-1)},i.scaleTime=function(t){t>0&&(this._dragonBones.timeScale=t)},s}(e))||a)||a)||a)||a)||a);s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorParams.ts",["cc","./AnimatorCondition.ts"],(function(t){var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.ParamType}],execute:function(){a._RF.push({},"1aa15RHh/VOO5fShGk8PGLD","AnimatorParams",void 0),a._RF.push({},"13926xryDRPXJ50lCnLvy4J","AnimatorParams",void 0);t("default",function(){function t(t){var a=this;this._paramMap=new Map,t.forEach((function(t){var e={type:t.type,value:t.init};a._paramMap.set(t.param,e)}))}var a=t.prototype;return a.getParamType=function(t){var a=this._paramMap.get(t);return a?a.type:null},a.setNumber=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.NUMBER&&(r.value=a)},a.setBool=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.BOOLEAN&&(r.value=a?1:0)},a.setTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=1)},a.resetTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=0)},a.autoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=1)},a.resetAutoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=0)},a.resetAllAutoTrigger=function(){this._paramMap.forEach((function(t){t.type===e.AUTO_TRIGGER&&(t.value=0)}))},a.getNumber=function(t){var a=this._paramMap.get(t);return a&&a.type===e.NUMBER?a.value:0},a.getBool=function(t){var a=this._paramMap.get(t);return a&&a.type===e.BOOLEAN?a.value:0},a.getTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.TRIGGER?a.value:0},a.getAutoTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.AUTO_TRIGGER?a.value:0},t}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSkeletal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorAnimation.ts"],(function(t){var i,e,a,o,r,n,s,l,c,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,s=t.SkeletalAnimation,l=t.CCFloat,c=t.game},function(t){p=t.default}],execute:function(){var u,m,h,d,_,f,S,k;r._RF.push({},"f2fe5FVI7tOr7GmUrXkw7L6","AnimatorSkeletal",void 0);var y=n.ccclass,A=n.property,w=n.requireComponent,g=n.disallowMultiple,v=n.menu,F=n.help;r._RF.push({},"8c545jBn4xF7LWXjl506avi","AnimatorSkeletal",void 0);t("AnimatorSkeletal",(u=y("AnimatorSkeletal"),m=w(s),h=v("OopsFramework/Animator/AnimatorSkeletal （骨骼动画状态机）"),d=F("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),_=A({type:l,tooltip:"动画切换过度时间"}),u(f=g(f=m(f=h(f=d((k=i((S=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i=t.call.apply(t,[this].concat(r))||this,a(i,"duration",k,o(i)),i.cross_duration=0,i.current_time=0,i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.cross_duration=1e3*this.duration},r.playAnimation=function(t,i){t&&(c.totalTime-this.current_time>this.cross_duration?this._animation.crossFade(t,this.duration):this._animation.play(t),this.current_time=c.totalTime,this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:1))},i}(p)).prototype,"duration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),f=S))||f)||f)||f)||f)||f));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(e){var t,n,i,s,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,s=e.sp},function(e){o=e.default}],execute:function(){var a;n._RF.push({},"601d3gl7eJFfb1ggiRoAOpA","AnimatorSpine",void 0);var r=i.ccclass,p=i.requireComponent,l=i.disallowMultiple,h=i.menu,c=i.help;n._RF.push({},"7fde8yJEfxMMqzjg+V4UVkT","AnimatorSpine",void 0);e("default",r(a=l(a=p(s.Skeleton)(a=h("OopsFramework/Animator/AnimatorSpine（Spine 状态机）")(a=c("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(a=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this)._spine=null,t._completeListenerMap=new Map,t._secondaryListenerMap=new Map,t}t(n,e);var i=n.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.getBone=function(e){return this._spine.findBone(e)},i.onSpineEvent=function(e,t){var n,i=e.animation?t.data.name:"";null==(n=this._animationPlayer)||n.onFrameEventCallback(i,this)},i.onSpineComplete=function(e){0===e.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach((function(t,n){t?n.call(t,e):n(e)})),this._secondaryListenerMap.forEach((function(t,n){e.trackIndex===t.TrackIndex&&n.call(t,e)}))},i.playAnimation=function(e,t){e?this._spine.setAnimation(0,e,t):this._spine.clearTrack(0)},i.scaleTime=function(e){e>0&&(this._spine.timeScale=e)},i.addSecondaryListener=function(e,t){this._secondaryListenerMap.set(e,t)},i.addCompleteListener=function(e,t){void 0===t&&(t=null),this._completeListenerMap.has(e)||this._completeListenerMap.set(e,t)},i.removeCompleteListener=function(e){this._completeListenerMap.delete(e)},i.clearCompleteListener=function(){this._completeListenerMap.clear()},n}(o))||a)||a)||a)||a)||a);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpineSecondary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorSpine.ts","./AnimatorBase.ts"],(function(t){var i,n,e,s,o,a,r,h,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.sp},function(t){h=t.default},function(t){c=t.default}],execute:function(){var p,l,u,d,m,_,f;o._RF.push({},"2a245YcPzFGtKsnjMq0AGag","AnimatorSpineSecondary",void 0);var y=a.ccclass,A=a.property,S=a.requireComponent,g=a.menu,k=a.help;o._RF.push({},"e47112s9c9Kwo8XQQ4KSW0c","AnimatorSpineSecondary",void 0);t("default",(p=S(r.Skeleton),l=g("OopsFramework/Animator/AnimatorSpine （Spine 次状态机）"),u=k("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),d=A({tooltip:"动画播放的trackIndex，必须大于0"}),y(m=p(m=l(m=u((f=i((_=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"TrackIndex",f,s(i)),i._main=null,i._spine=null,i}n(i,t);var o=i.prototype;return o.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(r.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(r.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.playAnimation=function(t,i){t?this._spine.setAnimation(this.TrackIndex,t,i):this._spine.clearTrack(this.TrackIndex)},i}(c)).prototype,"TrackIndex",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=_))||m)||m)||m)||m));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorTransition.ts"],(function(t){var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){n._RF.push({},"9cb30vEtvhPHq9bNGe1rG4/","AnimatorState",void 0),n._RF.push({},"bd2d1/E71JL1Jj3HzsYH82H","AnimatorState",void 0);t("default",function(){function t(t,i){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=i;for(var n=0;n<t.transitions.length;n++){var s=new e(t.transitions[n],i);s.isValid()&&this._transitions.push(s)}}return t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var i=this._transitions[t];if(i&&i.check())return void i.doTrans()}},i(t,[{key:"name",get:function(){return this._name}},{key:"motion",get:function(){return this._motion}},{key:"loop",get:function(){return this._loop}},{key:"multi",get:function(){return this._multi}},{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t}}]),t}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorStateLogic.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"be72dwBq8tOYYT2rDi9mEDx","AnimatorStateLogic",void 0),n._RF.push({},"b06fbd3UdNKvooAUeDi9UTc","AnimatorStateLogic",void 0);t("AnimatorStateLogic",function(){function t(){}var n=t.prototype;return n.onEntry=function(){},n.onUpdate=function(){},n.onExit=function(){},t}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorTransition.ts",["cc","./AnimatorCondition.ts"],(function(t){var i,n,a;return{setters:[function(t){i=t.cclegacy},function(t){n=t.ParamType,a=t.default}],execute:function(){i._RF.push({},"92c24Hz2KFA7Jj9y140jz4R","AnimatorTransition",void 0),i._RF.push({},"39224xRIkpEG7hvPJlKoGDy","AnimatorTransition",void 0);t("default",function(){function t(t,i){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=i;for(var n=0;n<t.conditions.length;n++){var e=new a(t.conditions[n],i);this._conditions.push(e)}}var i=t.prototype;return i.isValid=function(){return this._hasExitTime||this._conditions.length>0},i.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},i.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var i=this._conditions[t].getParamType(),a=this._conditions[t].getParamName();i===n.TRIGGER?this._ac.params.resetTrigger(a):i===n.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(a)}this._ac.changeState(this._toStateName)},t}());i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/ArchiveBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts"],(function(e){var t,s,a,i,r;return{setters:[function(e){t=e.extends},function(e){s=e.cclegacy,a=e._decorator},function(e){i=e.oops},function(e){r=e.GameEvent}],execute:function(){var n;s._RF.push({},"e358blqg/tLZLI11jkZh4Fb","ArchiveBase",void 0);var o=a.ccclass;s._RF.push({},"4da3fLBphlO9IC8U5YdEygp","ArchiveBase",void 0);e("ArchiveBase",o("ArchiveBase")(n=function(){function e(){this.key="",this.defaultData={},this.data=this.defaultData,this.data=JSON.parse(JSON.stringify(this.defaultData))}var s=e.prototype;return s.InitArchive=function(){this.Load(),i.message.on(r.DailyRefresh,this.DailyRefresh,this),i.message.on(r.WeeklyRefresh,this.WeeklyRefresh,this),i.message.on(r.MonthlyRefresh,this.MonthlyRefresh,this)},s.DailyRefresh=function(){},s.WeeklyRefresh=function(){},s.MonthlyRefresh=function(){},s.Load=function(){var e=i.storage.getJson(this.key,this.defaultData);this.data=this.DeepMerge(this.defaultData,e),console.log("加载存档_",this.key,"：\n",this.data)},s.Save=function(){i.storage.set(this.key,this.data),console.log(this.key,"_保存：",this.data)},s.DeepMerge=function(e,s){if("object"!=typeof e||"object"!=typeof s)return s;if(Array.isArray(e))return Array.isArray(s)?[].concat(s):Array.isArray(e)?[].concat(e):[];var a=t({},e);for(var i in s)s.hasOwnProperty(i)&&(a[i]=this.DeepMerge(e[i],s[i]));return a},e}())||n);s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ArchiveManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./Oops.ts","./Tool.ts","./GameEvent.ts","./GameLevelArchive.ts","./ItemArchive.ts","./MoreGameArchive.ts","./PlatformArchive.ts","./SignInArchive.ts","./StateArchive.ts","./TurntableArchive.ts","./UmengArchive.ts","./UserArchive.ts"],(function(e){var t,n,i,r,s,a,c,h,o,u,v,f,l,m,g,A;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e._decorator},function(e){r=e.EventMessage},function(e){s=e.oops},function(e){a=e.default},function(e){c=e.GameEvent},function(e){h=e.GameLevelArchive},function(e){o=e.ItemArchive},function(e){u=e.MoreGameArchive},function(e){v=e.PlatformArchive},function(e){f=e.SignInArchive},function(e){l=e.StateArchive},function(e){m=e.TurntableArchive},function(e){g=e.UmengArchive},function(e){A=e.UserArchive}],execute:function(){var d,D;n._RF.push({},"dd83bZAhh9B5J2R62huE48l","ArchiveManager",void 0);var R=i.ccclass;n._RF.push({},"8b5c5aDDvRNyqzH98o0gX3v","ArchiveManager",void 0);e("ArchiveManager",R("ArchiveManager")(((D=function(){function e(){this.refreshTimer=void 0}var n=e.prototype;return n.InitArchive=function(){if(e.user.InitArchive(),""==e.user.data.userGUID){s.storage.clear(),e.user.Load();var t=a.GenerateGUID();console.log("重新生成用户GUID:",t),e.user.data.userGUID=t,e.user.Save()}e.platform.InitArchive(),e.item.InitArchive(),e.state.InitArchive(),e.signin.InitArchive(),e.gameLevel.InitArchive(),e.moreGame.InitArchive(),e.turntable.InitArchive(),g.Instance.InitArchive(),this.InitRefreshArchive()},n.InitRefreshArchive=function(){var e=this;this.CheckRefresh(),this.ScheduleNextRefresh(),document.addEventListener("visibilitychange",(function(){document.hidden||(e.CheckRefresh(),e.ScheduleNextRefresh())})),s.message.on(r.GAME_SHOW,(function(){e.CheckRefresh(),e.ScheduleNextRefresh()}),this)},n.ScheduleNextRefresh=function(){var e=this;this.refreshTimer&&clearTimeout(this.refreshTimer);var t=this.calculateMsToNextDay(),n=1e4*Math.random();this.refreshTimer=setTimeout((function(){e.CheckRefresh(),e.ScheduleNextRefresh()}),t+n)},n.calculateMsToNextDay=function(){var e=new Date,t=new Date(e);return t.setDate(e.getDate()+1),t.setHours(0,0,0,0),t.getTime()-e.getTime()},n.CheckRefresh=function(){var t=e.state.data.lastLoginTime,n=Date.now(),i=new Date,r=new Date(i);r.setHours(0,0,0,0),t<r.getTime()&&(this.executeRefresh(t,r),e.state.data.lastLoginTime=n,e.state.Save())},n.executeRefresh=function(e,t){var n=new Date(t);n.setDate(t.getDate()-t.getDay()+1),0===t.getDay()&&n.setDate(n.getDate()-7);var i=new Date(t);i.setDate(1),console.log("每日刷新"),s.message.dispatchEvent(c.DailyRefresh),e<n.getTime()&&(console.log("每周刷新"),s.message.dispatchEvent(c.WeeklyRefresh)),e<i.getTime()&&(console.log("每月刷新"),s.message.dispatchEvent(c.MonthlyRefresh))},t(e,null,[{key:"Instance",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=void 0,D.platform=new v,D.user=new A,D.item=new o,D.state=new l,D.gameLevel=new h,D.signin=new f,D.moreGame=new u,D.turntable=new m,d=D))||d);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayExt.ts",["cc"],(function(){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"8699aV1XelEBZm8QiGQ8eNQ","ArrayExt",void 0),t._RF.push({},"2696fVV0U1BcotwtuSW7qe9","ArrayExt",void 0),Array.prototype.__cc_extended||Object.defineProperties(Array.prototype,{remove:{value:function(t){if("function"==typeof t)for(var r=this.length-1;r>-1;--r)t(this[r],r,this)&&this.splice(r,1);else for(var n=this.length-1;n>-1;--n)this[n]===t&&this.splice(n,1);return this}},removeOne:{value:function(t){if("function"==typeof t){for(var r=0;r<this.length;++r)if(t(this[r],r,this))return this.splice(r,1),this}else for(var n=0;n<this.length;++n)if(this[n]===t)return this.splice(n,1),this;return this}},random:{value:function(){return this[Math.floor(Math.random()*this.length)]}},fastRemoveAt:{value:function(t){var r=this.length;if(t<0||t>=r)return null;var n=this[t];return this[t]=this[r-1],this.length=r-1,n}},fastRemove:{value:function(t){var r=this.indexOf(t);return r>=0&&(this[r]=this[this.length-1],--this.length,!0)}},first:{value:function(){return this.length?this[0]:null}},last:{value:function(){return this.length?this[this.length-1]:null}},max:{value:function(t){if(!this.length)return null;if("function"==typeof t){for(var r=t(this[0],0,this),n=1;n<this.length;++n){var e=t(this[n],n,this);r=e>r?e:r}return r}return this.reduce((function(t,r){return t>r?t:r}))}},min:{value:function(t){if(!this.length)return null;if("function"==typeof t){for(var r=t(this[0],0,this),n=1;n<this.length;++n){var e=t(this[n],n,this);r=e<r?e:r}return r}return this.reduce((function(t,r){return t<r?t:r}))}},distinct:{value:function(){return this.filter((function(t,r,n){return n.indexOf(t)===r}))}},filterIndex:{value:function(t){for(var r=[],n=0;n<this.length;++n)t(this[n],n,this)&&r.push(n);return r}},count:{value:function(t){for(var r=0,n=0;n<this.length;++n)t(this[n],n,this)&&++r;return r}},sum:{value:function(t){for(var r=0,n=0;n<this.length;++n)r+=t?t(this[n],n,this):this[n];return r}},average:{value:function(t){return this.sum(t)/this.length}},orderBy:{value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.slice().sort((function(t,n){for(var e=0;e<r.length;++e){var i=r[e](t),u=r[e](n);if(i>u)return 1;if(i<u)return-1}return 0}))}},orderByDesc:{value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.slice().sort((function(t,n){for(var e=0;e<r.length;++e){var i=r[e](t),u=r[e](n);if(i>u)return-1;if(i<u)return 1}return 0}))}},binarySearch:{value:function(t,r){for(var n=0,e=this.length-1;n<=e;){var i=(e+n)/2|0,u=r?r(this[i]):this[i];if(t===u)return i;t>u?n=i+1:e=i-1}return-1}},binaryInsert:{value:function(t,r,n){"boolean"==typeof r&&(n=r,r=void 0);for(var e=0,i=this.length-1,u=NaN,h=r?r(t):t;e<=i;){u=(i+e)/2|0;var s=r?r(this[u]):this[u];if(h===s){if(n)return u;break}h>s?e=u+1:i=u-1}var f=e>u?u+1:u;return this.splice(f,0,t),f}},binaryDistinct:{value:function(t){return this.filter((function(r,n,e){return e.binarySearch(r,t)===n}))}},findLast:{value:function(t){for(var r=this.length-1;r>-1;--r)if(t(this[r],r,this))return this[r]}},findLastIndex:{value:function(t){for(var r=this.length-1;r>-1;--r)if(t(this[r],r,this))return r;return-1}},groupBy:{value:function(t){var r=this.reduce((function(r,n){var e=t(n);return r[e]||(r[e]=[]),r[e].push(n),r}),{});return Object.keys(r).map((function(t){var n=r[t];return n.key=t,n}))}},__cc_extended:{value:!0}}),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"77486YPJVlGDYT+pMZhgg9t","ArrayUtil",void 0),n._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);r("ArrayUtil",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var o=!1,e=0;e<n.length;e++)if(r[t]==n[e]){o=!0;break}o||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),o=r[n];r[n]=r[t],r[t]=o}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeItem=function(r,n){for(var t=r.concat(),o=0;o<t.length;o++)if(n==t[o]){r.splice(o,1);break}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var n,i,e,u;return{setters:[function(s){n=s.createClass},function(s){i=s.cclegacy,e=s.warn,u=s.log}],execute:function(){i._RF.push({},"3a1f8hxswpIjbNMwu2uWtqK","AsyncQueue",void 0),i._RF.push({},"8c48bBN521JzIxhITJunFji","AsyncQueue",void 0),s("AsyncQueue",function(){function s(){this._runningAsyncTask=null,this._queues=[],this._isProcessingTaskUUID=0,this._enable=!0,this.complete=null}var i=s.prototype;return i.push=function(n,i){void 0===i&&(i=null);var e=s._$uuid_count++;return this._queues.push({uuid:e,callbacks:[n],params:i}),e},i.pushMulti=function(n){for(var i=s._$uuid_count++,e=arguments.length,u=new Array(e>1?e-1:0),t=1;t<e;t++)u[t-1]=arguments[t];return this._queues.push({uuid:i,callbacks:u,params:n}),i},i.remove=function(s){var n;if((null==(n=this._runningAsyncTask)?void 0:n.uuid)!==s){for(var i=0;i<this._queues.length;i++)if(this._queues[i].uuid===s){this._queues.splice(i,1);break}}else e("正在执行的任务不可以移除")},i.clear=function(){this._queues=[],this._isProcessingTaskUUID=0,this._runningAsyncTask=null},i.step=function(){this.isProcessing&&this.next(this._isProcessingTaskUUID)},i.play=function(s){var n=this;if(void 0===s&&(s=null),!this.isProcessing&&this._enable){var i=this._queues.shift();if(!i)return this._isProcessingTaskUUID=0,this._runningAsyncTask=null,void(this.complete&&this.complete(s));this._runningAsyncTask=i;var e=i.uuid;this._isProcessingTaskUUID=e;var u=i.callbacks;if(1===u.length)u[0]((function(s){void 0===s&&(s=null),n.next(e,s)}),i.params,s);else for(var t=u.length,r=[],c=function(s){void 0===s&&(s=null),--t,r.push(s||null),0===t&&n.next(e,r)},l=t,o=0;o<l;o++)u[o](c,i.params,s)}},i.yieldTime=function(s,n){void 0===n&&(n=null),this.push((function(i,e,u){var t=setTimeout((function(){clearTimeout(t),n&&n(),i(u)}),s)}),{des:"AsyncQueue.yieldTime"})},i.next=function(s,n){void 0===n&&(n=null),this._isProcessingTaskUUID===s?(this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.play(n)):this._runningAsyncTask&&u(this._runningAsyncTask)},s.excuteTimes=function(s,n){void 0===n&&(n=null);var i=s;return function(){0==--i&&n&&n()}},n(s,[{key:"queues",get:function(){return this._queues}},{key:"enable",get:function(){return this._enable},set:function(s){this._enable!==s&&(this._enable=s,s&&this.size>0&&this.play())}},{key:"size",get:function(){return this._queues.length}},{key:"isProcessing",get:function(){return this._isProcessingTaskUUID>0}},{key:"isStop",get:function(){return!(this._queues.length>0||this.isProcessing)}},{key:"runningParams",get:function(){return this._runningAsyncTask?this._runningAsyncTask.params:null}}]),s}())._$uuid_count=1,i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.AudioSource}],execute:function(){var i;e._RF.push({},"e7a23czdOpPwIUMv/mLkl7o","AudioEffect",void 0);var u=n.ccclass;e._RF.push({},"e52d2ysY1BEbpcT2Cz0Wwss","AudioEffect",void 0);o("AudioEffect",u("AudioEffect")(i=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=o.call.apply(o,[this].concat(n))||this).onComplete=null,t}t(e,o);var n=e.prototype;return n.start=function(){this.node.on(c.EventType.ENDED,this.onAudioEnded,this)},n.onAudioEnded=function(){this.onComplete&&this.onComplete()},e}(c))||i);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ResLoader.ts","./AudioEffect.ts"],(function(e){var t,n,o,s,i,r,c,u,f,a;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e.AudioClip,r=e.NodePool,c=e.Node},function(e){u=e.oops},function(e){f=e.resLoader},function(e){a=e.AudioEffect}],execute:function(){s._RF.push({},"f980bFgYwJO/Z/4dGj2NOQV","AudioEffectPool",void 0),s._RF.push({},"01278BDjrtCr4CBpmO5DZlN","AudioEffectPool",void 0);e("AudioEffectPool",function(){function e(){this._switch=!0,this._volume=1,this.pool=new r,this.effects=new Map,this.res=new Map,this._aeId=0}var s=e.prototype;return s.getAeId=function(){return 3e4===this._aeId&&(this._aeId=1),this._aeId++,this._aeId},s.load=function(){var e=n(o().mark((function e(t,s,r){var p=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=f.defaultBundleName),e.abrupt("return",new Promise(n(o().mark((function e(n){var h,l,d,v,_;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.switch){e.next=2;break}return e.abrupt("return",n(-1));case 2:if(!(t instanceof i)){e.next=6;break}h=t,e.next=12;break;case 6:if(h=f.get(t,i,s)){e.next=12;break}return p.res.set(s,t),e.next=11,f.loadAsync(s,t,i);case 11:h=e.sent;case 12:if(h.isValid){e.next=15;break}return n(-1),e.abrupt("return");case 15:l=p.getAeId(),d=t instanceof i?t.uuid:s+"_"+t,d+="_"+l,0===p.pool.size()?((v=new c).name="AudioEffect",v.parent=u.audio.node,_=v.addComponent(a)):(v=p.pool.get(),_=v.getComponent(a)),_.onComplete=function(){p.put(l,t,s),r&&r()},p.effects.set(d,_),_.volume=p.volume,_.clip=h,_.play(),n(l);case 25:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.put=function(e,t,n){void 0===n&&(n=f.defaultBundleName);var o=t instanceof i?t.uuid:n+"_"+t;o+="_"+e;var s=this.effects.get(o);s&&s.clip&&(this.effects.delete(o),s.stop(),this.pool.put(s.node))},s.release=function(){this.effects.forEach((function(e){e.node.destroy()})),this.effects.clear(),this.res.forEach((function(e,t){f.release(t,e)})),this.pool.clear()},s.stop=function(){this.effects.forEach((function(e){e.stop()}))},s.play=function(){this.switch&&this.effects.forEach((function(e){e.play()}))},s.pause=function(){this.switch&&this.effects.forEach((function(e){e.pause()}))},t(e,[{key:"switch",get:function(){return this._switch},set:function(e){this._switch=e,e&&this.stop()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.effects.forEach((function(t){t.volume=e}))}}]),e}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AudioEffectPool.ts","./AudioMusic.ts"],(function(t){var s,i,e,c,u,o,n;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,c=t.Component},function(t){u=t.oops},function(t){o=t.AudioEffectPool},function(t){n=t.AudioMusic}],execute:function(){e._RF.push({},"ac0f0JsMvFBo75ASdAi4rOQ","AudioManager",void 0),e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","AudioManager",void 0);var h="game_audio";t("AudioManager",function(t){function e(){for(var s,i=arguments.length,e=new Array(i),c=0;c<i;c++)e[c]=arguments[c];return(s=t.call.apply(t,[this].concat(e))||this).music=null,s.effect=new o,s.local_data={},s}s(e,t);var c=e.prototype;return c.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},c.playMusic=function(t,s,i){this.music.switch&&(this.music.loop=!1,this.music.load(t,s,i).then())},c.playMusicLoop=function(t,s){this.music.switch&&(this.music.loop=!0,this.music.load(t,null,s).then())},c.stopMusic=function(){this.music.switch&&this.music.playing&&this.music.stop()},c.playEffect=function(t,s,i){return this.effect.load(t,s,i)},c.putEffect=function(t,s,i){this.effect.put(t,s,i)},c.resumeAll=function(){!this.music.playing&&this.music.progress>0&&this.music.play(),this.effect.play()},c.pauseAll=function(){this.music.playing&&this.music.pause(),this.effect.pause()},c.stopAll=function(){this.music.stop(),this.effect.stop()},c.save=function(){this.local_data.volume_music=this.music.volume,this.local_data.volume_effect=this.effect.volume,this.local_data.switch_music=this.music.switch,this.local_data.switch_effect=this.effect.switch,u.storage.set(h,this.local_data)},c.load=function(){if(this.music=this.getComponent(n)||this.addComponent(n),this.local_data=u.storage.getJson(h),this.local_data)try{this.setState()}catch(t){this.setStateDefault()}else this.setStateDefault()},c.setState=function(){this.music.volume=this.local_data.volume_music,this.effect.volume=this.local_data.volume_effect,this.music.switch=this.local_data.switch_music,this.effect.switch=this.local_data.switch_effect},c.setStateDefault=function(){this.local_data={},this.music.volume=1,this.effect.volume=1,this.music.switch=!0,this.effect.switch=!0},i(e,[{key:"progressMusic",get:function(){return this.music.progress},set:function(t){this.music.progress=t}},{key:"volumeMusic",get:function(){return this.music.volume},set:function(t){this.music.volume=t,this.save()}},{key:"switchMusic",get:function(){return this.music.switch},set:function(t){this.music.switch=t,t||this.music.stop(),this.save()}},{key:"volumeEffect",get:function(){return this.effect.volume},set:function(t){this.effect.volume=t,this.save()}},{key:"switchEffect",get:function(){return this.effect.switch},set:function(t){this.effect.switch=t,t||this.effect.stop(),this.save()}}]),e}(c));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(t){var e,i,n,s,r,o,u,a,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass,n=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator,u=t.AudioSource,a=t.AudioClip},function(t){c=t.resLoader}],execute:function(){var l;r._RF.push({},"bee43yH43ZPopVTlbgFw7Lj","AudioMusic",void 0);var h=o.ccclass;r._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);t("AudioMusic",h("AudioMusic")(l=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).switch=!0,e.onComplete=null,e._progress=0,e._isLoading=!1,e._nextBundleName=null,e._nextUrl=null,e}e(r,t);var o=r.prototype;return o.start=function(){this.node.on(u.EventType.ENDED,this.onAudioEnded,this)},o.onAudioEnded=function(){this.onComplete&&this.onComplete()},o.load=function(){var t=n(s().mark((function t(e,i,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=c.defaultBundleName),!this._isLoading){t.next=5;break}return this._nextBundleName=n,this._nextUrl=e,t.abrupt("return");case 5:return this._isLoading=!0,t.next=8,c.loadAsync(n,e,a);case 8:(r=t.sent)&&(this._isLoading=!1,null!=this._nextUrl?(this.load(this._nextUrl,i,this._nextBundleName),this._nextBundleName=this._nextUrl=null):(i&&i(),this.playing&&this.stop(),this.release(),this.clip=r,this.play()));case 10:case"end":return t.stop()}}),t,this)})));return function(e,i,n){return t.apply(this,arguments)}}(),o.release=function(){this.clip&&(this.stop(),this.clip.decRef(),this.clip=null)},i(r,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),r}(u))||l);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/AutoPlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts","./PlaceItemIdle.ts"],(function(t){var e,o,n,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.ecs},function(t){r=t.NodeComp},function(t){c=t.PlaceItemIdleComp}],execute:function(){var u,a;o._RF.push({},"61636RaCVZMJ4yqdaDve+J1","AutoPlaceItem",void 0),o._RF.push({},"25464DoHQBKhaQIU6JW/Y/6","AutoPlaceItem",void 0);var l=t("AutoPlaceItemComp",n.register("AutoPlaceItem")(u=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).targetNode=null,e}return e(o,t),o.prototype.reset=function(){this.targetNode=null},o}(n.Comp))||u);t("AutoPlaceItemSystem",n.register("AutoPlaceItem")(a=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var u=o.prototype;return u.filter=function(){return n.allOf(l,r)},u.entityEnter=function(t){var e=t.get(l);e.targetNode?(t.remove(c),e.targetNode.PlaceItem(t)):t.remove(l)},o}(n.ComblockSystem))||a);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AwaitDelay.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1ca26VRoJVOfI1Xdu0I1SeF","AwaitDelay",void 0),e._RF.push({},"0a438cBwmJPYp0olfG9WY3Q","AwaitDelay",void 0);t("AwaitDelay",function(){function t(){}return t.WaitingTime=function(t){return new Promise((function(e){return setTimeout(e,1e3*t)}))},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./ToastMgr.ts"],(function(e){var t,n,o,r,i,s,a,c;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator,i=e.Vec2,s=e.View},function(e){a=e.PlatformType},function(e){c=e.ToastMgr}],execute:function(){var u;o._RF.push({},"46c86GLBABM1oDrubNLvbT3","BaseAPI",void 0);var d=r.ccclass;r.property;o._RF.push({},"493b3qHfIVIobJB76+wSG1R","BaseAPI",void 0);e("GridLocationType",function(e){return e[e["居中"]=0]="居中",e[e["左中"]=1]="左中",e[e["左上"]=2]="左上",e[e["左下"]=3]="左下",e[e["右中"]=4]="右中",e[e["右上"]=5]="右上",e[e["右下"]=6]="右下",e[e["底部居中"]=7]="底部居中",e}({})),e("BaseAPI",d("BaseAPI")(u=function(){function e(){this.platform=a.未知,this.api=void 0,this.sidebarEntry=!1,this.isShaderVideo=!1,this.isPlayingAds=!1,this.videoAd=void 0,this.bannerAd=void 0,this.interstitialAd=void 0,this.videoRewardSuccess=null,this.videoRewardFail=null,this.videoRewardCancel=null,this.recorder=void 0}var o=e.prototype;return o.InitGame=function(){console.log("初始化API完成")},o.ReportScene=function(){},o.GetWindowSize=function(){return new i(s.instance.getViewportRect().width,s.instance.getViewportRect().height)},o.Gamelogin=function(e,t){null==t||t()},o.PlatformPostRequest=function(){var e=t(n().mark((function e(t,o){var r,i,s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,console.log("开始调用网络接口：",t,"_",o),e.prev=2,"undefined"==typeof XMLHttpRequest){e.next=7;break}return console.log("网络请求使用：XMLHttpRequest"),console.log("准备请求地址：",t),e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var i="";for(var s in o)i&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(o[s]);r.onreadystatechange=function(){if(console.log("xhr.readyState="+r.readyState+", status="+r.status),4===r.readyState)if(200===r.status)try{var t=JSON.parse(r.responseText);e(t)}catch(e){console.error("解析失败：",e),n(new Error("响应数据解析错误: "+e))}else console.error("请求失败："+r.status+" - "+r.statusText),n(new Error("请求失败："+r.status+" "+r.statusText))},r.onerror=function(){console.error("发生网络错误！"),n(new Error("网络连接错误"))},r.timeout=1e4,r.ontimeout=function(){console.error("请求超时！"),n(new Error("请求超时"))};try{r.send(i)}catch(e){n(new Error("发送失败："+e))}})));case 7:if(!this.api||!this.api.request){e.next=10;break}return console.log("网络请求使用：request"),e.abrupt("return",new Promise((function(e,n){r.api.request({url:t,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:o,success:function(t){e(t.data)},fail:function(e){n(new Error("平台请求失败："+e.errMsg))}})})));case 10:for(s in console.log("网络请求使用：fetch"),i=new FormData,o)i.append(s,o[s]);return e.next=15,fetch(t,{method:"POST",body:i});case 15:if((a=e.sent).ok){e.next=18;break}throw new Error("HTTP回调错误： "+a.status);case 18:return e.next=20,a.json();case 20:return e.abrupt("return",e.sent);case 23:throw e.prev=23,e.t0=e.catch(2),new Error("PlatformRequest请求错误： "+e.t0);case 26:case"end":return e.stop()}}),e,this,[[2,23]])})));return function(t,n){return e.apply(this,arguments)}}(),o.PlatformGetRequest=function(){var e=t(n().mark((function e(t,o){var r,i,s,a,c,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o={}),r=this,console.log("开始调用网络接口（GET）：",t,"_",o),i=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")},s=t.endsWith(".txt")||t.endsWith(".log")||t.endsWith(".csv"),e.prev=5,"undefined"==typeof XMLHttpRequest){e.next=8;break}return e.abrupt("return",new Promise((function(e,n){var r=t,a=i(o);a&&(r+=(t.includes("?")?"&":"?")+a);var c=new XMLHttpRequest;c.open("GET",r,!0),c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status)try{e(s?c.responseText:JSON.parse(c.responseText))}catch(e){n(new Error("响应解析失败: "+e))}else n(new Error("请求失败："+c.status+" "+c.statusText))},c.onerror=function(){return n(new Error("网络错误"))},c.ontimeout=function(){return n(new Error("请求超时"))},c.timeout=1e4,c.send()})));case 8:if(!this.api||!this.api.request){e.next=10;break}return e.abrupt("return",new Promise((function(e,n){var s=t,a=i(o);a&&(s+=(t.includes("?")?"&":"?")+a),r.api.request({url:s,method:"GET",success:function(t){e(t.data)},fail:function(e){n(new Error("平台请求失败："+e.errMsg))}})})));case 10:return a=t,(c=new URLSearchParams(o).toString())&&(a+=(t.includes("?")?"&":"?")+c),e.next=15,fetch(a,{method:"GET"});case 15:if((u=e.sent).ok){e.next=18;break}throw new Error("HTTP错误："+u.status+" "+u.statusText);case 18:if(!s){e.next=22;break}return e.next=21,u.text();case 21:return e.abrupt("return",e.sent);case 22:return e.prev=22,e.next=25,u.json();case 25:return e.abrupt("return",e.sent);case 28:return e.prev=28,e.t0=e.catch(22),e.next=32,u.text();case 32:return e.abrupt("return",e.sent);case 33:e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(5),new Error("PlatformGetRequest请求错误："+e.t1);case 38:case"end":return e.stop()}}),e,this,[[5,35],[22,28]])})));return function(t,n){return e.apply(this,arguments)}}(),o.GetRankList=function(){},o.UploadScore=function(e,t){},o.GetIsCanRecorder=function(){return!!this.recorder},o.StartRecorder=function(){},o.PauseRecorder=function(){},o.ResumeRecorder=function(){},o.EndRecorder=function(){},o.ShareVideo=function(e,t,n){},o.ShareAppMessage=function(e,t){},o.InitVideoAds=function(e){var t=this;this.api?""!=e?(console.log("初始激励广告"),this.videoAd=this.api.createRewardedVideoAd({adUnitId:e}),console.log("创建videoAd完成",this.videoAd),console.log("监听激励广告onError"),this.videoAd.onError((function(e){console.log("激励广告错误:",e),t.isPlayingAds=!1,t.videoRewardFail&&t.videoRewardFail()})),console.log("监听激励广告onClose"),this.videoAd.onClose((function(e){e&&e.isEnded||void 0===e?(console.log("激励广告游戏奖励"),t.videoRewardSuccess&&t.videoRewardSuccess()):(console.log("播放中途退出，不下发游戏奖励"),t.videoRewardCancel&&t.videoRewardCancel()),t.isPlayingAds=!1,console.log("初始激励广告完成"),t.LoadVideoAds()})),this.LoadVideoAds()):console.log("激励广告ID为空"):console.log("当前渠道无API接口：",this.platform)},o.LoadVideoAds=function(){if(this.videoAd)try{console.log("开始加载激励广告"),this.videoAd.load().then((function(){console.log("激励广告加载成功")})).catch((function(){console.log("激励广告加载失败")}))}catch(e){console.log("广告加载错误:",e)}else console.log("请先初始激励广告")},o.ShowVideoAds=function(e,t,n){var o=this;this.videoAd?(console.log("调用激励广告"),this.videoRewardSuccess=e,this.videoRewardFail=t,this.videoRewardCancel=n,this.videoAd.show().then((function(){console.log("开始播放广告1"),o.isPlayingAds=!0})).catch((function(e){console.log("广告1播放失败",e),o.videoAd.load().then((function(){return o.videoAd.show().then((function(){console.log("开始播放广告2"),o.isPlayingAds=!0})).catch((function(e){console.error("激励视频 重新显示失败",e),c.AddMessage("广告加载中，3s后重试"),o.videoRewardFail&&o.videoRewardFail()}))})).catch((function(e){console.error("激励视频 重新加载失败",e),c.AddMessage("广告加载中，3s后重试"),o.videoRewardFail&&o.videoRewardFail()}))}))):console.log("请先初始激励广告")},o.InitBanner=function(e){var t=this;if(this.api)if(""!=e){console.log("初始横幅广告");var n=this.GetWindowSize(),o=n.x,r=o/320*50;this.bannerAd=this.api.createBannerAd({adUnitId:e,adIntervals:30,style:{left:(n.x-o)/2,top:n.y-r-10,width:o,height:r}}),this.bannerAd.onError((function(e){console.error("横幅广告错误:",e)})),this.bannerAd.onResize((function(e){console.log("横幅大小：",e.width,e.height),console.log("windowSize：",n),t.bannerAd.style.left=(n.x-e.width)/2,t.bannerAd.style.top=n.y-e.height+.1,console.log("bannerTop：",t.bannerAd.style.top)}))}else console.log("横幅广告ID为空");else console.log("当前渠道无API接口：",this.platform)},o.ShowBanner=function(){this.bannerAd?(console.log("调用横幅广告"),this.bannerAd.show().then((function(){console.log("横幅广告显示成功")})).catch((function(e){console.log("横幅广告组件出现问题",e)}))):console.log("请先初始横幅广告")},o.HideBanner=function(){this.bannerAd?this.bannerAd.hide():console.log("请先初始横幅广告")},o.InitInterstitial=function(e){this.api?""!=e?(console.log("初始插屏广告"),this.interstitialAd=this.api.createInterstitialAd({adUnitId:e})):console.log("插屏广告ID为空"):console.log("当前渠道无API接口：",this.platform)},o.ShowInterstitial=function(){this.interstitialAd?(console.log("调用插屏广告"),this.interstitialAd.show().catch((function(e){console.error("插屏广告显示失败",e)}))):console.log("请先初始插屏广告")},o.CheckEntryIsAvailable=function(e){void 0===e&&(e=function(){}),null==e||e(!1)},o.JumpToEntry=function(){},o.CheckDesktopIsAvailable=function(e){void 0===e&&(e=function(){}),null==e||e(!1)},o.AddToDesktop=function(e){},e}())||u);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(t){var e,r,i;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy},function(t){i=t.BTreeNode}],execute:function(){r._RF.push({},"d267aF01qpO24bDwj5A7sS7","BehaviorTree",void 0),r._RF.push({},"22a91RP3fNG/rWWAXlmM4BT","BehaviorTree",void 0);var s=0;t("BehaviorTree",function(){function t(t,e){this.title=void 0,this._root=void 0,this._current=void 0,this._started=!1,this._blackboard=void 0,s+=1,this.title=t.constructor.name+"(btree_"+s+")",this._root=t,this._blackboard=e}var r=t.prototype;return r.setObject=function(t){this._blackboard=t},r.run=function(){this._started&&console.error("行为树【"+this.title+"】未调用步骤，在最后一次调用步骤时有一个任务未完成"),this._started=!0;var e=t.getNode(this._root);this._current=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},r.running=function(t){this._started=!1},r.success=function(){this._current.end(this._blackboard),this._started=!1},r.fail=function(){this._current.end(this._blackboard),this._started=!1},t.register=function(t,e){this._registeredNodes.set(t,e)},t.getNode=function(t){var e=t instanceof i?t:this._registeredNodes.get(t);if(!e)throw new Error("无法找到节点【"+t+"】，可能它没有注册过");return e},e(t,[{key:"started",get:function(){return this._started}}]),t}())._registeredNodes=new Map,r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/BhvButtonGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,e,r,o,a,u,l,p,s,c,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,u=n.Enum,l=n.Button,p=n.SpriteFrame,s=n.EventHandler,c=n.Component,b=n.color}],execute:function(){var f,m,v,h,d,y,E,C,g,T,R,L,S,z,w,I,D,_,N,H,O,B,k,F,G,P,A,M,x,X,U;o._RF.push({},"11ae9tl72RHk7rUCkEOiKrL","BhvButtonGroup",void 0);var J=a.ccclass,j=a.property,K=a.menu;o._RF.push({},"41df676L55LvJ52uxkQpfxJ","BhvButtonGroup",void 0);var Q=function(n){return n[n.CHILDREN_INDEX=0]="CHILDREN_INDEX",n[n.CHILDREN_NAME=1]="CHILDREN_NAME",n}(Q||{});n("BhvButtonGroup",(f=K("OopsFramework/UI/Button Group （按钮组控制）"),m=j({type:u(l.Transition)}),v=j({visible:function(){return this.transition===l.Transition.COLOR}}),h=j({visible:function(){return this.transition===l.Transition.COLOR}}),d=j({visible:function(){return this.transition===l.Transition.COLOR}}),y=j({visible:function(){return this.transition===l.Transition.COLOR}}),E=j({type:p,visible:function(){return this.transition===l.Transition.SPRITE}}),C=j({type:p,visible:function(){return this.transition===l.Transition.SPRITE}}),g=j({type:p,visible:function(){return this.transition===l.Transition.SPRITE}}),T=j({type:p,visible:function(){return this.transition===l.Transition.SPRITE}}),R=j({visible:function(){return this.transition===l.Transition.SCALE||this.transition===l.Transition.COLOR}}),L=j({visible:function(){return this.transition===l.Transition.SCALE}}),S=j({type:u(Q)}),z=j({type:[s]}),w=j({tooltip:"规避3.x引擎BUG，EventHandler.component位为空导致找不到触发事件的脚本名的问题",readonly:!0}),J(I=f((_=t((D=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"transition",_,r(t)),e(t,"hoverColor",N,r(t)),e(t,"normalColor",H,r(t)),e(t,"pressedColor",O,r(t)),e(t,"disabledColor",B,r(t)),e(t,"normalSprite",k,r(t)),e(t,"pressedSprite",F,r(t)),e(t,"hoverSprite",G,r(t)),e(t,"disabledSprite",P,r(t)),e(t,"duration",A,r(t)),e(t,"zoomScale",M,r(t)),e(t,"paramType",x,r(t)),e(t,"touchEvents",X,r(t)),e(t,"EventHandler_component",U,r(t)),t}return i(t,n),t.prototype.onLoad=function(){var n=this;this.node.children.forEach((function(t,i){var e=t.getComponent(l);null==e&&(e=t.addComponent(l)),n.touchEvents.forEach((function(r){var o=new s;o.component=""==r.component?n.EventHandler_component:r.component,o.handler=r.handler,o.target=r.target,n.paramType===Q.CHILDREN_INDEX?o.customEventData=i.toString():o.customEventData=t.name,e.clickEvents.push(o)}))}))},t}(c)).prototype,"transition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.Transition.NONE}}),N=t(D.prototype,"hoverColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(255,255,255)}}),H=t(D.prototype,"normalColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(214,214,214)}}),O=t(D.prototype,"pressedColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(211,211,211)}}),B=t(D.prototype,"disabledColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(124,124,124)}}),k=t(D.prototype,"normalSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"pressedSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"hoverSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"disabledSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"duration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(D.prototype,"zoomScale",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),x=t(D.prototype,"paramType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.CHILDREN_INDEX}}),X=t(D.prototype,"touchEvents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(D.prototype,"EventHandler_component",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"VMModify"}}),I=D))||I)||I));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvFrameIndex.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,s,a,p,u,c,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,p=e.Sprite,u=e.SpriteFrame,c=e.CCInteger,l=e.error,d=e.Component}],execute:function(){var h,m,f,x,F,y,v,g;s._RF.push({},"94e622vShpHq6ITuPlikmRN","BhvFrameIndex",void 0);var I=a.ccclass,_=a.property,b=a.executeInEditMode,w=a.requireComponent,C=a.menu;s._RF.push({},"c238ewfJ2VJnZ8Gb8YQs5Ts","BhvFrameIndex",void 0);e("BhvFrameIndex",(h=w(p),m=C("OopsFramework/UI/Frame Index （图片切换）"),f=_({type:[u],tooltip:"sprite将会用到帧图片"}),x=_({type:c,tooltip:"当前显示的帧图"}),I(F=b(F=h(F=m((v=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spriteFrames",v,i(t)),n(t,"_index",g,i(t)),t}r(t,e);var s=t.prototype;return s.setName=function(e){var t=this.spriteFrames.findIndex((function(t){return t.name==e}));t<0&&l("frameIndex 设置了不存在的name:",e),this.index=t||0},s.random=function(e,t){if(this.spriteFrames){var r=this.spriteFrames.length;(null==e||e<0)&&(e=0),(null==t||t>r)&&(t=r),this.index=Math.floor(Math.random()*(t-e)+e)}},s.next=function(){this.index++},s.previous=function(){this.index--},o(t,[{key:"index",get:function(){return this._index},set:function(e){e<0||(this._index=e%this.spriteFrames.length,this.node.getComponent(p).spriteFrame=this.spriteFrames[this._index])}}]),t}(d)).prototype,"spriteFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),g=t(y.prototype,"_index",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(y.prototype,"index",[x],Object.getOwnPropertyDescriptor(y.prototype,"index"),y.prototype),F=y))||F)||F)||F)||F));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/BhvRollNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,l,o,a,n,u,s,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,n=t._decorator,u=t.Label,s=t.Enum,p=t.lerp,c=t.Component}],execute:function(){var h,b,f,g,m,y,v,E,d,T,R,M,S,w,F,V,_,I,N;a._RF.push({},"d03c5w1jV5NrILKfVlMoqT9","BhvRollNumber",void 0);var C=n.ccclass,L=n.property,A=n.menu;a._RF.push({},"72d13dwmG9LS4gkJhSuAp3F","BhvRollNumber",void 0);var z=function(t){return t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER",t}(z||{});t("BhvRollNumber",(h=A("OopsFramework/UI/Roll Number （滚动数字）"),b=L({type:u,tooltip:"需要滚动的 Label 组件,如果不进行设置，就会从自己的节点自动查找"}),f=L({tooltip:"当前的滚动值(开始的滚动值)"}),g=L({tooltip:"是否显示正负符号"}),m=L({tooltip:"滚动的目标值"}),y=L({tooltip:"滚动的线性差值",step:.01,max:1,min:0}),v=L({tooltip:"是否在开始时就播放"}),E=L({tooltip:"在滚动之前会等待几秒",step:.1,max:1,min:0}),d=L({type:s(z),tooltip:"是否在开始时就播放"}),C(T=h((M=e((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"label",M,l(e)),r(e,"value",S,l(e)),r(e,"showPlusSymbol",w,l(e)),r(e,"_targetValue",F,l(e)),r(e,"lerp",V,l(e)),r(e,"playAtStart",_,l(e)),r(e,"runWaitTimer",I,l(e)),r(e,"valueType",N,l(e)),e.onCustom=null,e.isScrolling=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(u)),this.playAtStart&&(this.updateLabel(),this.scroll())},a.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce((function(){t.isScrolling=!0}),this.runWaitTimer):this.isScrolling=!0)},a.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},a.init=function(t,e,i){this.targetValue=e||0,this.value=t||0,this.lerp=i||.1},a.scrollTo=function(t){null!=t&&(this.targetValue=t)},a.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case z.INTEGER:e=Math.round(t)+"";break;case z.FIXED_2:e=t.toFixed(2);break;case z.TIMER:e=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var i=Math.floor(t),r=Math.floor(i/3600),l=Math.floor(i%3600/60),o=i%60,a=""+l,n=""+o;return o<10&&(n="0"+o),e?(l<10&&(a="0"+l),r+":"+a+":"+n):(a=""+(l+60*r),l<10&&(a="0"+l),a+":"+n)}(t);break;case z.PERCENTAGE:e=Math.round(100*t)+"%";break;case z.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case z.CUSTOMER:this.onCustom&&(e=this.onCustom(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},a.update=function(t){this.isScrolling&&(this.value=p(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4&&(this.value=this.targetValue,this.isScrolling=!1))},o(e,[{key:"targetValue",get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()}}]),e}(c)).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(R.prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(R.prototype,"showPlusSymbol",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(R.prototype,"_targetValue",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),e(R.prototype,"targetValue",[m],Object.getOwnPropertyDescriptor(R.prototype,"targetValue"),R.prototype),V=e(R.prototype,"lerp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),_=e(R.prototype,"playAtStart",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=e(R.prototype,"runWaitTimer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(R.prototype,"valueType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.INTEGER}}),T=R))||T)||T));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/BhvSwitchPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){var i,t,n,r,o,a,s,h,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,h=e.CCInteger,c=e.Component},function(e){u=e.VMEnv}],execute:function(){var p,d,g,l,f,v;a._RF.push({},"5581adz8UVIY7ExvAXpH5az","BhvSwitchPage",void 0);var x=s.ccclass,y=s.property,_=s.executeInEditMode,P=s.menu;a._RF.push({},"b3d083kncpDPqVztMtiq6DO","BhvSwitchPage",void 0);e("BhvSwitchPage",(p=P("OopsFramework/UI/Switch Page （页面切换）"),d=y({type:h}),x(g=_(g=p((f=i((l=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"isLoopPage",f,r(i)),n(i,"_index",v,r(i)),i.preIndex=0,i._isChanging=!1,i}t(i,e);var a=i.prototype;return a.onLoad=function(){this.preIndex=this.index},a._updateEditorPage=function(e){if(u.editor)for(var i=this.node.children,t=0;t<i.length;t++)i[t].active=t==e},a._updatePage=function(e){var i=this.node.children,t=this.preIndex,n=this.index;if(t!==n){var r=i[t],o=i[n];r.active=!1,o.active=!0}},a.next=function(){return!this.isChanging&&(this.index++,!0)},a.previous=function(){return!this.isChanging&&(this.index--,!0)},a.setEventIndex=function(e,i){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=i,!0)},o(i,[{key:"index",get:function(){return this._index},set:function(e){if(!this.isChanging){e=Math.round(e);var i=this.node.children.length-1;this.isLoopPage?(e>i&&(e=0),e<0&&(e=i)):(e>i&&(e=i),e<0&&(e=0)),this.preIndex=this._index,this._index=e,u.editor?this._updateEditorPage(e):this._updatePage(e)}}},{key:"isChanging",get:function(){return this._isChanging}}]),i}(c)).prototype,"isLoopPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=i(l.prototype,"_index",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(l.prototype,"index",[d],Object.getOwnPropertyDescriptor(l.prototype,"index"),l.prototype),g=l))||g)||g)||g));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/BoxInAndOut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var o,e,i,n,s,r,c,l,u,a,p,h;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.CCBoolean,l=t.Vec3,u=t.Tween,a=t.tween,p=t.Component},function(t){h=t.oops}],execute:function(){var I,d,m,f,v;s._RF.push({},"13bdfIjFmFBP6c3FilOBrV/","BoxInAndOut",void 0);var D=r.ccclass,x=r.property;s._RF.push({},"4f20d3MJS9HZIXPg/72rKXU","BoxInAndOut",void 0);t("BoxInAndOut",(I=D("BoxInAndOut"),d=x(c),I((v=o((f=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(o=t.call.apply(t,[this].concat(s))||this).itemGUID=null,o.boxList=null,o.sortID=0,o.closeTimer=void 0,i(o,"isPool",v,n(o)),o}e(o,t);var s=o.prototype;return s.InitItem=function(t,o,e){this.itemGUID=t,this.boxList=e,this.sortID=o,this.node.position=new l(180,-60*this.sortID),this.ShowItem()},s.ShowItem=function(){var t=this;this.closeTimer&&clearTimeout(this.closeTimer),u.stopAllByTarget(this.node),this.closeTimer=setTimeout((function(){t.HideItem()}),2e3),a(this.node).to(.2,{position:new l(0,-60*this.sortID)}).start()},s.HideItem=function(){var t=this;a(this.node).to(.2,{position:new l(180,-60*this.sortID)}).call((function(){t.isPool?(t.boxList.sortIDList.Remove(t.sortID),t.boxList.guidSortingMap.Remove(t.boxList.generateKey(t.itemGUID)),t.boxList.sortingBoxMap.Remove(t.sortID),h.pool.put(t.node),t.destroy()):t.node.active=!1})).start()},o}(p)).prototype,"isPool",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=f))||m));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/BranchNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(n){var t,i,o,r;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.BehaviorTree},function(n){r=n.BTreeNode}],execute:function(){i._RF.push({},"5f43cGx/ulKtL0rz1LITrfE","BranchNode",void 0),i._RF.push({},"beafaDMsw9FCbGDpLVmMfa1","BranchNode",void 0);n("BranchNode",function(n){function i(t){var i;return(i=n.call(this)||this).children=void 0,i._actualTask=0,i._runningNode=void 0,i._nodeRunning=void 0,i._blackboard=void 0,i.children=t||[],i}t(i,n);var r=i.prototype;return r.start=function(){this._actualTask=0,n.prototype.start.call(this,void 0)},r.run=function(n){0==this.children.length?this._control.fail():(this._blackboard=n,this.start(),this._actualTask<this.children.length&&this._run()),this.end(void 0)},r._run=function(n){var t=o.getNode(this.children[this._actualTask]);this._runningNode=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},r.running=function(n){this._nodeRunning=n,this._control.running(n)},r.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},r.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},i}(r));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/BtnBreath.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,a,i,o,s,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Vec3,c=t.tween,l=t.Component}],execute:function(){var h,u,p,f;i._RF.push({},"12febShVU5IoIVHvrKhH7fc","BtnBreath",void 0);var B=o.ccclass,b=o.property;i._RF.push({},"02f77QwObVGdZ1iVq/AdXIu","BtnBreath",void 0);t("BtnBreath",B("BtnBreath")((p=e((u=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"scaleFactor",p,a(e)),n(e,"duration",f,a(e)),e._breathTween=null,e.startScale=s.ONE.clone(),e}r(e,t);var i=e.prototype;return i.onEnable=function(){this.startBreath()},i.onDisable=function(){this.stopBreath()},i.startBreath=function(){this.stopBreathTween(),this.startScale=this.node.scale.clone(),this._breathTween=c(this.node).repeatForever(c().to(this.duration,{scale:this.startScale.clone().multiplyScalar(this.scaleFactor)}).to(this.duration,{scale:this.startScale.clone()})).start()},i.stopBreathTween=function(){this._breathTween&&(this._breathTween.stop(),this._breathTween=null)},i.stopBreath=function(){this.stopBreathTween(),this.node.scale=this.startScale.clone()},e}(l)).prototype,"scaleFactor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.05}}),f=e(u.prototype,"duration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),h=u))||h);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/BTreeNode.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"153bah8CbBLi5vUVtc+2LCg","BTreeNode",void 0),n._RF.push({},"f0aeepAwndJP7wlpP6QKx06","BTreeNode",void 0);t("BTreeNode",function(){function t(){this._control=void 0,this.title=void 0,this._control=void 0,this.title=this.constructor.name}var n=t.prototype;return n.start=function(t){},n.end=function(t){},n.setControl=function(t){this._control=t},n.running=function(t){this._control.running(this)},n.success=function(){this._control.success()},n.fail=function(){this._control.fail()},t}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/BuildTimeConstants.ts",["cc","./env.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t}],execute:function(){t("BuildTimeConstants",(function(){var t=o.reduce((function(t,n){return Math.max(t,n.length)}),0),n=""+o.map((function(n){var o=e[n],s="boolean"==typeof o?o?"true":"false":o;return"\n"+n.padStart(t," ")+" : "+s}));console.log(n)})),n._RF.push({},"0f675Ckp2FOaJRYCvZvO3I+","BuildTimeConstants",void 0),n._RF.push({},"21a39/4HchJdJkSQKKKkLh9","BuildTimeConstants",void 0);var o=Object.keys(e).sort();n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonBgSwitching.ts",["./rollupPluginModLoBabelHelpers.js","cc","./List2.ts"],(function(t){var i,e,r,n,o,u,c,a,s,l,p,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,c=t.CCBoolean,a=t.Sprite,s=t.SpriteFrame,l=t.CCFloat,p=t.Component},function(t){g=t.default}],execute:function(){var h,b,f,B,S,w,y,d,v,z,D;o._RF.push({},"a30e140IPlBp6dqyS/Wn7Vt","ButtonBgSwitching",void 0);var I=u.ccclass,m=u.property;o._RF.push({},"3c875Xwwe5HJbXI0e+NJJd/","ButtonBgSwitching",void 0);t("ButtonBgSwitching",(h=I("ButtonBgSwitching"),b=m(c),f=m(a),B=m([s]),S=m(l),h((d=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return i=t.call.apply(t,[this].concat(o))||this,r(i,"isSetNativeSize",d,n(i)),r(i,"buttonBg",v,n(i)),r(i,"bgList",z,n(i)),r(i,"currID",D,n(i)),i}e(i,t);var o=i.prototype;return o.SetBg=function(t){t<this.bgList.length?this.currID=t:this.currID=0,this.buttonBg.spriteFrame=this.bgList[this.currID],this.isSetNativeSize&&(this.buttonBg.sizeMode=a.SizeMode.RAW)},o.OnClickSwitch=function(){this.SetBg(this.currID+1)},i}(p)).prototype,"isSetNativeSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=i(y.prototype,"buttonBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(y.prototype,"bgList",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g}}),D=i(y.prototype,"currID",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=y))||w));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ButtonSimple.ts"],(function(t){var e,n,o,i,a,s,r,c,u,l,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,c=t.Animation,u=t.AnimationClip,l=t.Node,p=t.Sprite},function(t){f=t.oops},function(t){d=t.default}],execute:function(){var h,m,y,g,_,E;s._RF.push({},"44e80EI2ilBAp/Juiy3tppP","ButtonEffect",void 0);var v=r.ccclass,T=r.property,b=r.menu;s._RF.push({},"1be36hrGO5Oz6Eapg6ygW03","ButtonEffect",void 0);t("default",(h=v("ButtonEffect"),m=b("OopsFramework/Button/ButtonEffect （有特效按钮）"),y=T({tooltip:"是否开启"}),h(g=m((E=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"disabledEffect",E,i(e)),e.anim=void 0,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.anim=this.node.addComponent(c);var e=f.res.get("common/anim/button_scale_start",u),n=f.res.get("common/anim/button_scale_end",u);this.anim.defaultClip=e,this.anim.createState(e,null==e?void 0:e.name),this.anim.createState(n,null==n?void 0:n.name),this.node.on(l.EventType.TOUCH_START,this.onTouchtStart,this),t.prototype.onLoad.call(this)},s.onTouchtStart=function(t){this.disabledEffect||this.anim.play("button_scale_start")},s.onTouchEnd=function(e){this.disabledEffect||this.anim.play("button_scale_end"),t.prototype.onTouchEnd.call(this,e)},s.onDestroy=function(){this.node.off(l.EventType.TOUCH_START,this.onTouchtStart,this),t.prototype.onDestroy.call(this)},a(e,[{key:"grayscale",get:function(){return this.node.getComponent(p).grayscale},set:function(t){this.node.getComponent(p)&&(this.node.getComponent(p).grayscale=t)}}]),e}(d)).prototype,"disabledEffect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=_))||g)||g));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,n,o,i,r,u,c,p,a,s,l,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){c=t.cclegacy,p=t._decorator,a=t.AudioClip,s=t.Node,l=t.game,f=t.Component},function(t){h=t.oops}],execute:function(){var d,y,m,v,T,E,b,C,g,_;c._RF.push({},"a3ff7cRr99FbISvFvUdq1p8","ButtonSimple",void 0);var S=p.ccclass,F=p.property,w=p.menu;c._RF.push({},"8d645yObX1FvJfk2sbi0rxp","ButtonSimple",void 0);t("default",(d=S("ButtonSimple"),y=w("OopsFramework/Button/ButtonSimple （节点按钮）"),m=F({tooltip:"是否只触发一次"}),v=F({tooltip:"每次触发间隔"}),T=F({tooltip:"触摸音效",type:a}),d(E=y((C=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,o(e,"once",C,i(e)),o(e,"interval",g,i(e)),o(e,"effect",_,i(e)),e.touchCount=0,e.touchtEndTime=0,e}n(e,t);var c=e.prototype;return c.onLoad=function(){this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},c.onTouchEnd=function(t){if(this.once){if(this.touchCount>0)return void(t.propagationStopped=!0);this.touchCount++}this.touchtEndTime&&l.totalTime-this.touchtEndTime<this.interval?t.propagationStopped=!0:(this.touchtEndTime=l.totalTime,this.playEffect())},c.playEffect=function(){var t=r(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.effect&&h.audio.playEffect(this.effect);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onDestroy=function(){this.node.off(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"once",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=e(b.prototype,"interval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),_=e(b.prototype,"effect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E)||E));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchLong.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonEffect.ts"],(function(t){var o,n,i,e,s,u,c,r;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,c=t.EventHandler},function(t){r=t.default}],execute:function(){var a,h,p,l,T,f,_,g;s._RF.push({},"73dbdymS+1O/L8rYkMo2+WA","ButtonTouchLong",void 0);var v=u.ccclass,m=u.property,L=u.menu;s._RF.push({},"da96en7WYpPTaPIkO1l/Nux","ButtonTouchLong",void 0);t("ButtonTouchLong",(a=v("ButtonTouchLong"),h=L("OopsFramework/Button/ButtonTouchLong （长按按钮）"),p=m({tooltip:"长按时间（秒）"}),l=m({type:[c],tooltip:"长按时间（秒）"}),a(T=h((_=o((f=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return o=t.call.apply(t,[this].concat(s))||this,i(o,"time",_,e(o)),i(o,"clickEvents",g,e(o)),o._passTime=0,o._isTouchLong=!0,o._event=null,o}n(o,t);var s=o.prototype;return s.onLoad=function(){this._isTouchLong=!1,t.prototype.onLoad.call(this)},s.onTouchtStart=function(o){this._event=o,this._passTime=0,t.prototype.onTouchtStart.call(this,o)},s.onTouchEnd=function(o){this._passTime>this.time&&(o.propagationStopped=!0),this._event=null,this._passTime=0,this._isTouchLong=!1,t.prototype.onTouchEnd.call(this,o)},s.removeTouchLong=function(){this._event=null,this._isTouchLong=!1},s.update=function(t){var o=this;this._event&&!this._isTouchLong&&(this._passTime+=t,this._passTime>=this.time&&(this._isTouchLong=!0,this.clickEvents.forEach((function(t){t.emit([t.customEventData]),o.playEffect()})),this.removeTouchLong()))},o}(r)).prototype,"time",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=o(f.prototype,"clickEvents",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=f))||T)||T));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/BuyStrengthView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./GameEnum.ts","./GameGeneralConfig.ts","./StrengthBox.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./UmengMgr.ts","./RewardInfo.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./ToastMgr.ts","./AwaitDelay.ts"],(function(t){var e,n,i,o,r,s,a,u,c,l,f,m,h,g,p,y,d,B,w,I,v,b,M,C,S,A,T,G,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.Label,l=t.Sprite},function(t){f=t.oops},function(t){m=t.GameComponent},function(t){h=t.ItemArchive},function(t){g=t.ItemType,p=t.MoneyType,y=t.UmengEventID},function(t){d=t.GameGeneralConfig},function(t){B=t.StrengthBox},function(t){w=t.ItemInfo},function(t){I=t.AdsManager},function(t){v=t.PlatformMgr},function(t){b=t.UmengMgr},function(t){M=t.RewardInfo},function(t){C=t.GameMgr},function(t){S=t.MusicMgr,A=t.EffectType},function(t){T=t.ResMgr},function(t){G=t.ToastMgr},function(t){L=t.AwaitDelay}],execute:function(){var R,P,k,x,D,U,_,z,E,F,V;a._RF.push({},"e04e7GTvpFGnqQOp3zIQZ58","BuyStrengthView",void 0);var N=u.ccclass,j=u.property;a._RF.push({},"c4ae5C0qXZH/anjBb2CjcCM","BuyStrengthView",void 0);t("BuyStrengthView",(R=N("BuyStrengthView"),P=j(B),k=j(c),x=j(c),D=j(l),R((z=e((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"strengthBox",z,o(e)),i(e,"countLabel",E,o(e)),i(e,"timeLabel",F,o(e)),i(e,"itemIcon",V,o(e)),e.itemInfo=new w(g.货币,0,p.体力),e.isClick=!1,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.setButton()},a.start=function(){this.UpdateTime(),this.schedule(this.UpdateTime,.1),T.SetSprite(this.itemIcon,this.itemInfo.iconPath)},a.onDisable=function(){this.itemIcon.spriteFrame=null},a.onDestroy=function(){this.unschedule(this.UpdateTime),t.prototype.onDestroy.call(this)},a.UpdateTime=function(){this.countLabel.string=this.strengthBox.itemCount.string,this.timeLabel.string=this.strengthBox.timeLabel.string},a.CloseBtn=function(t){C.isReview?f.gui.removeByNode(this.node):(this.isClick=!0,this.AdsBuyBtn(t)),S.PlayEffect(A.UIClick)},a.CheckClose=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.WaitingTime(.1);case 2:v.platformAPI.isPlayingAds||f.gui.removeByNode(this.node);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.CoinBuyBtn=function(t){var e=this,n=new w(g.货币,0,p.金币),i=new M(this.itemInfo,5);h.UseItemGetReward(n,d.Stamina_BuyCoin,i,{showPage:!1,onComplete:function(n){n?e.BuySuccess(t,i,i.count):G.AddMessage("金币不足")}}),S.PlayEffect(A.UIClick)},a.MistakeTouchBtn=function(t){this.AdsBuyBtn(t)},a.AdsBuyBtn=function(t){var e=this;I.Instance.ShowVideoAds({success:function(){var n=new M(e.itemInfo,d.Max_Stamina-e.itemInfo.count);h.AddRewarwdList(n,{showPage:!1}),e.BuySuccess(t,n,n.count),b.Instance.TrackEventByID(y.vit_video),f.gui.removeByNode(e.node)},fail:function(){e.isClick&&f.gui.removeByNode(e.node)},cancel:function(){f.gui.removeByNode(e.node)}})},a.BuySuccess=function(t,e,n){C.rewardEff.ShowItemChange(t,e,n)},e}(m)).prototype,"strengthBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"countLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(_.prototype,"timeLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(_.prototype,"itemIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=_))||U));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(e){var t,r,i;return{setters:[function(e){t=e.cclegacy,r=e.Vec3,i=e.view}],execute:function(){t._RF.push({},"8ceeeHmkzBG4pYEt8+VKE5q","CameraUtil",void 0),t._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);e("CameraUtil",function(){function e(){}return e.isInView=function(e,t){var n=e.node.getWorldPosition(),o=e.worldToScreen(t),c=r.normalize(new r,t.subtract(n)),u=e.node.forward,a=r.dot(u,c),s=i.getViewportRect();return a>0&&o.x<=s.width&&o.x>=0&&o.y<=s.height&&o.y>=0},e}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/CCComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){c=o.GameComponent}],execute:function(){var r,i;e._RF.push({},"96323a706ZDhqYE+xk2aU6I","CCComp",void 0);var p=n.ccclass;n.property;e._RF.push({},"dd207fiyGJLf5r+bkiMgwdt","CCComp",void 0);o("CCComp",p("CCComp")(((i=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=o.call.apply(o,[this].concat(n))||this).canRecycle=void 0,t.ent=void 0,t}return t(e,o),e}(c)).tid=-1,i.compName=void 0,r=i))||r);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/CCVMParentComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMParent.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator},function(t){r=t.default}],execute:function(){var a,c;n._RF.push({},"21feeGK/jtHMar6+ba4zDC7","CCVMParentComp",void 0);var i=o.ccclass;o.property;n._RF.push({},"5908aTmM1lItpXgo7ROpQeQ","CCVMParentComp",void 0);t("CCVMParentComp",i("CCVMParentComp")(((c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).canRecycle=void 0,e.ent=void 0,e}return e(n,t),n}(r)).tid=-1,c.compName=void 0,a=c))||a);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/CheckPlacement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./FlyingToTarget.ts","./NodeComp.ts","./Tool.ts","./PlaceTargetComp.ts","./PlaceItemIdle.ts"],(function(e){var t,o,n,r,c,a,i,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.ecs},function(e){r=e.FlyingToTargetComp},function(e){c=e.NodeComp},function(e){a=e.default},function(e){i=e.PlaceTargetComp},function(e){l=e.PlaceItemIdleComp}],execute:function(){var u,s;o._RF.push({},"6f678/pKvhCrbkdJLgnfEaU","CheckPlacement",void 0),o._RF.push({},"87243FSGndBEp97kwyhbj/S","CheckPlacement",void 0);var f=e("CheckPlacementComp",n.register("CheckPlacement")(u=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).targetNode=null,t}return t(o,e),o.prototype.reset=function(){this.targetNode=null},o}(n.Comp))||u);e("CheckPlacementSystem",n.register("CheckPlacement")(s=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var u=o.prototype;return u.filter=function(){return n.allOf(f,c,i).excludeOf(r)},u.entityEnter=function(e){var t=e.get(i),o=e.get(f);if(Array.isArray(t.targetNode))for(var n=0;n<t.targetNode.length;n++){var r=t.targetNode[n];if(this.CheckPlaceItem(e,r)){o.targetNode=r;break}}else this.CheckPlaceItem(e,t.targetNode)&&(o.targetNode=t.targetNode);this.PlaceSuccess(e)},u.CheckPlaceItem=function(e,t){if(null==t.itemNode){var o=e.get(c).node,n=o.position,r=a.WorldToLocal(t.node.worldPosition,o.parent);return a.CheckNearToTarget(n,r,50)}},u.PlaceSuccess=function(e){var t=e.get(f);if(!t.targetNode)return e.remove(f),void e.add(l);t.targetNode.PlaceItem(e)},o}(n.ComblockSystem))||s);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinFade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(e){var t,o,a,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,a=e.Color},function(e){n=e.ecs},function(e){r=e.NodeComp}],execute:function(){var i,s;o._RF.push({},"20a09Zm1vFDeIW7IdsnDqaC","CoinFade",void 0),o._RF.push({},"7b1d7f0KMFLRJ5thiAecY/M","CoinFade",void 0);var l=e("CoinFadeComp",n.register("CoinFade")(i=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).targetColor=a.WHITE.clone(),t.fadeDelay=0,t.fadeDuration=0,t.elapsed=0,t}return t(o,e),o.prototype.reset=function(){this.targetColor=a.WHITE.clone(),this.fadeDelay=0,this.fadeDuration=0,this.elapsed=0},o}(n.Comp))||i);e("CoinFadeSystem",n.register("CoinFade")(s=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var a=o.prototype;return a.filter=function(){return n.allOf(l,r)},a.update=function(e){var t=e.get(l),o=e.get(r);if(t.elapsed+=this.dt,!(t.elapsed<t.fadeDelay)){var a=t.elapsed-t.fadeDelay;if(!(a>t.fadeDuration)){var n=255*Math.min(a/t.fadeDuration,1);t.targetColor.a=255-n,o.itemIcon.color=t.targetColor}}},o}(n.ComblockSystem))||s);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinFly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameEnum.ts","./NodeComp.ts","./CoinFade.ts","./CoinJump.ts"],(function(o){var n,t,e,a,i,r,u,d,s,c,m,p,l,C;return{setters:[function(o){n=o.inheritsLoose,t=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){a=o.cclegacy,i=o.find,r=o.Sprite,u=o.Vec3,d=o.Color},function(o){s=o.oops},function(o){c=o.ecs},function(o){m=o.Bundle},function(o){p=o.NodeComp},function(o){l=o.CoinFadeComp},function(o){C=o.CoinJumpComp}],execute:function(){var f;a._RF.push({},"2fc34RbuXdMMryKUh8Uzhh4","CoinFly",void 0),a._RF.push({},"a1fb2zsFxhIIKA0tta4m+Xu","CoinFly",void 0);o("CoinFly",c.register("CoinFly")(f=function(o){function a(){for(var n,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(n=o.call.apply(o,[this].concat(e))||this).NodeComp=void 0,n.CoinFade=void 0,n.CoinJump=void 0,n}n(a,o);var c=a.prototype;return c.init=function(){},c.Load=function(){var o=t(e().mark((function o(n,t){var a,c,f,h,F,v,y;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s.pool.loadAndShow("common/reward/CoinRot",n,{bundleName:m.prefabTest,worldPos:t});case 2:a=o.sent,(c=this.add(p)).node=a,c.isPool=!0,f=i("CoinIcon",c.node),c.itemIcon=null==f?void 0:f.getComponent(r),(h=this.add(C)).jumpCount=s.random.getRandomInt(2,4),h.duration=.4*h.jumpCount,h.jumpHeight=s.random.getRandomFloat(35,50)*h.jumpCount,F=s.random.getRandomFloat(-88,88)*h.jumpCount,v=s.random.getRandomFloat(-20,-35)*h.jumpCount,h.startPos=t.clone().add(new u(s.random.getRandomFloat(-10,10),s.random.getRandomFloat(-10,10),0)),h.endPos=t.clone().add(new u(F,v,0)),(y=this.add(l)).fadeDuration=.25*h.jumpCount,y.fadeDelay=h.duration-y.fadeDuration,c.node.active=!0,c.itemIcon.color=d.WHITE,c.node.worldPosition=h.startPos;case 22:case"end":return o.stop()}}),o,this)})));return function(n,t){return o.apply(this,arguments)}}(),a}(c.Entity))||f);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/CoinJump.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(t){var e,n,o,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec3},function(t){i=t.ecs},function(t){u=t.NodeComp}],execute:function(){var r,s;n._RF.push({},"09e58ZRO7dM46Hl0+7ZUIpJ","CoinJump",void 0),n._RF.push({},"a9b83Zi8UJIa6KBUrXxDY3a","CoinJump",void 0);var p=t("CoinJumpComp",i.register("CoinJump")(r=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))||this).startPos=new o(0,0,0),e.endPos=new o(0,0,0),e.jumpHeight=0,e.jumpCount=0,e.duration=0,e.elapsed=0,e.currentPos=o.ZERO,e}return e(n,t),n.prototype.reset=function(){this.startPos=new o(0,0,0),this.endPos=new o(0,0,0),this.jumpHeight=0,this.jumpCount=0,this.duration=0,this.elapsed=0},n}(i.Comp))||r);t("CoinJumpSystem",i.register("CoinJump")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.filter=function(){return i.allOf(p,u)},r.update=function(t){var e=t.get(p),n=t.get(u);e.elapsed+=this.dt;var i=Math.min(e.elapsed/e.duration,1),r=e.startPos.clone().lerp(e.endPos,i),s=this.calculateJumpHeight(i,e.jumpCount,e.jumpHeight);n.node.worldPosition=new o(r.x,r.y+s,0),e.elapsed>=e.duration&&t.destroy()},r.calculateJumpHeight=function(t,e,n){var o=t*e*Math.PI;return Math.abs(Math.sin(o))*n*(1-t)},n}(i.ComblockSystem))||s);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/Collection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,i,a;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,i=t.wrapNativeSuper},function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"3183cZoI3dOuYZHWAycvUvQ","Collection",void 0),a._RF.push({},"1dcf5AtQQVK3KQ/2jHHD5gi","Collection",void 0);t("Collection",function(t){function i(){for(var r,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(r=t.call.apply(t,[this].concat(i))||this)._array=[],r}r(i,t);var a=i.prototype;return a.set=function(r,e){if(this.has(r)){var i=this.get(r),a=this._array.indexOf(i);this._array[a]=e}else this._array.push(e);return t.prototype.set.call(this,r,e)},a.delete=function(r){var e=this.get(r);if(e){var i=this._array.indexOf(e);return i>-1&&this._array.splice(i,1),t.prototype.delete.call(this,r)}return!1},a.clear=function(){this._array.splice(0,this._array.length),t.prototype.clear.call(this)},e(i,[{key:"array",get:function(){return this._array}}]),i}(i(Map)));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/CommonPrompt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts","./Oops.ts"],(function(n){var t,e,o,i,c,l,a,r,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,l=n._decorator,a=n.Component},function(n){r=n.LanguageLabel},function(n){s=n.oops}],execute:function(){var u,f,p,h,b,g,m,d,_,y,C;c._RF.push({},"2349bnh0k1FRL/klG7N/6ja","CommonPrompt",void 0);var F=l.ccclass,k=l.property;c._RF.push({},"653bf8VPC5Fn49zFJFqXVgx","CommonPrompt",void 0);n("CommonPrompt",(u=F("CommonPrompt"),f=k(r),p=k(r),h=k(r),b=k(r),u((d=t((m=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),l=0;l<e;l++)c[l]=arguments[l];return t=n.call.apply(n,[this].concat(c))||this,o(t,"lab_title",d,i(t)),o(t,"lab_content",_,i(t)),o(t,"lab_ok",y,i(t)),o(t,"lab_cancel",C,i(t)),t.config={},t}e(t,n);var c=t.prototype;return c.onAdded=function(n){return this.config=n||{},this.setTitle(),this.setContent(),this.setBtnOkLabel(),this.setBtnCancelLabel(),this.node.active=!0,!0},c.setTitle=function(){this.lab_title.dataID=this.config.title},c.setContent=function(){this.lab_content.dataID=this.config.content},c.setBtnOkLabel=function(){this.lab_ok.dataID=this.config.okWord},c.setBtnCancelLabel=function(){this.lab_cancel&&(this.lab_cancel.dataID=this.config.cancelWord,this.lab_cancel.node.parent.active=this.config.needCancel||!1)},c.onOk=function(){"function"==typeof this.config.okFunc&&this.config.okFunc(),this.close()},c.onClose=function(){"function"==typeof this.config.closeFunc&&this.config.closeFunc(),this.close()},c.onCancel=function(){"function"==typeof this.config.cancelFunc&&this.config.cancelFunc(),this.close()},c.close=function(){s.gui.removeByNode(this.node)},c.onDestroy=function(){this.config=null},t}(a)).prototype,"lab_title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"lab_content",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"lab_ok",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(m.prototype,"lab_cancel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/CompassPlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./Oops.ts","./NodeComp.ts","./GameMgr.ts","./PlaceTargetComp.ts","./DragPlaceItem.ts"],(function(e){var t,o,a,s,r,n,l,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,a=e.Vec3},function(e){s=e.ecs},function(e){r=e.oops},function(e){n=e.NodeComp},function(e){l=e.GameMgr},function(e){i=e.PlaceTargetComp},function(e){c=e.DragPlaceItemComp}],execute:function(){var p,m,u;o._RF.push({},"34c8duU4yhIFZWUyITcO3N8","CompassPlaceItem",void 0),o._RF.push({},"15553yHVrZKIZaBQZTlwh/W","CompassPlaceItem",void 0);var d=e("CompassPlaceItemComp",s.register("CompassPlaceItem")(p=function(e){function o(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).duration=5,t.elapsed=0,t.startScale=new a(2,2,2),t.targetScale=new a(1,1,1),t.startPos=new a(2,2,2),t.targetPos=new a(1,1,1),t.targetNode=null,t}return t(o,e),o.prototype.reset=function(){this.duration=5,this.elapsed=0,this.startScale=new a(2,2,2),this.targetScale=new a(1,1,1),this.startPos=new a(0,0,0),this.targetPos=new a(0,0,0),this.targetNode=null},o}(s.Comp))||p);e("CompassPlaceItemSystem",s.register("CompassPlaceItem")(m=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var a=o.prototype;return a.filter=function(){return s.allOf(d,i,n)},a.entityEnter=function(e){},a.entityRemove=function(e){},a.update=function(e){l.levelView.compassSearch||e.remove(d)},o}(s.ComblockSystem))||m),e("CompassSearchPlaceSystem",s.register("CompassSearchPlace")(u=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var p=o.prototype;return p.filter=function(){return s.allOf(d,c,i,n)},p.entityEnter=function(e){var t,o,s,n=e.get(d);(n.targetNode=l.levelView.GetPlaceTargetNode(e),n.targetNode)&&(l.levelView.compassMask.active=!1,l.levelView.compassCircle.active=!0,n.startPos=new a((null==(t=n.targetNode)?void 0:t.node.worldPosition.x)+r.random.getRandomFloat(-100,100),(null==(o=n.targetNode)?void 0:o.node.worldPosition.y)+r.random.getRandomFloat(-100,100),0),n.targetPos=null==(s=n.targetNode)?void 0:s.node.worldPosition,l.levelView.compassCircle.worldPosition=n.startPos.clone())},p.entityRemove=function(e){l.levelView.compassSearch&&(l.levelView.compassMask.active=!0),l.levelView.compassCircle.active=!1},p.update=function(e){if(l.levelView.compassSearch){if(e.get(c)){var t=e.get(d);if(t.targetNode){if(!(t.elapsed>=t.duration)){t.elapsed+=this.dt;var o=Math.min(t.elapsed/t.duration,1);l.levelView.compassCircle.scale=t.startScale.clone().lerp(t.targetScale,o),l.levelView.compassCircle.worldPosition=t.startPos.clone().lerp(t.targetPos,o),o>=1&&t.targetNode.PlaceItem(e)}}else e.remove(d)}}else e.remove(d)},o}(s.ComblockSystem))||u);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"41b4bZeEsZOI5rW/kK9RXbE","Config",void 0),o._RF.push({},"5034dEezo5Frr6dhZGVgmTh","Config",void 0);i("Config",(function(){this.game=void 0,this.query=void 0}));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/DateExt.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"70cad+JNc1ErqAf0waKyYhv","DateExt",void 0),t._RF.push({},"80ebbBz8etB5qijWdYrU2HH","DateExt",void 0),Date.prototype.format=function(t){var e=this.getFullYear(),r=this.getMonth()+1,c=this.getDate(),a=this.getHours(),s=this.getMinutes(),i=this.getSeconds();return t.replace("yy",e.toString()).replace("mm",(r<10?"0":"")+r).replace("dd",(c<10?"0":"")+c).replace("hh",(a<10?"0":"")+a).replace("mm",(s<10?"0":"")+s).replace("ss",(i<10?"0":"")+i)},t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/DateUtils.ts",["cc"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy,r=t._decorator}],execute:function(){var n;e._RF.push({},"8325fz3XZhNZaAb1c8t0zOD","DateUtils",void 0);var o=r.ccclass;r.property;e._RF.push({},"1f6bdqXantJz6ayOYIM6blA","DateUtils",void 0);t("DateUtils",o("DateUtils")(n=function(){function t(){}return t.DateToString=function(t){var e=t.getFullYear().toString(),r=(t.getMonth()+1).toString(),n=t.getDate().toString(),o=t.getHours().toString(),a=t.getMinutes().toString(),i=t.getSeconds().toString();return e+"."+(r=1===r.length?"0"+r:r)+"."+(n=1===n.length?"0"+n:n)+" "+(o=1===o.length?"0"+o:o)+":"+(a=1===a.length?"0"+a:a)+":"+(i=1===i.length?"0"+i:i)},t.CountdownFormat=function(t,e){void 0===e&&(e="h:m:s");var r=Math.floor(t/86400),n=t%86400,o=Math.floor(n/3600),a=Math.floor(n%3600/60),i=Math.floor(n%60);if(!e.includes("d")&&r>=1)return r+"天";var c=function(t){return t.toString().padStart(2,"0")};return e.replace(/d/g,r.toString()).replace(/h/g,c(o)).replace(/m/g,c(a)).replace(/s/g,c(i))},t.GetWeekday=function(t){return(new Date(t).getDay()+6)%7},t}())||n);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/Decorator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(e){var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){n=e.BehaviorTree},function(e){r=e.BTreeNode}],execute:function(){o._RF.push({},"fd9a3VJIqFHyJqLymECB8rO","Decorator",void 0),o._RF.push({},"0455agxsbxHlYleJPDpJX3l","Decorator",void 0);e("Decorator",function(e){function o(t){var o;return(o=e.call(this)||this).node=void 0,o.node=void 0,t&&(o.node=n.getNode(t)),o}t(o,e);var r=o.prototype;return r.setNode=function(e){this.node=n.getNode(e)},r.start=function(){this.node.setControl(this),this.node.start(),e.prototype.start.call(this)},r.end=function(){this.node.end()},r.run=function(e){this.node.run(e)},o}(r));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(s){var i;return{setters:[function(s){i=s.cclegacy}],execute:function(){i._RF.push({},"2c449B8uHZALrBGzqyczjTH","Defines",void 0),i._RF.push({},"82d3a9c71JEkI95d3qscHm8","Defines",void 0);s("ViewParams",(function(){this.config=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null}));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/DelegateComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){var n,o,t,s,r,a,i;return{setters:[function(e){n=e.inheritsLoose,o=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,a=e.Component},function(e){i=e.oops}],execute:function(){var c;s._RF.push({},"aeb04/uGRFLZ4GWBs039z2+","DelegateComponent",void 0);var p=r.ccclass;s._RF.push({},"d8f1fGRD7dBzIeBSkOpd/Py","DelegateComponent",void 0);e("DelegateComponent",p("DelegateComponent")(c=function(e){function s(){for(var n,o=arguments.length,t=new Array(o),s=0;s<o;s++)t[s]=arguments[s];return(n=e.call.apply(e,[this].concat(t))||this).vp=null,n.onCloseWindow=null,n}n(s,e);var r=s.prototype;return r.add=function(){var e=this;return new Promise(o(t().mark((function n(o,s){var r,a,i;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<e.node.components.length)){n.next=13;break}if(a=e.node.components[r],!(i=a.onAdded)){n.next=10;break}return n.next=7,i.call(a,e.vp.params);case 7:if(0!=n.sent){n.next=10;break}return n.abrupt("return",void o(!1));case 10:r++,n.next=1;break;case 13:"function"==typeof e.vp.callbacks.onAdded&&e.vp.callbacks.onAdded(e.node,e.vp.params),o(!0);case 15:case"end":return n.stop()}}),n)}))))},r.remove=function(e){this.vp.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",this.vp.params),"function"==typeof this.vp.callbacks.onBeforeRemove?this.vp.callbacks.onBeforeRemove(this.node,this.onBeforeRemoveNext.bind(this,e)):this.removed(this.vp,e))},r.onBeforeRemoveNext=function(e){this.removed(this.vp,e)},r.removed=function(e,n){e.valid=!1,e.callbacks&&"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),this.onCloseWindow&&this.onCloseWindow(e),n?(this.node.destroy(),i.res.release(e.config.prefab,e.config.bundle)):this.node.removeFromParent()},r.onDestroy=function(){this.applyComponentsFunction(this.node,"onRemoved",this.vp.params),this.vp=null},r.applyComponentsFunction=function(e,n,o){for(var t=0;t<e.components.length;t++){var s=e.components[t],r=s[n];r&&r.call(s,o)}},s}(a))||c);s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/DemoViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./CCComp.ts"],(function(o){var e,t,i,n,r;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,i=o._decorator},function(o){n=o.ecs},function(o){r=o.CCComp}],execute:function(){var s;t._RF.push({},"a3996qiCLZPc7m5RvFLxALq","DemoViewComp",void 0);var c=i.ccclass;i.property;t._RF.push({},"78b5dVjj81IxoHGx2PAK8bT","DemoViewComp",void 0);o("DemoViewComp",c("DemoViewComp")(s=n.register("DemoView",!1)(s=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var i=t.prototype;return i.start=function(){},i.reset=function(){this.node.destroy()},t}(r))||s)||s);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/DeviceUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy,n=t.sys}],execute:function(){r._RF.push({},"b60fdw/rB5PoqVdDqr+G/yY","DeviceUtil",void 0),r._RF.push({},"287a3oHJD1OrKr6dp6idwn9","DeviceUtil",void 0);t("DeviceUtil",function(){function t(){}return t.getSafeAreaRect=function(){return n.getSafeAreaRect()},e(t,null,[{key:"platform",get:function(){return n.platform}},{key:"os",get:function(){return n.os}},{key:"isNative",get:function(){return n.isNative}},{key:"isBrowser",get:function(){return n.isBrowser}},{key:"isMobile",get:function(){return n.isMobile}},{key:"isAndroid",get:function(){return n.platform===n.Platform.ANDROID}},{key:"isIPhone",get:function(){return n.platform===n.Platform.IOS}},{key:"isMobileBrowser",get:function(){return n.platform===n.Platform.MOBILE_BROWSER}},{key:"isDesktopBrowser",get:function(){return n.platform===n.Platform.DESKTOP_BROWSER}},{key:"isWeChat",get:function(){return n.platform===n.Platform.WECHAT_GAME}},{key:"isByteDance",get:function(){return n.platform===n.Platform.BYTEDANCE_MINI_GAME}},{key:"isBaidu",get:function(){return n.platform===n.Platform.BAIDU_MINI_GAME}},{key:"isVivo",get:function(){return n.platform===n.Platform.VIVO_MINI_GAME}},{key:"isOPPO",get:function(){return n.platform===n.Platform.OPPO_MINI_GAME}},{key:"isXiaomi",get:function(){return n.platform===n.Platform.XIAOMI_QUICK_GAME}},{key:"isHuawei",get:function(){return n.platform===n.Platform.HUAWEI_QUICK_GAME}},{key:"isAlipay",get:function(){return n.platform===n.Platform.ALIPAY_MINI_GAME}},{key:"isOpenHarmony",get:function(){return n.platform===n.Platform.OPENHARMONY}}]),t}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Dictionary.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n;return{setters:[function(t){e=t.inheritsLoose,o=t.wrapNativeSuper},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"08114Nq7olJLr+aoML5hm0v","Dictionary",void 0),n._RF.push({},"4f5f6ELaBNGc4pbjaARY1ma","Dictionary",void 0);t("default",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.Add=function(e,o){t.prototype.set.call(this,e,o)},n.Put=function(e,o){this.ContainsKey(e)?t.prototype.set.call(this,e,Number(this.get(e))+Number(o)):t.prototype.set.call(this,e,o)},n.Get=function(e){return t.prototype.get.call(this,e)},n.Count=function(){return this.size},n.ContainsKey=function(e){return t.prototype.has.call(this,e)},n.Remove=function(e){return t.prototype.delete.call(this,e)},o}(o(Map)));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/DirectorExt.ts",["cc"],(function(){var e,t,c,r;return{setters:[function(i){e=i.cclegacy,t=i.Director,c=i.director,r=i.js}],execute:function(){if(e._RF.push({},"53e89zUF+JEyr6vTLuKG18Q","DirectorExt",void 0),e._RF.push({},"37f48DDLR1EXKhzn+7pLlWB","DirectorExt",void 0),!t.prototype["__$cc-director-speed-extension$__"]){t.prototype["__$cc-director-speed-extension$__"]=!0;var i=c.tick.bind(c);c.tick=function(e){e*=c.globalGameTimeScale,i(e)},r.mixin(t.prototype,{globalGameTimeScale:1})}e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/DouYinAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./List2.ts","./GameEnum.ts","./GameEvent.ts","./UmengMgr.ts","./BaseAPI.ts"],(function(e){var n,t,o,i,s,c,a,r,l,d;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.Vec2},function(e){s=e.oops},function(e){c=e.default},function(e){a=e.GetShareTitle},function(e){r=e.SDKEvent},function(e){l=e.UmengMgr},function(e){d=e.BaseAPI}],execute:function(){var u;t._RF.push({},"3f5bbGsKvVEBbugEfcPA/gG","DouYinAPI",void 0);var f=o.ccclass;o.property;t._RF.push({},"b8193qH8bNP55Z/8vmHma74","DouYinAPI",void 0);e("DouYinAPI",f("DouYinAPI")(u=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).videoPath="",n}n(t,e);var o=t.prototype;return o.InitGame=function(){this.api=window.tt,this.InitOnShow(),this.InitShareMenu(),this.InitRecorder(),e.prototype.InitGame.call(this)},o.GetWindowSize=function(){return new i(window.tt.getSystemInfoSync().windowWidth,window.tt.getSystemInfoSync().windowHeight)},o.InitOnShow=function(){var e=this;window.tt.onShow((function(n){"homepage"==n.launch_from&&"sidebar_card"==n.location?e.sidebarEntry=!0:e.sidebarEntry=!1}))},o.InitShareMenu=function(){window.tt.showShareMenu({success:function(e){console.log("已成功显示转发按钮")},fail:function(e){console.log("showShareMenu 调用失败:"+e.errMsg)},complete:function(e){console.log("showShareMenu 调用完成")}}),(l.Instance.uma?l.Instance.uma:window.tt).onShareAppMessage((function(){return{title:a()}}))},o.InitRecorder=function(){var e=this;this.recorder=window.tt.getGameRecorderManager(),this.recorder&&this.recorder.onStop((function(n){e.videoPath=n.videoPath,console.log("录屏结束:",n.videoPath),e.isShaderVideo=!0,s.message.dispatchEvent(r.RecordSaved)}))},o.GetRankList=function(){window.tt.login({force:!0,success:function(e){console.log("登陆login 调用成功"+e.code+" "+e.anonymousCode),window.tt.getImRankList({relationType:"default",dataType:0,rankType:"all",suffix:"",rankTitle:"排行榜",zoneId:"default",success:function(e){console.log("获取排行榜完成 getImRankData success res: "+e)},fail:function(e){console.log("获取排行榜失败 getImRankData fail res: "+e.errMsg)}})},fail:function(e){console.log("登陆login 调用失败",e)}})},o.UploadScore=function(e,n){window.tt.setImRankData({dataType:0,value:n.toString(),priority:0,extra:"extra",zoneId:"default",success:function(e){console.log("排行榜上传完成，setImRankData success res: "+e)},fail:function(e){console.log("排行榜上传失败，setImRankData fail res: "+e.errMsg)}})},o.StartRecorder=function(){if(this.GetIsCanRecorder()){var e=this.GetWindowSize().x,n=this.GetWindowSize().y,t=this.recorder.getMark(),o=(e-t.markWidth)/2,i=(n-t.markHeight)/2;this.recorder.onStart((function(e){console.log("录屏开始",e)})),this.recorder.start({duration:300,isMarkOpen:!0,locLeft:o,locTop:i})}else console.log("设备不支持录制")},o.PauseRecorder=function(){this.GetIsCanRecorder()?this.recorder.pause():console.log("设备不支持录制")},o.ResumeRecorder=function(){this.GetIsCanRecorder()?this.recorder.resume():console.log("设备不支持录制")},o.EndRecorder=function(){this.GetIsCanRecorder()?this.recorder.stop():console.log("设备不支持录制")},o.ShareVideo=function(e,n,t){if(void 0===t&&(t=null),this.videoPath&&""!=this.videoPath){var o=new c;if(o.Add(["游戏","休闲小游戏","游戏日常","单机游戏","手游"]),o.Add(["游戏","休闲小游戏","手游推荐","游戏推荐","游戏日常"]),o.Add(["游戏","休闲小游戏","手游","单机游戏","游戏日常"]),o.Add(["游戏","休闲小游戏","抖音小游戏","单机游戏","游戏日常"]),o.Add(["游戏","休闲小游戏","抖音小游戏","手游","游戏日常"]),o.Add(["游戏","休闲小游戏","抖音小游戏","游戏精彩时刻","游戏日常"]),o.Add(["游戏","益智","抖音小游戏","游戏推荐","游戏日常"]),o.Add(["游戏","益智","抖音小游戏","游戏推荐","手游"]),o.Add(["游戏","每日游戏","益智","单机游戏","游戏推荐","手游"]),o.Add(["游戏","每日推荐","益智","单机游戏","游戏推荐","手游"]),o.Add(["游戏","每日推荐","益智","休闲小游戏","游戏推荐","手游"]),this.GetIsCanRecorder()){var i=this;(l.Instance.uma?l.Instance.uma:window.tt).shareAppMessage({title:e,desc:n,channel:"video",extra:{videoTopics:o[s.random.getRandomInt(0,o.length)],videoPath:this.videoPath,withVideoId:!1},success:function(e){i.isShaderVideo=!1,null!=t&&t(!0),s.message.dispatchEvent(r.ShareVideoSuccess),window.tt.showModal({title:"分享成功",content:JSON.stringify(e)})},fail:function(e){null!=t&&t(!1),window.tt.showModal({title:"分享失败",content:JSON.stringify(e)})}})}else console.log("设备不支持录制")}else window.tt.showModal({title:"分享失败",content:"未获取到视频地址，请稍后再试"})},o.ShareAppMessage=function(e,n){void 0===n&&(n=null),(l.Instance.uma?l.Instance.uma:window.tt).shareAppMessage({channel:"invite",title:e,desc:"点击进入游戏",success:function(e){console.log("分享成功"+JSON.stringify(e)),null!=n&&n(!0)},fail:function(e){console.log("分享失败"),null!=n&&n(!1)}})},o.CheckEntryIsAvailable=function(e){window.tt.checkScene({scene:"sidebar",success:function(n){console.log("check scene success:"+n.isExist),null!=e&&e(n.isExist)},fail:function(n){console.log("check scene fail:"+n),null!=e&&e(!1)}})},o.JumpToEntry=function(){window.tt.navigateToScene({scene:"sidebar",success:function(e){console.log("navigate to scene success")},fail:function(e){console.log("navigate to scene fail:"+e)}})},o.CheckDesktopIsAvailable=function(e){void 0===e&&(e=null),null!=e&&e(!0)},o.AddToDesktop=function(e){void 0===e&&(e=null),window.tt.addShortcut({success:function(){console.log("添加桌面成功"),null!=e&&e(!0)},fail:function(n){console.log("添加桌面失败",n.errMsg),null!=e&&e(!1)}})},t}(d))||u);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/DragPlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlaceItemIdle.ts","./GameEvent.ts","./NodeComp.ts","./ECS.ts","./Oops.ts","./CheckPlacement.ts","./Tool.ts","./GameMgr.ts","./GameGeneralConfig.ts"],(function(e){var t,o,n,i,l,a,r,s,c,g,u,h,d,f,m;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3,i=e.UITransform,l=e.Vec2},function(e){a=e.PlaceItemIdleComp},function(e){r=e.TouchEvents,s=e.GameLevelEvent},function(e){c=e.NodeComp},function(e){g=e.ecs},function(e){u=e.oops},function(e){h=e.CheckPlacementComp},function(e){d=e.default},function(e){f=e.GameMgr},function(e){m=e.GameGeneralConfig}],execute:function(){var v,y;o._RF.push({},"60bf1yKH9JKSbhdnVt2U8iI","DragPlaceItem",void 0),o._RF.push({},"f0626WE5GRHhK/QYsCaGw/y","DragPlaceItem",void 0);var p=e("DragPlaceItemComp",g.register("DragPlaceItem")(v=function(e){function o(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this).isDragging=!1,t.offset=new n(0,0,0),t.onComplete=null,t}return t(o,e),o.prototype.reset=function(){this.isDragging=!1,this.offset=new n(0,0,0),this.onComplete=null},o}(g.Comp))||v);e("DragPlaceItemSystem",g.register("DragPlaceItem")(y=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).dragEntity=null,t}t(o,e);var v=o.prototype;return v.filter=function(){return g.allOf(p,c)},v.init=function(){u.message.on(r.TouchStart,this.onTouchStart,this),u.message.on(r.TouchMove,this.onTouchMove,this),u.message.on(r.TouchEnd,this.onTouchEnd,this)},v.onDestroy=function(){u.message.off(r.TouchStart,this.onTouchStart,this),u.message.off(r.TouchMove,this.onTouchMove,this),u.message.off(r.TouchEnd,this.onTouchEnd,this)},v.entityEnter=function(e){e.get(c).node.eulerAngles=new n(0,0,0),f.levelView.compassSearch&&f.levelView.EntAddSearch(e)},v.entityRemove=function(e){this.dragEntity==e&&(this.dragEntity=null)},v.onTouchStart=function(e,t){var o,r;if(console.log("[Drag] onTouchStart touchPos=",null==t||null==(o=t.x)?void 0:o.toFixed(0),null==t||null==(r=t.y)?void 0:r.toFixed(0)),this.dragEntity)console.log("[Drag] already dragging one");else if(f.levelView&&f.levelView.roomItem){if(-1==m.GameLevel_CurrSelect){var s=f.levelView.data.totalCount-f.levelView.data.boxEntityCount,g=s-f.levelView.data.placeCount;if(s<5||3==g)return void console.log("[Drag] tutorial block: totalMinusBox=",s,"remaining=",g)}var u=f.levelView.roomItem.waitEntityList;console.log("[Drag] waitEntityList.length=",u.length);for(var h=u.length-1;h>=0;h--){var v,y,w=u[h],E=!!w.get(a),C=w.get(c).node,S=C.getComponent(i);if(console.log("[Drag] item["+h+"] idle=",E,"pos=",C.position.x.toFixed(0),C.position.y.toFixed(0),"size=",null==S||null==(v=S.width)?void 0:v.toFixed(0),"x",null==S||null==(y=S.height)?void 0:y.toFixed(0),"scale=",C.worldScale.x.toFixed(2),C.worldScale.y.toFixed(2)),E){if(S&&d.CheckClickNodeRange(t,C.position,new l(S.width*C.worldScale.x+60,S.height*C.worldScale.y+60))){console.log("[Drag] HIT! start dragging item["+h+"]"),this.dragEntity=w,this.dragEntity.remove(a);var x=this.dragEntity.add(p);x.offset=new n(C.position.x-t.x,C.position.y-t.y,0),x.isDragging=!0;break}console.log("[Drag] MISS item["+h+"]")}}}else console.log("[Drag] no levelView or roomItem")},v.onTouchMove=function(e,t,o){if(f.levelView&&f.levelView.roomItem)if(this.dragEntity){var i=this.dragEntity.get(c).node,l=this.dragEntity.get(p);l&&i.setPosition(new n(o.x+l.offset.x,o.y+l.offset.y,0))}else u.message.dispatchEvent(s.ScreenMove,t,o)},v.onTouchEnd=function(e,t,o){f.levelView&&f.levelView.roomItem&&(this.dragEntity&&(this.dragEntity.remove(p),this.dragEntity.add(h)),this.dragEntity=null)},o}(g.ComblockSystem))||y);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ECS.ts",["cc","./ECSComp.ts","./ECSEntity.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts"],(function(t){var e,n,o,i,r,c,s,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ECSComp},function(t){o=t.ECSEntity},function(t){i=t.ECSMatcher},function(t){r=t.ECSModel},function(t){c=t.ECSSystem,s=t.ECSRootSystem,u=t.ECSComblockSystem}],execute:function(){var d;t("ecs",void 0),e._RF.push({},"d36f33Ta0lDjbcjJY7h/2GW","ECS",void 0),e._RF.push({},"be87fT76plLkaUKEYpkuV0n","ECS",void 0),function(t){t.Entity=o,t.Comp=n,t.System=c,t.RootSystem=s,t.ComblockSystem=u;t.register=function(t,e){return void 0===e&&(e=!0),function(n){if(n.s){var o=r.systems.get(t);null==o&&(o=new d.System,r.systems.set(t,o)),o.add(new n)}else if(null==n.tid)r.entityCtors.set(n,t);else{if(-1!==n.tid)throw new Error("重复注册组件： "+t+".");n.tid=r.compTid++,n.compName=t,e?(r.compCtors.push(n),r.compPools.set(n.tid,[])):r.compCtors.push(null),r.compAddOrRemove.set(n.tid,[])}}},t.getEntity=function(t){var e=r.entityCtors.get(t);null==e&&console.error(t.name+" 实体没有注册");var n=(r.entityPool.get(e)||[]).pop();return n||((n=new t).eid=r.eid++,n.name=e),n.init?(n.isValid=!0,n.init()):console.error(t.name+" 实体缺少 init 方法初始化默认组件"),r.eid2Entity.set(n.eid,n),n},t.query=function(t){var e=r.groups.get(t.mid);return e||(e=r.createGroup(t),r.eid2Entity.forEach(e.onComponentAddOrRemove,e)),e.matchEntities},t.clear=function(){r.eid2Entity.forEach((function(t){t.destroy()})),r.groups.forEach((function(t){t.clear()})),r.compAddOrRemove.forEach((function(t){t.length=0})),r.eid2Entity.clear(),r.groups.clear()},t.getEntityByEid=function(t){return r.eid2Entity.get(t)},t.activeEntityCount=function(){return r.eid2Entity.size},t.allOf=function(){for(var t=new i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.allOf.apply(t,n)},t.anyOf=function(){for(var t=new i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.anyOf.apply(t,n)},t.onlyOf=function(){for(var t=new i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.onlyOf.apply(t,n)},t.excludeOf=function(){for(var t=new i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.excludeOf.apply(t,n)},t.getSingleton=function(t){if(!r.tid2comp.has(t.tid)){var e=function(t){var e=new d.Entity;return e.eid=r.eid++,r.eid2Entity.set(e.eid,e),e.add(t)}(t);r.tid2comp.set(t.tid,e)}return r.tid2comp.get(t.tid)},t.addSingleton=function(t){var e=t.constructor.tid;r.tid2comp.has(e)||r.tid2comp.set(e,t)}}(d||(d=t("ecs",{}))),e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSComp.ts",["cc"],(function(c){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"c3d6a6ZmARKj6ws9Lepr51k","ECSComp",void 0),t._RF.push({},"3d017ZhAZRH4bPfpLr5++8F","ECSComp",void 0);var e=c("ECSComp",(function(){this.ent=void 0,this.canRecycle=!0}));e.tid=-1,e.compName=void 0,t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ECSEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.ECSMask},function(t){o=t.ECSModel}],execute:function(){function s(t,i){for(var e=o.compAddOrRemove.get(i),n=e.length-1;n>=0;n--)e[n](t);o.tid2comp.has(i)&&o.tid2comp.delete(i)}e._RF.push({},"1e04blBizpEF5oB1UVA8XnI","ECSEntity",void 0),e._RF.push({},"1fb62WC3PZPvLhjoZQfrREJ","ECSEntity",void 0);t("ECSEntity",function(){function t(){this.eid=-1,this.name="",this.isValid=!0,this.mask=new n,this.compTid2Ctor=new Map,this.compTid2Obj=new Map,this._parent=null,this._children=null}var e=t.prototype;return e.addChild=function(t){t._parent=this,this.children.set(t.eid,t)},e.removeChild=function(t,i){void 0===i&&(i=!0),null!=this._children&&(t.parent=null,this._children.delete(t.eid),i&&t.destroy())},e.add=function(t,i){if(void 0===i&&(i=!1),"function"==typeof t){var e,n=t.tid;if(-1===n)throw Error("【"+this.name+"】实体【"+t.compName+"】组件未注册");if(this.compTid2Ctor.has(n)){if(!i)return console.log("【"+this.name+"】实体【"+t.compName+"】组件已存在"),this[t.compName];this.remove(t)}return this.mask.set(n),this.compTid2Obj.has(n)?(e=this.compTid2Obj.get(n),this.compTid2Obj.delete(n)):e=function(t){var i=o.compCtors[t.tid];if(!i)throw Error("没有找到该组件的构造函数，检查"+t.compName+"是否为不可构造的组件");return o.compPools.get(t.tid).pop()||new i}(t),this[t.compName]=e,this.compTid2Ctor.set(n,t),e.ent=this,s(this,n),e}var r=t.constructor,h=r.tid;if(-1===h||null==h)throw Error("【"+this.name+"】实体【"+r.name+"】组件未注册");if(this.compTid2Ctor.has(h))throw Error("【"+this.name+"】实体【"+r.name+"】组件已经存在");return this.mask.set(h),this[r.compName]=t,this.compTid2Ctor.set(h,r),t.ent=this,t.canRecycle=!1,s(this,h),this},e.addComponents=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];for(var n=0,o=i;n<o.length;n++){var s=o[n];this.add(s)}return this},e.get=function(t){return this[t.compName]},e.has=function(t){return"number"==typeof t?this.mask.has(t):this.compTid2Ctor.has(t.tid)},e.remove=function(t,i){void 0===i&&(i=!0);var e=!1,n=t.tid,r=t.compName;if(this.mask.has(n)){e=!0;var h=this[t.compName];h.ent=null,i?(h.reset(),h.canRecycle&&o.compPools.get(n).push(h)):this.compTid2Obj.set(n,h)}e&&(this[r]=null,this.mask.delete(n),this.compTid2Ctor.delete(n),s(this,n))},e.destroy=function(){var t=this;this.isValid=!1,this._parent&&(this._parent.removeChild(this,!1),this._parent=null),this._children&&(this._children.forEach((function(i){t.removeChild(i)})),this._children=null),this.compTid2Ctor.forEach((function(i){t.remove(i,!0)})),function(t){if(o.eid2Entity.has(t.eid)){var i=o.entityPool.get(t.name);null==i&&(i=[],o.entityPool.set(t.name,i)),i.push(t),o.eid2Entity.delete(t.eid)}else console.warn("试图销毁不存在的实体")}(this),this.compTid2Obj.clear()},i(t,[{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"children",get:function(){return null==this._children&&(this._children=new Map),this._children}}]),t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"276ccruchhLaIvgGYjB1vh7","ECSGroup",void 0),i._RF.push({},"c21a23o9P5FNJamcMmoYWfs","ECSGroup",void 0);t("ECSGroup",function(){function t(t){this.matcher=void 0,this._matchEntities=new Map,this._entitiesCache=null,this.count=0,this._enteredEntities=null,this._removedEntities=null,this.matcher=t}var i=t.prototype;return i.onComponentAddOrRemove=function(t){this.matcher.isMatch(t)?(this._matchEntities.set(t.eid,t),this._entitiesCache=null,this.count++,this._enteredEntities&&(this._enteredEntities.set(t.eid,t),this._removedEntities.delete(t.eid))):this._matchEntities.has(t.eid)&&(this._matchEntities.delete(t.eid),this._entitiesCache=null,this.count--,this._enteredEntities&&(this._enteredEntities.delete(t.eid),this._removedEntities.set(t.eid,t)))},i.watchEntityEnterAndRemove=function(t,e){this._enteredEntities=t,this._removedEntities=e},i.clear=function(){var t,e;this._matchEntities.clear(),this._entitiesCache=null,this.count=0,null==(t=this._enteredEntities)||t.clear(),null==(e=this._removedEntities)||e.clear()},e(t,[{key:"matchEntities",get:function(){return null===this._entitiesCache&&(this._entitiesCache=Array.from(this._matchEntities.values())),this._entitiesCache}},{key:"entity",get:function(){return this.matchEntities[0]}}]),t}());i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMask.ts",["cc","./ECSModel.ts"],(function(t){var s,i;return{setters:[function(t){s=t.cclegacy},function(t){i=t.ECSModel}],execute:function(){s._RF.push({},"dccc28bOytHFo36uOO1xcof","ECSMask",void 0),s._RF.push({},"d18694PPbtGs5Ipgo/vaJBX","ECSMask",void 0);t("ECSMask",function(){function t(){this.mask=void 0,this.size=void 0;var t=Math.ceil(i.compTid/31);this.mask=new Uint32Array(t),this.size=t}var s=t.prototype;return s.set=function(t){this.mask[t/31>>>0]|=1<<t%31},s.delete=function(t){this.mask[t/31>>>0]&=~(1<<t%31)},s.has=function(t){return!!(this.mask[t/31>>>0]&1<<t%31)},s.or=function(t){for(var s=0;s<this.size;s++)if(this.mask[s]&t.mask[s])return!0;return!1},s.and=function(t){for(var s=0;s<this.size;s++)if((this.mask[s]&t.mask[s])!==this.mask[s])return!1;return!0},s.clear=function(){for(var t=0;t<this.size;t++)this.mask[t]=0},t}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,n,r,e,s,h,u;return{setters:[function(t){i=t.construct,n=t.createForOfIteratorHelperLoose,r=t.createClass,e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){h=t.ECSMask},function(t){u=t.ECSModel}],execute:function(){s._RF.push({},"990fctBiVZFhKJilWGkbI37","ECSMatcher",void 0),s._RF.push({},"37e8arlqPlN7amZYyHFvBIp","ECSMatcher",void 0);var o=1,c=function(){function t(){this.indices=[],this.mask=new h;for(var t=-1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var e=0;e<n.length;e++){if(-1===(t="number"==typeof n[e]?n[e]:n[e].tid))throw Error("存在没有注册的组件！");this.mask.set(t),this.indices.indexOf(t)<0&&this.indices.push(t)}n.length>1&&this.indices.sort((function(t,i){return t-i}))}var i=t.prototype;return i.toString=function(){return this.indices.join("-")},i.isMatch=function(t){return!1},i.getKey=function(){return""},t}(),a=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.or(t.mask)},n.getKey=function(){return"anyOf:"+this.toString()},i}(c),f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.and(t.mask)},n.getKey=function(){return"allOf:"+this.toString()},i}(c),l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return!this.mask.or(t.mask)},n.getKey=function(){return"excludeOf:"+this.toString()},i}(c);t("ECSMatcher",function(){function t(){this.rules=[],this._indices=null,this.isMatch=void 0,this.mid=-1,this._key=null,this.mid=o++}var e=t.prototype;return e.anyOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(a,n)),this.bindMatchMethod(),this},e.allOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(f,n)),this.bindMatchMethod(),this},e.onlyOf=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];this.rules.push(i(f,r));for(var s,h=[],o=n(u.compCtors);!(s=o()).done;){var c=s.value;r.indexOf(c)<0&&h.push(c)}return this.rules.push(i(l,h)),this.bindMatchMethod(),this},e.excludeOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(l,n)),this.bindMatchMethod(),this},e.bindMatchMethod=function(){1===this.rules.length?this.isMatch=this.isMatch1:2===this.rules.length?this.isMatch=this.isMatch2:this.isMatch=this.isMatchMore},e.isMatch1=function(t){return this.rules[0].isMatch(t)},e.isMatch2=function(t){return this.rules[0].isMatch(t)&&this.rules[1].isMatch(t)},e.isMatchMore=function(t){for(var i,r=n(this.rules);!(i=r()).done;){if(!i.value.isMatch(t))return!1}return!0},e.clone=function(){var i=new t;return i.mid=o++,this.rules.forEach((function(t){return i.rules.push(t)})),i},r(t,[{key:"key",get:function(){if(!this._key){for(var t="",i=0;i<this.rules.length;i++)t+=this.rules[i].getKey(),i<this.rules.length-1&&(t+=" && ");this._key=t}return this._key}},{key:"indices",get:function(){var t=this;return null===this._indices&&(this._indices=[],this.rules.forEach((function(i){Array.prototype.push.apply(t._indices,i.indices)}))),this._indices}}]),t}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSModel.ts",["cc","./ECSGroup.ts"],(function(e){var o,n;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ECSGroup}],execute:function(){o._RF.push({},"72125oxycRBsYBw7m3JAog0","ECSModel",void 0),o._RF.push({},"1d60egM6r9Gta4Op3VABSGM","ECSModel",void 0);var t=e("ECSModel",function(){function e(){}return e.createGroup=function(o){var t=e.groups.get(o.mid);if(!t){t=new n(o),e.groups.set(o.mid,t);for(var p=o.indices,r=0;r<p.length;r++)e.compAddOrRemove.get(p[r]).push(t.onComponentAddOrRemove.bind(t))}return t},e}());t.eid=1,t.entityCtors=new Map,t.entityPool=new Map,t.eid2Entity=new Map,t.compTid=0,t.compPools=new Map,t.compCtors=[],t.compAddOrRemove=new Map,t.tid2comp=new Map,t.groups=new Map,t.systems=new Map,o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ECSSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSModel.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.ECSModel}],execute:function(){s._RF.push({},"496c2zLC/ZNH4spX1GkEiE3","ECSSystem",void 0),s._RF.push({},"9261fRWg2RBY5kxbFJsY1QC","ECSSystem",void 0),t("ECSComblockSystem",function(){function t(){this.group=void 0,this.dt=0,this.enteredEntities=null,this.removedEntities=null,this.hasEntityEnter=!1,this.hasEntityRemove=!1,this.hasUpdate=!1,this.tmpExecute=null,this.execute=void 0;var t=Object.getPrototypeOf(this),e=Object.hasOwnProperty,i=e.call(t,"entityEnter"),s=e.call(t,"entityRemove"),o=e.call(t,"firstUpdate"),r=e.call(t,"update");this.hasEntityEnter=i,this.hasEntityRemove=s,this.hasUpdate=r,i||s?(this.enteredEntities=new Map,this.removedEntities=new Map,this.execute=this.execute1,this.group=n.createGroup(this.filter()),this.group.watchEntityEnterAndRemove(this.enteredEntities,this.removedEntities)):(this.execute=this.execute0,this.group=n.createGroup(this.filter())),o&&(this.tmpExecute=this.execute,this.execute=this.updateOnce)}var i=t.prototype;return i.filter=function(){return null},i.init=function(){},i.onDestroy=function(){},i.hasEntity=function(){return this.group.count>0},i.updateOnce=function(t){if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){for(var i,s=e(this.enteredEntities.values());!(i=s()).done;){var n=i.value;this.entityEnter(n)}this.enteredEntities.clear()}for(var o,r=e(this.group.matchEntities);!(o=r()).done;){var u=o.value;this.firstUpdate(u)}this.execute=this.tmpExecute,this.execute(t),this.tmpExecute=null}},i.execute0=function(t){if(0!==this.group.count&&(this.dt=t,this.hasUpdate))for(var i,s=e(this.group.matchEntities);!(i=s()).done;){var n=i.value;this.update(n)}},i.execute1=function(t){if(this.removedEntities.size>0){if(this.hasEntityRemove)for(var i,s=e(this.removedEntities.values());!(i=s()).done;){var n=i.value;this.entityRemove(n)}this.removedEntities.clear()}if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){if(this.hasEntityEnter)for(var o,r=e(this.enteredEntities.values());!(o=r()).done;){var u=o.value;this.entityEnter(u)}this.enteredEntities.clear()}if(this.hasUpdate)for(var h,c=e(this.group.matchEntities);!(h=c()).done;){var a=h.value;this.update(a)}}},t}()).s=!0;t("ECSRootSystem",function(){function t(){this.executeSystemFlows=[],this.systemCnt=0}var e=t.prototype;return e.add=function(t){return t instanceof o?Array.prototype.push.apply(this.executeSystemFlows,t.comblockSystems):this.executeSystemFlows.push(t),this.systemCnt=this.executeSystemFlows.length,this},e.init=function(){var t=this;n.systems.forEach((function(e){return t.add(e)})),this.executeSystemFlows.forEach((function(t){return t.init()}))},e.execute=function(t){for(var e=0;e<this.systemCnt;e++)this.executeSystemFlows[e].execute(t)},e.clear=function(){this.executeSystemFlows.forEach((function(t){return t.onDestroy()}))},t}());var o=t("ECSSystem",function(){function t(){this._comblockSystems=[]}return t.prototype.add=function(e){return e instanceof t?(Array.prototype.push.apply(this._comblockSystems,e._comblockSystems),e._comblockSystems.length=0):this._comblockSystems.push(e),this},i(t,[{key:"comblockSystems",get:function(){return this._comblockSystems}}]),t}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/Effect2DFollow3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MathUtil.ts"],(function(t){var e,o,i,n,r,a,s,l,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Vec3,c=t.Component},function(t){u=t.oops},function(t){p=t.MathUtil}],execute:function(){var f,d,h,m,w,y,D,b;r._RF.push({},"4cdecF15JdNbIgLQixpLz6l","Effect2DFollow3D",void 0);var v=a.ccclass,g=a.property;r._RF.push({},"f04f92UNY1J34UPA0VrEIsH","Effect2DFollow3D",void 0);t("Effect2DFollow3D",(f=v("Effect2DFollow3D"),d=g({type:s}),h=g({type:s}),f((y=e((w=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"node3d",y,n(e)),i(e,"nodeUi",D,n(e)),i(e,"distance",b,n(e)),e.camera=null,e.pos=new l,e}o(e,t);var r=e.prototype;return r.setTarget=function(t){this.node3d=t},r.start=function(){var t=this.zoom();this.node.setScale(t,t,1)},r.lateUpdate=function(t){var e=this.zoom();e=p.lerp(this.node.scale.x,e,.1),this.node.setScale(e,e,1)},r.zoom=function(){this.camera.convertToUINode(this.node3d.worldPosition,u.gui.game,this.pos),this.nodeUi.setPosition(this.pos),l.transformMat4(this.pos,this.node3d.worldPosition,this.camera._camera.matView);var t=this.distance/Math.abs(this.pos.z);return Math.floor(100*t)/100},e}(c)).prototype,"node3d",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(w.prototype,"nodeUi",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(w.prototype,"distance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=w))||m));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectDelayRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectSingleCase.ts"],(function(e){var t,n,i,a,l,r,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Component},function(e){c=e.EffectSingleCase}],execute:function(){var s,f,u;l._RF.push({},"86f8aqPMXRI94Bz+DL47qbd","EffectDelayRelease",void 0);var p=r.ccclass,y=r.property;l._RF.push({},"01359fvxlFJZKx7BLUcTSWS","EffectDelayRelease",void 0);e("EffectDelayRelease",p("EffectDelayRelease")((u=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"delay",u,a(t)),t}n(t,e);var l=t.prototype;return l.onEnable=function(){var e=this;this.scheduleOnce((function(){return e.onDelay()}),this.delay)},l.onDelay=function(){this.isValid&&c.instance.put(this.node)},l.onDisable=function(){this.unschedule(this.onDelay)},t}(o)).prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=f))||s);l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/EffectEvent.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ec36eUroQFJ5KexIWSdf76x","EffectEvent",void 0),t._RF.push({},"445875CzyRKaLiSXTYH66lm","EffectEvent",void 0);e("EffectEvent",{Put:"EffectEvent_Put"});t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectEvent.ts","./MessageManager.ts"],(function(e){var t,n,i,a,o,s,r,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.sp,o=e.Animation,s=e.ParticleSystem,r=e.Component},function(e){c=e.EffectEvent},function(e){u=e.message}],execute:function(){var l;n._RF.push({},"a718fLZX/dCDpkgl+njQzzy","EffectFinishedRelease",void 0);var f=i.ccclass;n._RF.push({},"a751fmayL5JMYH0D4uJoK5H","EffectFinishedRelease",void 0);e("EffectFinishedRelease",f("EffectFinishedRelease")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).maxDuration=0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){var e=this,t=this.getComponent(a.Skeleton);if(t){var n=t.skeletonData.skeletonJson.animations;for(var i in n){t.setCompleteListener(this.onRecovery.bind(this)),t.setAnimation(0,i,!1);break}}else{var r=this.node.getComponentsInChildren(o);r.length>0?(r.forEach((function(t){var n,i=null==(n=t.defaultClip)?void 0:n.name;if(i){var a=t.getState(i);if(a){var o=a.duration;e.maxDuration=o>e.maxDuration?o:e.maxDuration}}t.play()})),this.scheduleOnce(this.onRecovery.bind(this),this.maxDuration)):s&&(this.node.getComponentsInChildren(s).forEach((function(t){t.clear(),t.stop(),t.play();var n=t.duration;e.maxDuration=n>e.maxDuration?n:e.maxDuration})),this.scheduleOnce(this.onRecovery.bind(this),this.maxDuration))}},i.onRecovery=function(){this.node.parent&&u.dispatchEvent(c.Put,this.node)},n}(r))||l);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectSingleCase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts","./ResLoader.ts","./ViewUtil.ts","./EffectEvent.ts","./EffectFinishedRelease.ts"],(function(e){var t,n,s,i,r,a,c,f,o,u,l,h,d,p;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e.NodePool,a=e.sp,c=e.Animation,f=e.ParticleSystem,o=e.Prefab},function(e){u=e.message},function(e){l=e.resLoader},function(e){h=e.ViewUtil},function(e){d=e.EffectEvent},function(e){p=e.EffectFinishedRelease}],execute:function(){i._RF.push({},"bc858f3o6RFwryWlxiQxkLq","EffectSingleCase",void 0),i._RF.push({},"bf338Z+oYxIUbd4bPREw9Ud","EffectSingleCase",void 0);var v=e("EffectSingleCase",function(){function e(){this._speed=1,this.effects=new Map,this.effects_use=new Map,this.res=new Map,u.on(d.Put,this.onPut,this)}var i=e.prototype;return i.onPut=function(e,t){this.put(t)},i.getCount=function(e){var t=this.effects.get(e);return t?t.size():0},i.preload=function(){var e=n(s().mark((function e(t,n,i){var a,c,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=l.defaultBundleName),null==(a=this.effects.get(n))&&(a=new r,this.effects.set(n,a)),this.res.set(n,i),e.next=6,l.loadAsync(i,n,o);case 6:for(c=0;c<t;c++)(f=h.createPrefabNode(n,i)).res_path=n,a.put(f);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}(),i.loadAndShow=function(){var e=n(s().mark((function e(t,n,i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.effects.get(t)){e.next=2;break}return e.abrupt("return",this.show(t,n,i));case 2:if(!i||!i.bundleName){e.next=8;break}return this.res.set(t,i.bundleName),e.next=6,l.loadAsync(i.bundleName,t,o);case 6:e.next=11;break;case 8:return this.res.set(t,l.defaultBundleName),e.next=11,l.loadAsync(t,o);case 11:return e.abrupt("return",this.show(t,n,i));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}(),i.show=function(e,t,n){var s,i=this.effects.get(e);if(null==i&&(i=new r,this.effects.set(e,i)),0==i.size()){var a=l.defaultBundleName;n&&n.bundleName&&(a=n.bundleName),(s=h.createPrefabNode(e,a)).res_path=e,n&&n.isPlayFinishedRelease&&s.addComponent(p)}else s=i.get();return this.setSpeed(s),t&&(s.parent=t),n&&(n.pos&&(s.position=n.pos),n.worldPos&&(s.worldPosition=n.worldPos)),this.effects_use.set(s,!0),s},i.put=function(e){var t=e.res_path;if(t){var n=this.effects.get(t);n&&(this.effects_use.delete(e),n.put(e))}},i.clear=function(e){if(e){var t=this.effects.get(e);t&&t.clear()}else this.effects.forEach((function(e){e.clear()})),this.effects.clear()},i.release=function(e){if(e){this.clear(e);var t=this.res.get(e);l.release(e,t),this.res.delete(e)}else this.clear(),this.res.forEach((function(e,t){l.release(t,e)})),this.res.clear()},i.setSpeed=function(e){var t=this,n=e.getComponent(a.Skeleton);if(n)n.timeScale=this.speed;else{var s=e.getComponentsInChildren(c);s.length>0?s.forEach((function(e){var n,s=null==(n=e.defaultClip)?void 0:n.name;if(s){var i=e.getState(s);i&&(i.speed=t.speed)}})):f&&e.getComponentsInChildren(f).forEach((function(e){e.simulationSpeed=t.speed}))}},t(e,[{key:"speed",get:function(){return this._speed},set:function(e){var t=this;this._speed=e,this.effects_use.forEach((function(e,n){t.setSpeed(n)}))}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}());v._instance=void 0,v._instance=void 0,i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc","./index.mjs_cjs=&original=.js","./index.js"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy},null,function(t){i=t.default}],execute:function(){n._RF.push({},"f3277NKx3xIYZDjwKclyIg8","EncryptUtil",void 0),n._RF.push({},"46d12Bx4JdKnIYHhcvNk6S1","EncryptUtil",void 0);var r=t("EncryptUtil",function(){function t(){}return t.md5=function(t){return i.MD5(t).toString()},t.initCrypto=function(t,n){this.key=t,this.iv=i.enc.Hex.parse(n)},t.aesEncrypt=function(t,n,r){return i.AES.encrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString()},t.aesDecrypt=function(t,n,r){return i.AES.decrypt(t,this.key,{iv:this.iv,format:this.JsonFormatter}).toString(i.enc.Utf8)},t}());r.key=null,r.iv=null,r.JsonFormatter={stringify:function(t){var n={ct:t.ciphertext.toString(i.enc.Base64)};return t.iv&&(n.iv=t.iv.toString()),t.salt&&(n.s=t.salt.toString()),JSON.stringify(n)},parse:function(t){var n=JSON.parse(t),r=i.lib.CipherParams.create({ciphertext:i.enc.Base64.parse(n.ct)});return n.iv&&(r.iv=i.enc.Hex.parse(n.iv)),n.s&&(r.salt=i.enc.Hex.parse(n.s)),r}},n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/EntryRewardPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./MusicMgr.ts","./ArchiveManager.ts","./PlatformMgr.ts"],(function(t){var n,e,i,o,a,c,r,s,l,f;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.find,a=t.Button},function(t){c=t.GameComponent},function(t){r=t.MusicMgr,s=t.EffectType},function(t){l=t.ArchiveManager},function(t){f=t.PlatformMgr}],execute:function(){var u;e._RF.push({},"572f247NmdNiJdxqolsGyvr","EntryRewardPage",void 0);var v=i.ccclass;e._RF.push({},"47731naStJM9pZA9IYndbgN","EntryRewardPage",void 0);t("EntryRewardPage",v("EntryRewardPage")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onLoad=function(){var t=o("CloseBtn",this.node);null==t||t.on(a.EventType.CLICK,this.OnClickCloseBtn,this);var n=o("ContentUI/GotoBtn",this.node);null==n||n.on(a.EventType.CLICK,this.OnClickGotoBtn,this);var e=o("ContentUI/ReceiveBtn",this.node);null==e||e.on(a.EventType.CLICK,this.OnClickReceiveBtn,this);var i=o("ContentUI/ReceivedBtn",this.node);n&&(n.active=!1),e&&(e.active=!1),i&&(i.active=!1),l.platform.data.isReceiveSidebar?i&&(i.active=!0):f.platformAPI.sidebarEntry?(n&&(n.active=!1),e&&(e.active=!0)):(n&&(n.active=!0),e&&(e.active=!1))},i.OnClickCloseBtn=function(){this.node.destroy(),r.PlayEffect(s.UIClick)},i.OnClickGotoBtn=function(){f.platformAPI.JumpToEntry(),this.OnClickCloseBtn(),r.PlayEffect(s.UIClick)},i.OnClickReceiveBtn=function(){f.platformAPI.sidebarEntry&&l.platform.data.isReceiveSidebar,this.OnClickCloseBtn(),r.PlayEffect(s.UIClick)},e}(c))||u);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/env.ts",["cc"],(function(I){var E;return{setters:[function(I){E=I.cclegacy}],execute:function(){E._RF.push({},"e76ba2SPnpH06n0uGfMU1Jh","env",void 0);I("HTML5",!1),I("NATIVE",!1),I("ANDROID",!1),I("IOS",!1),I("MAC",!1),I("WINDOWS",!1),I("LINUX",!1),I("OHOS",!1),I("OPEN_HARMONY",!1),I("WECHAT",!0),I("WECHAT_MINI_PROGRAM",!1),I("BAIDU",!1),I("XIAOMI",!1),I("ALIPAY",!1),I("TAOBAO",!1),I("TAOBAO_MINIGAME",!1),I("BYTEDANCE",!1),I("OPPO",!1),I("VIVO",!1),I("HUAWEI",!1),I("COCOSPLAY",!1),I("QTT",!1),I("LINKSURE",!1),I("EDITOR",!1),I("EDITOR_NOT_IN_PREVIEW",!1),I("PREVIEW",!1),I("BUILD",!0),I("TEST",!1),I("DEBUG",!1),I("DEV",!1),I("MINIGAME",!0),I("RUNTIME_BASED",!1),I("SUPPORT_JIT",!1),I("JSB",!1),I("NET_MODE",0);E._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./MessageManager.ts"],(function(t){var s,n;return{setters:[function(t){s=t.cclegacy},function(t){n=t.MessageEventData}],execute:function(){s._RF.push({},"502d1lkL5BDu7k2JwB3xC8+","EventDispatcher",void 0),s._RF.push({},"c680af5iPNKeIO4cArf/90m","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,e){null==this._msg&&(this._msg=new n),this._msg.on(t,s,e)},s.off=function(t){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t){var s;null==this._msg&&(this._msg=new n);for(var e=arguments.length,i=new Array(e>1?e-1:0),c=1;c<e;c++)i[c-1]=arguments[c];(s=this._msg).dispatchEvent.apply(s,[t].concat(i))},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"b1ac4ucfMlEcZxt4BdnMHvj","EventMessage",void 0),e._RF.push({},"beea7u9xnJD4rMj6ua/LTcF","EventMessage",void 0);E("EventMessage",{GAME_SHOW:"GAME_ENTER",GAME_HIDE:"GAME_EXIT",GAME_RESIZE:"GAME_RESIZE",GAME_FULL_SCREEN:"GAME_FULL_SCREEN",GAME_ORIENTATION:"GAME_ORIENTATION"});e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/FailPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./ShareManager.ts","./MusicMgr.ts","./ToastMgr.ts","./AwaitDelay.ts"],(function(e){var n,t,a,o,i,r,s,c,u,f,l,m,g,p,h,v,d,y,G,M;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,i=e._decorator},function(e){r=e.oops},function(e){s=e.GameComponent},function(e){c=e.ItemType,u=e.MoneyType},function(e){f=e.GameEvent},function(e){l=e.GameGeneralConfig},function(e){m=e.UIID},function(e){g=e.ItemInfo},function(e){p=e.AdsManager},function(e){h=e.PlatformMgr},function(e){v=e.ShareManager},function(e){d=e.MusicMgr,y=e.EffectType},function(e){G=e.ToastMgr},function(e){M=e.AwaitDelay}],execute:function(){var I;o._RF.push({},"ae2deYyysZBJq0NOZMA5urU","FailPage",void 0);var P=i.ccclass;o._RF.push({},"e04f74A1WpPvZxLu7lBvohR","FailPage",void 0);e("FailPage",P("FailPage")(I=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var i=o.prototype;return i.start=function(){this.dispatchEvent(f.GameOver),h.platformAPI.EndRecorder(),this.setButton(),this.WaitShowAds()},i.WaitShowAds=function(){var e=t(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.WaitingTime(r.random.getRandomFloat(.2,1.5));case 2:p.Instance.ShowInterstitial();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.AgainBtn=function(){new g(c.货币,0,u.体力).use(l.PlayGame_Stamina)?(r.gui.removeByNode(this.node),r.gui.remove(m.GameLevelScene),r.gui.open(m.GameLevelScene)):G.AddMessage("体力不足"),d.PlayEffect(y.UIClick)},i.ShareBtn=function(){v.ShareGame(),d.PlayEffect(y.UIClick)},i.CloseBtn=function(){r.gui.removeByNode(this.node),r.gui.remove(m.GameLevelScene),r.gui.open(m.HomeScene),d.PlayEffect(y.UIClick)},o}(s))||I);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/FireworksUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./AwaitDelay.ts"],(function(e){var t,r,s,i,a,n,o,h,c,u,l,p,f,m,d,F;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,h=e._decorator,c=e.Node,u=e.Vec3,l=e.Sprite,p=e.SpriteFrame},function(e){f=e.oops},function(e){m=e.GameComponent},function(e){d=e.Bundle},function(e){F=e.AwaitDelay}],execute:function(){var y,v,g,w,b,k,I;o._RF.push({},"5af03AoLFFETJOdSNNldYsk","FireworksUI",void 0);var x=h.ccclass,L=h.property;o._RF.push({},"05c18mUHk9FlaKa97PGQPbR","FireworksUI",void 0);e("FireworksUI",(y=x("FireworksUI"),v=L(c),g=L(c),y((k=t((b=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,s(t,"pos",k,i(t)),s(t,"layer",I,i(t)),t.itemName="pages/gamelevel/winPage/EffectFireworks",t.recs={},t.posArr=[],t.showCd=.5,t.curt=0,t.isLoad=!1,t.yanhuaFrames=[],t}r(t,e);var o=t.prototype;return o.onEnable=function(){var e=this;for(var t in this.recs){var r=this.recs[t];r&&r.sprite&&(r.sprite.spriteFrame=null)}this.recs={};for(var s=0;s<this.layer.children.length;s++){var i=this.layer.children[s];f.pool.put(i)}this.posArr=[],this.pos.children.forEach((function(t){e.posArr.push(new u(t.position))})),this.curt=0,this.PreLoad()},o.PreLoad=function(){var e=a(n().mark((function e(){var t,r,s,i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[FireworksUI] PreLoad start"),e.prev=1,e.next=4,f.pool.preload(1,this.itemName,d.prefabTest);case 4:if(0!==this.yanhuaFrames.length){e.next=12;break}for(t=[],r=0;r<18;r++)s=r.toString().padStart(5,"0"),i="texture/IS_yanhua_"+s+"/spriteFrame",t.push(f.res.loadAsync(d.prefabTest,i,p));return e.next=9,Promise.all(t);case 9:for(a=e.sent,o=0;o<a.length;o++)a[o]&&this.yanhuaFrames.push(a[o]);console.log("[FireworksUI] loaded yanhua frames:",this.yanhuaFrames.length);case 12:this.isLoad=this.yanhuaFrames.length>0,console.log("[FireworksUI] PreLoad done, isLoad=",this.isLoad),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("[FireworksUI] PreLoad FAILED:",e.t0);case 19:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),o.onDisable=function(){f.pool.clear(this.itemName)},o.createItems=function(){var e=a(n().mark((function e(){var t,r,s,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoad){e.next=2;break}return e.abrupt("return");case 2:t=new u,r=Math.floor(3*Math.random())+1,s=0;case 5:if(!(s<r)){e.next=23;break}if(!(this.node&&this.node.activeInHierarchy&&this.layer)){e.next=18;break}if(i=f.pool.show(this.itemName,this.layer,{bundleName:d.prefabTest})){e.next=10;break}return e.abrupt("continue",20);case 10:t.x=t.y=1*Math.random()+1,i.setScale(t),i.setPosition(this.posArr[Math.floor(Math.random()*this.posArr.length)]),i.parent=this.layer,a=new P(i,this.yanhuaFrames),this.recs[i.uuid]=a,this.showCd=.2+.5*Math.random(),this.curt=0;case 18:return e.next=20,F.WaitingTime(.1);case 20:s++,e.next=5;break;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.update=function(e){if(this.isLoad)for(var t in this.curt+=e,this.curt>=this.showCd&&(this.curt=0,this.createItems()),this.recs){var r=this.recs[t];r.isFinish?(f.pool.put(r.node),delete this.recs[t]):r.update(e)}},t}(m)).prototype,"pos",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(b.prototype,"layer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));var P=e("FireWorkItem",function(){function e(e,t){var r;this.node=null,this.sprite=null,this.frames=[],this.curt=0,this.during=.75,this.isFinish=!1,this.frameInterval=1/24,this.lastFrameIndex=-1,this.node=e,this.frames=t;var s=null==(r=e.children[0])?void 0:r.getComponent(l);this.sprite=s||e.getComponent(l),this.sprite&&this.frames.length>0&&(this.sprite.spriteFrame=this.frames[0])}return e.prototype.update=function(e){if(this.curt+=e,this.curt>=this.during)this.isFinish=!0;else if(this.sprite&&this.frames.length>0){var t=Math.min(Math.floor(this.curt/this.frameInterval),this.frames.length-1);t!==this.lastFrameIndex&&(this.sprite.spriteFrame=this.frames[t],this.lastFrameIndex=t)}},e}());o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.sp,a=t.Material,o=t.Component}],execute:function(){var r;i._RF.push({},"44c544LTm9EAZit8nGgh+Ad","FlashSpine",void 0);var l=n.ccclass;i._RF.push({},"61de7pPhiNF5plXR5pVKfXu","FlashSpine",void 0);t("default",l("FlashSpine")(r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).duration=.5,e._median=0,e._time=0,e._material=null,e._skeleton=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this._median=this.duration/2,this._skeleton=this.node.getComponent(s.Skeleton),this._material=this._skeleton.customMaterial,this._material.setProperty("u_rate",1)},n.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var e=2*Math.abs(this._time-this._median)/this.duration,i=new a;i.copy(this._material),this._skeleton.customMaterial=i,i.setProperty("u_rate",e)}},n.clickFlash=function(){this._time=this.duration},i}(o))||r);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,a,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,a=t.Sprite,n=t.Component}],execute:function(){var s;e._RF.push({},"e0cdeCwHo9OoKpvf31XfsCr","FlashSprite",void 0);var o=r.ccclass;r.property;e._RF.push({},"a7a9eXWbUpJ3rONqlgUYCY/","FlashSprite",void 0);t("default",o("FlashSprite")(s=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(i=t.call.apply(t,[this].concat(r))||this).duration=.5,i._median=0,i._time=0,i._material=null,i}i(e,t);var r=e.prototype;return r.onLoad=function(){this._median=this.duration/2,this._material=this.node.getComponent(a).getMaterial(0),this._material.setProperty("u_rate",1)},r.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var i=2*Math.abs(this._time-this._median)/this.duration;this._material.setProperty("u_rate",i)}},r.clickFlash=function(){this._time=this.duration},e}(n))||s);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyingToTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(t){var e,o,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Vec3},function(t){r=t.ecs},function(t){i=t.NodeComp}],execute:function(){var s,a;o._RF.push({},"0d704Ih6gxCk7WOM5K6aNpN","FlyingToTarget",void 0),o._RF.push({},"fe13bGjC+dKMbRx9Us6ZBRs","FlyingToTarget",void 0);var l=t("FlyingToTargetComp",r.register("FlyingToTarget")(s=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).duration=1,e.elapsed=0,e.startPos=new n(0,0,0),e.targetPos=new n(0,0,0),e.onComplete=null,e}return e(o,t),o.prototype.reset=function(){this.duration=1,this.elapsed=0,this.startPos=new n(0,0,0),this.targetPos=new n(0,0,0),this.onComplete=null},o}(r.Comp))||s);t("FlyingToTargetSystem",r.register("FlyingToTarget")(a=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.filter=function(){return r.allOf(l,i)},n.update=function(t){var e=t.get(l),o=t.get(i);if(!(e.elapsed>=e.duration)){e.elapsed+=this.dt;var n=Math.min(e.elapsed/e.duration,1);o.node.position=e.startPos.clone().lerp(e.targetPos,n),n>=1&&(null==e.onComplete||e.onComplete(),t.remove(l))}},o}(r.ComblockSystem))||a);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeFlightCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,s,a,h,c,p,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.math,h=e.KeyCode,c=e.CCFloat,p=e.input,l=e.Input,u=e.game,y=e.Component}],execute:function(){var d,v,_,f,C,S,T,m,E,g,x,F;r._RF.push({},"96d02G7xL5An4PC5t+b82tD","FreeFlightCamera",void 0);var k=s.ccclass,w=s.property,z=s.menu,A=a.Vec2,b=a.Vec3,U=a.Quat,D=new A,L=new A,O=new b,H=new U,K="W".charCodeAt(0),M="S".charCodeAt(0),P="A".charCodeAt(0),W="D".charCodeAt(0),R="Q".charCodeAt(0),N="E".charCodeAt(0),Y=h.SHIFT_LEFT;r._RF.push({},"6c841mU+4JNvqwHy5tJsJh0","FreeFlightCamera",void 0);e("FreeFlightCamera",(d=k("FreeFlightCamera"),v=z("OopsFramework/Camera/FreeFlightCamera （自由飞行摄像机）"),_=w({type:c,tooltip:"移动速度"}),f=w({type:c,tooltip:"按Shift键后的速度"}),C=w({type:c,slide:!0,range:[.05,.5,.01],tooltip:"移动后惯性效果"}),S=w({type:c,tooltip:"旋转速度"}),d(T=v((E=t((m=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"moveSpeed",E,n(t)),i(t,"moveSpeedShiftScale",g,n(t)),i(t,"damp",x,n(t)),i(t,"rotateSpeed",F,n(t)),t._euler=new b,t._velocity=new b,t._position=new b,t._speedScale=1,t}o(t,e);var r=t.prototype;return r.onLoad=function(){p.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.on(l.EventType.KEY_DOWN,this.onKeyDown,this),p.on(l.EventType.KEY_UP,this.onKeyUp,this),p.on(l.EventType.TOUCH_START,this.onTouchStart,this),p.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(l.EventType.TOUCH_END,this.onTouchEnd,this),b.copy(this._euler,this.node.eulerAngles),b.copy(this._position,this.node.position)},r.onDestroy=function(){p.off(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.off(l.EventType.KEY_DOWN,this.onKeyDown,this),p.off(l.EventType.KEY_UP,this.onKeyUp,this),p.off(l.EventType.TOUCH_START,this.onTouchStart,this),p.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.update=function(e){b.transformQuat(O,this._velocity,this.node.rotation),b.scaleAndAdd(this._position,this._position,O,this.moveSpeed*this._speedScale),b.lerp(O,this.node.position,this._position,e/this.damp),this.node.setPosition(O),U.fromEuler(H,this._euler.x,this._euler.y,this._euler.z),U.slerp(H,this.node.rotation,H,e/this.damp),this.node.setRotation(H)},r.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;b.transformQuat(O,b.UNIT_Z,this.node.rotation),b.scaleAndAdd(this._position,this.node.position,O,t)},r.onKeyDown=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=this.moveSpeedShiftScale:e.keyCode===K?0===t.z&&(t.z=-1):e.keyCode===M?0===t.z&&(t.z=1):e.keyCode===P?0===t.x&&(t.x=-1):e.keyCode===W?0===t.x&&(t.x=1):e.keyCode===R?0===t.y&&(t.y=-1):e.keyCode===N&&0===t.y&&(t.y=1)},r.onKeyUp=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=1:e.keyCode===K?t.z<0&&(t.z=0):e.keyCode===M?t.z>0&&(t.z=0):e.keyCode===P?t.x<0&&(t.x=0):e.keyCode===W?t.x>0&&(t.x=0):e.keyCode===R?t.y<0&&(t.y=0):e.keyCode===N&&t.y>0&&(t.y=0)},r.onTouchStart=function(e){u.canvas.requestPointerLock()},r.onTouchMove=function(e){e.getStartLocation(D),D.x>.4*u.canvas.width?(e.getDelta(L),this._euler.y-=L.x*this.rotateSpeed*.1,this._euler.x+=L.y*this.rotateSpeed*.1):(e.getLocation(L),A.subtract(L,L,D),this._velocity.x=.01*L.x,this._velocity.z=.01*-L.y)},r.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(D),D.x<.4*u.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},t}(y)).prototype,"moveSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(m.prototype,"moveSpeedShiftScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(m.prototype,"damp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),F=t(m.prototype,"rotateSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=m))||T)||T));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/GameClubBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AwaitDelay.ts","./GameEnum.ts","./PlatformMgr.ts"],(function(t){var e,n,r,a,o,i,u,c,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,i=t.Component},function(t){u=t.AwaitDelay},function(t){c=t.PlatformType},function(t){s=t.PlatformMgr}],execute:function(){var l;a._RF.push({},"9396azfjx1Aboje8+j/br+1","GameClubBtn",void 0);var f=o.ccclass;o.property;a._RF.push({},"a7765nF2v1F2YIeCmxg0tir","GameClubBtn",void 0);t("GameClubBtn",f("GameClubBtn")(l=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var o=a.prototype;return o.onEnable=function(){this.WaitShow()},o.WaitShow=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.currPlatform!=c.微信){t.next=6;break}return t.next=3,u.WaitingTime(.1);case 3:s.platformAPI.CreateGameClub(this.node),t.next=7;break;case 6:this.node.active=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onDisable=function(){s.currPlatform==c.微信&&s.platformAPI.HideGameClub()},a}(i))||l);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,n,t,e,l,r,s,c,a;return{setters:[function(i){o=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){l=i.cclegacy,r=i._decorator,s=i.ccenum,c=i.Collider,a=i.Component}],execute:function(){var h,g,u,p,C;l._RF.push({},"94b1bcYLmJIj6Xzgw2WhAlI","GameCollision",void 0);var f=r.ccclass,y=r.property;l._RF.push({},"7fa3eqzDkpBUq8OUNr05VJh","GameCollision",void 0);var d=i("CollisionType",function(i){return i[i.Role=0]="Role",i[i.Ballistic=1]="Ballistic",i[i.Wall=2]="Wall",i}({}));s(d);var T="onTriggerEnter",E="onTriggerStay",m="onTriggerExit",b="onCollisionEnter",v="onCollisionStay",x="onCollisionExit";i("GameCollision",(h=f("GameCollision"),g=y({type:d,tooltip:"碰撞物体类型"}),h((C=o((p=function(i){function o(){for(var o,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(o=i.call.apply(i,[this].concat(l))||this).collider=null,t(o,"type",C,e(o)),o}n(o,i);var l=o.prototype;return l.onLoad=function(){this.collider=this.getComponent(c),this.collider.isTrigger?(this.collider.on(T,this.onTrigger,this),this.collider.on(E,this.onTrigger,this),this.collider.on(m,this.onTrigger,this)):(this.collider.on(b,this.onCollision,this),this.collider.on(v,this.onCollision,this),this.collider.on(x,this.onCollision,this))},l.onTrigger=function(i){switch(i.type){case T:this.onTriggerEnter(i);break;case E:this.onTriggerStay(i);break;case m:this.onTriggerExit(i)}},l.onTriggerEnter=function(i){},l.onTriggerStay=function(i){},l.onTriggerExit=function(i){},l.onCollision=function(i){switch(i.type){case b:this.onCollisionEnter(i);break;case v:this.onCollisionStay(i);break;case x:this.onCollisionExit(i)}},l.onCollisionEnter=function(i){},l.onCollisionStay=function(i){},l.onCollisionExit=function(i){},o}(a)).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Ballistic}}),u=p))||u));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/GameComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./EventDispatcher.ts","./EventMessage.ts","./ResLoader.ts","./ViewUtil.ts"],(function(e){var t,n,s,o,i,r,a,u,h,c,f,d,l,p,v,y,m,E,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e._decorator,a=e.Node,u=e.Button,h=e.EventHandler,c=e.input,f=e.Input,d=e.Component,l=e.isValid,p=e.SpriteFrame},function(e){v=e.oops},function(e){y=e.EventDispatcher},function(e){m=e.EventMessage},function(e){E=e.resLoader},function(e){g=e.ViewUtil}],execute:function(){var P;i._RF.push({},"3b085B7rpdMJ7kRsXSCOZh5","GameComponent",void 0);var G=r.ccclass;i._RF.push({},"62362nWbWZP653j6XL/zJDq","GameComponent",void 0);var R=function(e){return e[e.Load=0]="Load",e[e.LoadDir=1]="LoadDir",e[e.Audio=2]="Audio",e}(R||{});e("GameComponent",G("GameComponent")(P=function(e){function i(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._event=null,t.nodes=null,t.resPaths=null,t}t(i,e);var r=i.prototype;return r.on=function(e,t,n){this.event.on(e,t,n)},r.off=function(e){this.event.off(e)},r.dispatchEvent=function(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];(t=this.event).dispatchEvent.apply(t,[e].concat(s))},r.getNode=function(e){if(this.nodes)return this.nodes.get(e)},r.nodeTreeInfoLite=function(){this.nodes=new Map,g.nodeTreeInfoLite(this.node,this.nodes)},r.createPrefabNode=function(e,t){return void 0===t&&(t=v.res.defaultBundleName),g.createPrefabNode(e,t)},r.createPrefabNodeAsync=function(e,t){return void 0===t&&(t=v.res.defaultBundleName),g.createPrefabNodeAsync(e,t)},r.getRes=function(e,t,n){return v.res.get(e,t,n)},r.addPathToRecord=function(e,t,n,s){null==this.resPaths&&(this.resPaths=new Map);var o=this.resPaths.get(e);if(null==o&&(o=new Map,this.resPaths.set(e,o)),n instanceof Array)for(var i=t,r=0;r<n.length;r++){var a=n[r],u=this.getResKey(i,a,s);o.has(u)||o.set(u,{path:a,bundle:i,resId:s})}else if("string"==typeof n){var h=t,c=n,f=this.getResKey(h,c,s);o.has(f)||o.set(f,{path:c,bundle:h,resId:s})}else{var d=v.res.defaultBundleName,l=t,p=this.getResKey(d,l,s);o.has(p)||o.set(p,{path:l,bundle:d,resId:s})}},r.getResKey=function(e,t,n){var s=e+":"+t;return null!=n&&(s+=":"+n),s},r.load=function(e,t,n,s,o){this.addPathToRecord(R.Load,e,t),v.res.load(e,t,n,s,o)},r.loadAsync=function(e,t,n){return this.addPathToRecord(R.Load,e,t),v.res.loadAsync(e,t,n)},r.loadDir=function(e,t,n,s,o){var i,r;"string"==typeof t?(i=t,r=e):(i=e,r=v.res.defaultBundleName),this.addPathToRecord(R.LoadDir,r,i),v.res.loadDir(e,t,n,s,o)},r.release=function(){if(this.resPaths){var e=this.resPaths.get(R.Load);e&&(e.forEach((function(e){v.res.release(e.path,e.bundle)})),e.clear())}},r.releaseDir=function(){if(this.resPaths){var e=this.resPaths.get(R.LoadDir);e&&e.forEach((function(e){v.res.releaseDir(e.path,e.bundle)}))}},r.releaseAudioEffect=function(){if(this.resPaths){var e=this.resPaths.get(R.Audio);e&&e.forEach((function(e){v.audio.putEffect(e.resId,e.path,e.bundle)}))}},r.setSprite=function(){var e=s(o().mark((function e(t,n,s){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=E.defaultBundleName),e.next=3,this.loadAsync(s,n,p);case 3:(i=e.sent)&&l(t)?t.spriteFrame=i:(r=this.resPaths.get(R.Load))&&(a=this.getResKey(s,n),r.delete(a),v.res.release(n,s));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}(),r.playMusic=function(e,t,n){v.audio.playMusic(e,t,n)},r.playMusicLoop=function(e,t){v.audio.stopMusic(),v.audio.playMusicLoop(e,t)},r.playEffect=function(){var e=s(o().mark((function e(t,n){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this,null==n&&(n=v.res.defaultBundleName),e.next=4,v.audio.playEffect(t,n,(function(){var e=s.resPaths.get(R.Audio);if(e&&n){var o=s.getResKey(n,t);e.delete(o)}}));case 4:this.addPathToRecord(R.Audio,n,t);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.setButton=function(e){var t=this;void 0===e&&(e=!0),e&&this.node.on(a.EventType.TOUCH_END,(function(e){var n=t[e.target.name];n&&n.call(t,e)}),this);var n=/<([^>]+)>/;this.node.getComponentsInChildren(u).forEach((function(e){var s=e.node;if(t[s.name]){var o=new h;o.target=t.node,o.handler=e.node.name,o.component=t.name.match(n)[1],e.clickEvents.push(o)}}))},r.setEvent=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var s=0,o=t;s<o.length;s++){var i=o[s],r=this[i];r?this.on(i,r,this):console.error("名为【"+i+"】的全局事方法不存在")}},r.setKeyboard=function(e){e?(c.on(f.EventType.KEY_DOWN,this.onKeyDown,this),c.on(f.EventType.KEY_UP,this.onKeyUp,this),c.on(f.EventType.KEY_PRESSING,this.onKeyPressing,this)):(c.off(f.EventType.KEY_DOWN,this.onKeyDown,this),c.off(f.EventType.KEY_UP,this.onKeyUp,this),c.off(f.EventType.KEY_PRESSING,this.onKeyPressing,this))},r.onKeyDown=function(e){},r.onKeyUp=function(e){},r.onKeyPressing=function(e){},r.setGameShow=function(){this.on(m.GAME_SHOW,this.onGameShow,this)},r.setGameHide=function(){this.on(m.GAME_HIDE,this.onGameHide,this)},r.setGameResize=function(){this.on(m.GAME_RESIZE,this.onGameResize,this)},r.setGameFullScreen=function(){this.on(m.GAME_FULL_SCREEN,this.onGameFullScreen,this)},r.setGameOrientation=function(){this.on(m.GAME_ORIENTATION,this.onGameOrientation,this)},r.onGameShow=function(){},r.onGameHide=function(){},r.onGameResize=function(){},r.onGameFullScreen=function(){},r.onGameOrientation=function(){},r.onDestroy=function(){this._event&&(this._event.destroy(),this._event=null),this.nodes&&(this.nodes.clear(),this.nodes=null),this.resPaths&&(this.releaseAudioEffect(),this.release(),this.releaseDir(),this.resPaths.clear(),this.resPaths=null)},n(i,[{key:"event",get:function(){return null==this._event&&(this._event=new y),this._event}}]),i}(d))||P);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.oops}],execute:function(){a._RF.push({},"aaa987ArAVBfp2bXM20NKKf","GameConfig",void 0),a._RF.push({},"54585zBsmtGfZEDczLG3SH5","GameConfig",void 0);t("GameConfig",function(){function t(t){this._data=null,this._data=Object.freeze(t.json),n.log.logConfig(this._data,"游戏配置")}return e(t,[{key:"version",get:function(){return this._data.config.version}},{key:"package",get:function(){return this._data.config.package}},{key:"frameRate",get:function(){return this._data.config.frameRate}},{key:"localDataKey",get:function(){return this._data.config.localDataKey}},{key:"localDataIv",get:function(){return this._data.config.localDataIv}},{key:"httpServer",get:function(){return this._data.config.httpServer}},{key:"httpTimeout",get:function(){return this._data.config.httpTimeout}},{key:"language",get:function(){return this._data.language.type||["zh"]}},{key:"languagePathJson",get:function(){return this._data.language.path.json||"language/json"}},{key:"languagePathTexture",get:function(){return this._data.language.path.texture||"language/texture"}},{key:"languageDefault",get:function(){return this._data.language.default||"zh"}},{key:"bundleEnable",get:function(){return this._data.bundle.enable}},{key:"bundleServer",get:function(){return this._data.bundle.server}},{key:"bundleDefault",get:function(){return this._data.bundle.default}},{key:"bundlePackages",get:function(){return this._data.bundle.packages}},{key:"loadingTimeoutGui",get:function(){return this._data.config.loadingTimeoutGui||1e3}},{key:"mobileSafeArea",get:function(){return this._data.config.mobileSafeArea||!1}},{key:"data",get:function(){return this._data}}]),t}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDebugPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts"],(function(e){var t,o,n,s,a,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,s=e.assetManager},function(e){a=e.oops},function(e){u=e.GameComponent}],execute:function(){var r;o._RF.push({},"524acBm4HtDTLhxSxOTo4KT","GameDebugPage",void 0);var c=n.ccclass;n.property;o._RF.push({},"fe19bQjwdtGLrs7ipl4kNh4","GameDebugPage",void 0);e("GameDebugPage",c("GameDebugPage")(r=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.start=function(){this.setButton()},n.DumpBtn=function(){var e=[];s.assets.forEach((function(t,o){var n=s.assets.get(o);""!==(null==n?void 0:n.name)&&(console.log(s.assets.get(o)),e.push(s.assets.get(o)))})),console.log("当前资源总数:"+e.length)},n.CloseBtn=function(){a.gui.removeByNode(this.node)},o}(u))||r);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnum.ts",["cc","./Oops.ts","./List2.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.cclegacy},function(e){t=e.oops},function(e){o=e.default}],execute:function(){e({GetShareTitle:function(){var e=new o;return e.Add("快进来帮帮我"),e.Add("快来玩儿吧，这里有你想不到的游戏。"),e.Add("这游戏你能上榜吗？"),e.Add("这游戏也太爽了"),e.Add("这款小游戏太火了，赶紧转发给朋友们！"),e.Add("发现新乐趣！这款小游戏，你值得拥有！"),e.Add("小游戏太火了，速速转发，一起玩！"),e.Add("这款小游戏太赞了，快来转发体验！"),e.Add("快来试试这款小游戏！转发分享，乐趣无穷！"),e.Add("小游戏精选！一键转发，快乐加倍！"),e.Add("这也太欧了！"),e.Add("你能上榜吗？"),e.Add("快进来帮帮我"),e.Add("快来玩儿吧，这里有你想不到的游戏。"),e.Add("这游戏也太爽了"),e.Add("这款小游戏太火了，赶紧转发给朋友们！"),e.Add("发现新乐趣！这款小游戏，你值得拥有！"),e.Add("小游戏太火了，速速转发，一起玩！"),e.Add("这款小游戏太赞了，快来转发体验！"),e[t.random.getRandomInt(0,e.Count)]},GetUmengEventName:function(e,n){if(void 0!==n)switch(e){case d.turn:case d.stage:case d.revive:case d.lose:return e+"_"+n;case d.tips_gold:return"tips"+n+"_gold";case d.tips_video:return"tips"+n+"_video";case d.frozen_gold:return"frozen"+n+"_gold";case d.frozen_video:return"frozen"+n+"_video"}return e}}),n._RF.push({},"988e0AktDJEO7S0AHAczzno","GameEnum",void 0),n._RF.push({},"058ceHwE0BFSbtwEPSdPctM","GameEnum",void 0);e("PlatformType",function(e){return e["未知"]="未知",e["浏览器"]="浏览器",e["微信"]="微信",e["抖音"]="抖音",e["B站"]="B站",e["淘宝"]="淘宝",e["支付宝"]="支付宝",e["快手"]="快手",e.QQ="QQ",e.Oppo="Oppo",e.Vivo="Vivo",e.XiaoMi="小米",e.Android="Android",e.Ios="Ios",e["华为"]="华为",e}({})),e("Bundle",function(e){return e.bundle="bundle",e.audioTest="audioTest",e.imageTest="imageTest",e.prefabTest="prefabTest",e}({})),e("GameState",function(e){return e[e["初始化"]=0]="初始化",e[e["游戏中"]=1]="游戏中",e[e["游戏暂停"]=2]="游戏暂停",e[e["复活"]=3]="复活",e[e["胜利"]=4]="胜利",e[e["失败"]=5]="失败",e}({})),e("ItemType",function(e){return e[e["货币"]=0]="货币",e[e["变现"]=1]="变现",e[e["道具"]=2]="道具",e[e["装备"]=3]="装备",e}({})),e("MoneyType",function(e){return e[e["金币"]=0]="金币",e[e["体力"]=1]="体力",e}({})),e("CashOutType",function(e){return e[e["广告"]=0]="广告",e[e["转发"]=1]="转发",e[e["人民币"]=2]="人民币",e}({})),e("GamePropType",function(e){return e[e["提示"]=0]="提示",e[e["冻结"]=1]="冻结",e[e["指南针"]=2]="指南针",e}({})),e("EquipmentType",function(e){return e[e["防具"]=0]="防具",e[e["武器"]=1]="武器",e}({})),e("RewardQuality",function(e){return e[e["白"]=0]="白",e[e["绿"]=1]="绿",e[e["蓝"]=2]="蓝",e[e["紫"]=3]="紫",e[e["橙"]=4]="橙",e}({}));var d=e("UmengEventID",function(e){return e.role_video="role_video",e.vit_video="vit_video",e.loading="loading",e.home="home",e.setting="setting",e.sign="sign",e.sign_video="sign_video",e.turn="turn",e.stage="stage",e.tips_gold="tips_gold",e.tips_video="tips_video",e.frozen_gold="frozen_gold",e.frozen_video="frozen_video",e.revive="revive",e.lose="lose",e.share="share",e}({}));e("DailyOnceEventIDs",[d.role_video,d.vit_video,d.loading,d.home,d.setting,d.sign,d.sign_video,d.turn]);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"3cdecdHncpKu7ZLAjbIYGtm","GameEvent",void 0),o._RF.push({},"28ac0rWU79HGpJWrnyK01Gn","GameEvent",void 0);e("GameEvent",function(e){return e.GameServerConnected="GameServerConnected",e.LoadBundleComplete="LoadBundleComplete",e.LoginSuccess="LoginSuccess",e.DailyRefresh="DailyRefresh",e.WeeklyRefresh="WeeklyRefresh",e.MonthlyRefresh="MonthlyRefresh",e.ItemCountChanges="ItemCountChanges",e.MoneyChange="MoneyChange",e.GamePropChange="GamePropChange",e.GameStart="GameStart",e.GamePause="GamePause",e.GameResume="GameResume",e.GameOver="GameOver",e}({})),e("SDKEvent",function(e){return e.RecordStart="RecordStart",e.RecordEnd="RecordEnd",e.RecordSaved="RecordSaved",e.ShareVideoSuccess="ShareVideoSuccess",e.VideoAdsClose="VideoAdsClose",e.SidebarEntryReward="SidebarEntryReward",e}({})),e("TouchEvents",function(e){return e.SetTouchEnable="SetTouchEnable",e.TouchStart="TouchStart",e.TouchMove="TouchMove",e.TouchEnd="TouchEnd",e.TouchStartObj="TouchStartObj",e.TouchMoveObj="TouchMoveObj",e.TouchEndObj="TouchEndObj",e}({})),e("GameLevelEvent",function(e){return e.ShowStorageBox="ShowStorageBox",e.ClickStorageBox="ClickStorageBox",e.PlaceItemRight="PlaceItemRight",e.ScreenMove="ScreenMove",e}({}));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/GameGeneralConfig.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"9dabaWGiotORKt5rREq6Eqx","GameGeneralConfig",void 0),a._RF.push({},"238baAvKJ5HA7ZzzJqbxkrT","GameGeneralConfig",void 0);var n=e("GameGeneralConfig",(function(){}));n.GameLevel_CurrSelect=0,n.Max_Stamina=50,n.Stamina_RecoveryTime=60,n.Stamina_BuyCoin=100,n.PlayGame_Stamina=10,n.Share_RewardCoin=30,a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameLevelArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var a,r,t,c,i;return{setters:[function(e){a=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){c=e.GameStorageConfig},function(e){i=e.ArchiveBase}],execute:function(){var n;r._RF.push({},"3f35aHsIGlLuKMI/d3YU3C8","GameLevelArchive",void 0);var o=t.ccclass;t.property;r._RF.push({},"3cbb6iWyPZC3IKJX0siPTOc","GameLevelArchive",void 0);e("GameLevelArchive",o("GameLevelArchive")(n=function(e){function r(){for(var a,r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return(a=e.call.apply(e,[this].concat(t))||this).key=c.GameLevelArchive,a.defaultData={unlockLevel:-1},a.data=a.defaultData,a}return a(r,e),r}(i))||n);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/GameLevelSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./VMParent.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./TableLevelData.ts","./AdsManager.ts","./PlatformMgr.ts","./UmengMgr.ts","./GamePropBtn.ts","./LevelRoom.ts","./CompassPlaceItem.ts","./PlaceTargetComp.ts","./GameLevelStatusBar.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./AwaitDelay.ts","./DateUtils.ts"],(function(e){var t,o,i,n,a,r,s,l,u,c,m,h,d,f,p,v,g,P,w,G,I,L,b,N,S,y,B,C,D,x,M,T,R,U,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Vec3,m=e.math,h=e.find},function(e){d=e.oops},function(e){f=e.default},function(e){p=e.GameState,v=e.UmengEventID},function(e){g=e.GameEvent,P=e.GameLevelEvent},function(e){w=e.GameGeneralConfig},function(e){G=e.UIID},function(e){I=e.TableLevelData},function(e){L=e.AdsManager},function(e){b=e.PlatformMgr},function(e){N=e.UmengMgr},function(e){S=e.GamePropBtn},function(e){y=e.LevelRoom},function(e){B=e.CompassPlaceItemComp},function(e){C=e.PlaceTargetComp},function(e){D=e.GameLevelStatusBar},function(e){x=e.GameMgr},function(e){M=e.MusicMgr,T=e.EffectType},function(e){R=e.ResMgr},function(e){U=e.AwaitDelay},function(e){z=e.DateUtils}],execute:function(){var A,E,k,V,_,F,H,W,j,J,O,Q,X,q,K,Y,Z,$,ee,te,oe,ie,ne;s._RF.push({},"dfe67dr4+NM0404089gHTuJ","GameLevelSceneView",void 0);var ae=l.ccclass,re=l.property;s._RF.push({},"21a3drt6h9Iua480zfVHVCQ","GameLevelSceneView",void 0);e("GameLevelSceneView",(A=ae("GameLevelSceneView"),E=re(u),k=re(u),V=re(u),_=re(u),F=re(u),H=re(D),W=re(u),j=re(u),J=re(u),O=re(u),A((q=t((X=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).data={placeCount:0,totalCount:1,timeLeft:60,totalTime:60,boxEntityCount:1},t.currState=p.初始化,t.isRevive=!1,t.currLevel=0,t.roomID=0,i(t,"roomParent",q,n(t)),t.roomItem=null,i(t,"storageBox",K,n(t)),i(t,"waitingPlaceNode",Y,n(t)),i(t,"moveNode",Z,n(t)),i(t,"touUINode",$,n(t)),i(t,"statuBar",ee,n(t)),i(t,"compassMask",te,n(t)),i(t,"compassCircle",oe,n(t)),t.freezeCountDown=!1,t.compassSearch=!1,i(t,"setupBtnNode",ie,n(t)),i(t,"tipPropBtn",ne,n(t)),t}o(t,e);var s=t.prototype;return s.onLoad=function(){e.prototype.onLoad.call(this),x.init(this),this.on(g.GamePause,this.onGamePause.bind(this),this),this.on(g.GameResume,this.onGameResume.bind(this),this),this.setButton(),this.setGameShow()},s.start=function(){this.InitGame(),N.Instance.TrackEventByID(v.stage,this.currLevel+1)},s.onGameShow=function(){console.log("游戏检测进入前台"),L.Instance.ShowInterstitial()},s.InitGame=function(){var e=a(r().mark((function e(){var t,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currState=p.初始化,this.touUINode.active=!1,t=R.GetTableData(I.TableName),this.currLevel=w.GameLevel_CurrSelect,this.roomID=this.currLevel,this.roomID>=t.length&&(this.roomID=d.random.getRandomInt(0,t.length)),this.roomID>=0?(this.statuBar.levelLabel.string="第 "+(this.currLevel+1)+" 关",this.setupBtnNode.active=!0,this.data.totalTime=t[this.roomID].levelTime,this.tipPropBtn.active=!0):(this.statuBar.levelLabel.string="引导",this.setupBtnNode.active=!1,this.data.totalTime=Number.MAX_VALUE,this.statuBar.countDownLabel.node.active=!1,this.tipPropBtn.active=!1),this.data.timeLeft=this.data.totalTime,e.next=10,R.CreatePrefabNodeAsync("scenes/gamelevel/levelroom/LevelRoom_"+this.roomID,this);case 10:return(o=e.sent).setParent(this.roomParent),this.roomItem=o.getComponent(y),e.next=15,this.roomItem.InitLevel(this.roomID);case 15:this.InitPropBtn(),this.GameStart();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onTouchMove=function(e,t,o){var i=this.moveNode.position.clone(),n=new c(this.moveNode.worldPosition.x-this.storageBox.worldPosition.x,this.moveNode.worldPosition.y-this.storageBox.worldPosition.y,0);i.x+=o.x-t.x,i.x=m.clamp(i.x,this.roomItem.moveLimit.x,this.roomItem.moveLimit.y),this.moveNode.position=i,this.storageBox.worldPosition=new c(this.moveNode.worldPosition.x-n.x,this.moveNode.worldPosition.y-n.y,0)},s.InitPropBtn=function(){var e=h("TopUI/PropBtnList",this.node);if(e)for(var t=0;t<(null==e?void 0:e.children.length);t++){var o=null==e?void 0:e.children[t].getComponent(S);o&&o.InitProp()}},s.update=function(e){this.currState==p.游戏中&&this.data.timeLeft>0&&(this.freezeCountDown||(this.data.timeLeft-=e),this.data.timeLeft<=0&&(this.data.timeLeft=0,this.GameFail()),this.statuBar.countDownLabel.string=z.CountdownFormat(this.data.timeLeft,"m:s"))},s.GameStart=function(){this.currState=p.游戏中,this.touUINode.active=!0,this.on(P.ScreenMove,this.onTouchMove,this),this.dispatchEvent(g.GameStart),b.platformAPI.StartRecorder(),console.log("[GameLevel] GameStart - storageBox worldPos=",this.storageBox.worldPosition),console.log("[GameLevel] GameStart - roomParent worldPos=",this.roomParent.worldPosition),console.log("[GameLevel] GameStart - moveNode worldPos=",this.moveNode.worldPosition),console.log("[GameLevel] GameStart - touUINode worldPos=",this.touUINode.worldPosition),console.log("[GameLevel] GameStart - waitingPlaceNode worldPos=",this.waitingPlaceNode.worldPosition)},s.onGamePause=function(){this.currState==p.游戏中&&(this.currState=p.游戏暂停)},s.onGameResume=function(){this.currState==p.游戏暂停&&(this.currState=p.游戏中)},s.GameSuccess=function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currState=p.胜利,this.touUINode.active=!1,this.compassMask.active=!1,this.compassCircle.active=!1,e.next=6,U.WaitingTime(.2);case 6:d.gui.open(G.WinPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.GameFail=function(){this.isRevive?(this.currState=p.失败,d.gui.open(G.FailPage)):(this.isRevive=!0,this.currState=p.复活,d.gui.open(G.RevivePage))},s.ReviveSuccess=function(){this.data.timeLeft=60,this.currState=p.游戏中},s.SetupBtn=function(){var e=this;if(-1!=this.roomID){var t={onAdded:function(t,o){e.dispatchEvent(g.GamePause)}};d.gui.open(G.SetupPage,{gameLevel:!0},t),M.PlayEffect(T.UIClick)}},s.GetPlaceTargetNode=function(e){var t=e.get(C);if(Array.isArray(t.targetNode))for(var o=0;o<t.targetNode.length;o++){var i=t.targetNode[o];if(this.CheckNodeIsPlaceItem(e,i))return i}else if(this.CheckNodeIsPlaceItem(e,t.targetNode))return t.targetNode;return null},s.CheckNodeIsPlaceItem=function(e,t){return null==t.itemNode&&(null==t.parentNode||null!=t.parentNode.itemNode)},s.EntAddSearch=function(e){e.get(B)||e.add(B)},t}(f)).prototype,"roomParent",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(X.prototype,"storageBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(X.prototype,"waitingPlaceNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(X.prototype,"moveNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(X.prototype,"touUINode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(X.prototype,"statuBar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(X.prototype,"compassMask",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(X.prototype,"compassCircle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(X.prototype,"setupBtnNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(X.prototype,"tipPropBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=X))||Q));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/GameLevelStatusBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,a,o,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,u=e.Animation,c=e.Component}],execute:function(){var s,p,f,v,z,b,h,d,y;a._RF.push({},"06ddf2+4xtMEqSYgbXBUnPr","GameLevelStatusBar",void 0);var L=o.ccclass,S=o.property;a._RF.push({},"d5699Kop85CqaZuXVKS3ScF","GameLevelStatusBar",void 0);e("GameLevelStatusBar",(s=L("GameLevelStatusBar"),p=S(l),f=S(u),v=S(l),s((h=t((b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"countDownLabel",h,i(t)),r(t,"freezeAni",d,i(t)),r(t,"levelLabel",y,i(t)),t}n(t,e);var a=t.prototype;return a.ShowFreeze=function(){this.freezeAni.node.active=!0,this.freezeAni.play("ShowFreeze")},a.HideFreeze=function(){var e=this;this.freezeAni.node.active=!0,this.freezeAni.once(u.EventType.FINISHED,(function(){e.freezeAni.node.active=!1})),this.freezeAni.play("HideFreeze")},t}(c)).prototype,"countDownLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(b.prototype,"freezeAni",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"levelLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=b))||z));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc"],(function(e){var a,t;return{setters:[function(e){a=e.cclegacy,t=e.director}],execute:function(){a._RF.push({},"3c8edUvPy5O06chh+D//a7s","GameManager",void 0),a._RF.push({},"73fa0CEfOhMdJUoZwoFIIZV","GameManager",void 0);e("GameManager",function(){function e(e){this.root=void 0,this.root=e}var a=e.prototype;return a.setTimeScale=function(e){t.globalGameTimeScale=e},a.getTimeScale=function(){return t.globalGameTimeScale},e}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ItemArchive.ts","./ArchiveManager.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./TableLevelData.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./RedDotSystem.ts","./MusicMgr.ts","./ResMgr.ts"],(function(e){var t,n,o,a,i,s,r,c,l,u,m,g,f,p,v,d,h,I,G,M,L,P,y;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,s=e.sp},function(e){r=e.oops},function(e){c=e.ItemArchive},function(e){l=e.ArchiveManager},function(e){u=e.PlatformType,m=e.ItemType,g=e.MoneyType},function(e){f=e.GameEvent},function(e){p=e.GameGeneralConfig},function(e){v=e.UIID},function(e){d=e.TableLevelData},function(e){h=e.ItemInfo},function(e){I=e.AdsManager},function(e){G=e.PlatformMgr},function(e){M=e.RedDotSystem},function(e){L=e.MusicMgr,P=e.BgMusicType},function(e){y=e.ResMgr}],execute:function(){var R,C;a._RF.push({},"5ed9aJLAO9HoIKnlLWPbXIK","GameMgr",void 0);var S=i.ccclass;i.property;a._RF.push({},"ea30aezbB1Ie4yYo6fPb6Bk","GameMgr",void 0);e("GameMgr",S("GameMgr")(((C=function(){function e(){}e.init=function(e){this.levelView=e};var a=e.prototype;return a.GetIsTest=function(){return!1},a.InitManager=function(){console.log("Spine组件是否存在：",null==s?void 0:s.Skeleton),l.Instance.InitArchive(),G.Instance.Init(),M.RegisterPath(),I.Instance.InitAds(),this.RegisterGlobalEvents(),l.state.data.staminaLastUpdateTime=Date.now(),G.currPlatform==u.Vivo&&G.platformAPI.Gamelogin("",null)},a.RegisterGlobalEvents=function(){r.message.once(f.LoadBundleComplete,this.LoadBundleComplete,this),r.message.on(f.ItemCountChanges,this.ChangeItemCount,this)},a.LoadBundleComplete=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("<--------------加载完成--------------\x3e"),G.currPlatform!=u.华为&&G.currPlatform!=u.浏览器||l.user.data.isLogin&&l.user.data.isAgreeProtocol?G.currPlatform!=u.Oppo&&G.currPlatform!=u.XiaoMi&&G.currPlatform!=u.浏览器||l.user.data.isAgreeProtocol?this.LoginSuccess():r.gui.open(v.OppoProtocolPage):r.gui.open(v.Login);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.GetVersionStatus=function(){G.platformAPI.PlatformPostRequest("https://api.yidiangame.com/api/version_status",{project_key:"收纳超级世界",platform:G.currPlatform.toString(),version:"1.1.0"}).then((function(t){console.log("版本Review状态:",t.isReview),console.log("版本命中类型：",t.matchType),e.isReview=t.isReview}))},a.LoginSuccess=function(){console.log("<--------------进入游戏--------------\x3e"),-1==l.gameLevel.data.unlockLevel?(p.GameLevel_CurrSelect=-1,console.log("跳转到引导关卡"),r.gui.open(v.GameLevelScene)):r.gui.open(v.HomeScene),L.PlayBgMusic(P.BgMusic)},a.ChangeItemCount=function(e,t){if(t&&t.itemGUID&&h.GuidsEqual(t.itemGUID,{type:m.货币,part:0,id:g.体力})){var n=c.GetItemCount(t.itemGUID);n-t.changeValue>=p.Max_Stamina&&n<p.Max_Stamina&&(r.log.logBusiness("重置体力恢复时间"),l.state.data.staminaLastUpdateTime=Date.now(),l.state.Save())}},a.GetUnlockLevel=function(){var t=y.GetTableData(d.TableName);return e.Instance.GetIsTest()&&(t.length=Math.min(t.length,3)),l.gameLevel.data.unlockLevel>=t.length?t.length-1:l.gameLevel.data.unlockLevel},t(e,null,[{key:"Instance",get:function(){return this._inst||(this._inst=new e),this._inst}}]),e}())._inst=void 0,C.levelView=void 0,C.isReview=!0,C.rewardEff=null,R=C))||R);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GamePropBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./ItemInfo.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./AutoPlaceItem.ts","./PlaceItemIdle.ts"],(function(e){var t,n,o,i,r,a,s,l,p,c,u,h,f,m,I,g,w,C,b,P,v,D,d,G,y,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.CCInteger,l=e.Sprite,p=e.CCFloat,c=e.Node,u=e.Label,h=e.Color},function(e){f=e.oops},function(e){m=e.GameComponent},function(e){I=e.ItemType,g=e.GamePropType},function(e){w=e.GameEvent,C=e.GameLevelEvent},function(e){b=e.UIID},function(e){P=e.ItemInfo},function(e){v=e.GameMgr},function(e){D=e.MusicMgr,d=e.EffectType},function(e){G=e.ResMgr},function(e){y=e.AutoPlaceItemComp},function(e){z=e.PlaceItemIdleComp}],execute:function(){var B,R,U,E,T,k,F,L,M,V,S,A,N,_,H,q,j,x,J,O,W,Z,Y;r._RF.push({},"1e07bc/mLZFfY5ouhdqJD0N","GamePropBtn",void 0);var K=a.ccclass,Q=a.property;r._RF.push({},"05274aRJStCjZBEyq6ii8GG","GamePropBtn",void 0);e("GamePropBtn",(B=K("GamePropBtn"),R=Q(s),U=Q(s),E=Q(l),T=Q(l),k=Q(p),F=Q(l),L=Q(c),M=Q(u),V=Q(c),S=Q(u),B((_=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).propInfo=null,o(t,"propID",_,i(t)),o(t,"propPrice",H,i(t)),o(t,"propIcon",q,i(t)),o(t,"propBg",j,i(t)),t.countDown=0,o(t,"totalCDTime",x,i(t)),o(t,"countDownFill",J,i(t)),o(t,"countBg",O,i(t)),o(t,"countLabel",W,i(t)),o(t,"addIcon",Z,i(t)),o(t,"nameLabel",Y,i(t)),t}n(t,e);var r=t.prototype;return r.InitProp=function(){var e=this;this.propInfo=new P(I.道具,0,this.propID),G.SetSprite(this.propIcon,this.propInfo.iconPath),this.countDown=0,this.RefreshCount(),this.RefreshCD(),this.CheckPropCanUse(),this.on(w.GamePropChange,this.PropChangeEvent.bind(this),this),this.on(C.ClickStorageBox,(function(){setTimeout(e.CheckPropCanUse.bind(e),1e3)}),this),this.on(C.PlaceItemRight,this.CheckPropCanUse.bind(this),this),this.nameLabel.string=this.propInfo.itemData.itemName},r.RefreshCount=function(){if(this.countBg.active=!1,this.addIcon.active=!1,this.propInfo){var e=this.propInfo.count;e>0?(this.countBg.active=!0,this.countLabel.string=e.toString()):this.addIcon.active=!0,this.CheckPropCanUse()}},r.OnClickProp=function(){var e=this;if(this.propInfo)if(this.countDown>0)console.warn("道具冷却中");else{if(this.propInfo.count>0)switch(this.propID){case g.提示:this.UsePromptProps();break;case g.冻结:this.UseFreezeProps();break;case g.指南针:this.UseCompassProps()}else{var t={onAdded:function(t,n){e.dispatchEvent(w.GamePause)},onRemoved:function(t,n){e.dispatchEvent(w.GameResume)}};f.gui.open(b.GamePropInfoPage,{propID:this.propID,propPrice:this.propPrice},t)}D.PlayEffect(d.UIClick)}else console.warn("无道具信息")},r.CheckPropCanUse=function(){this.propInfo&&(this.propID==g.提示?this.propBg.color=this.propInfo.count<=0||null!=this.GetCanPlaceItem()?h.WHITE:new h("#A0A0A0"):this.propBg.color=h.WHITE)},r.update=function(e){if(this.countDown>0){if(this.countDown-=e,this.countDown<=0)switch(this.countDown=0,this.propID){case g.冻结:v.levelView.freezeCountDown=!1,v.levelView.statuBar.HideFreeze();break;case g.指南针:v.levelView.compassSearch=!1,v.levelView.compassMask.active=!1}this.RefreshCD()}},r.RefreshCD=function(){this.countDownFill.fillRange=this.countDown/this.totalCDTime},r.PropChangeEvent=function(e,t){this.propInfo&&t&&t.itemGUID&&P.GuidsEqual(this.propInfo,t.itemGUID)&&this.RefreshCount()},r.GetCanPlaceItem=function(){for(var e=v.levelView.roomItem.waitEntityList,t=e.length-1;t>=0;t--){var n=e[t];if(n.get(z)&&v.levelView.GetPlaceTargetNode(n))return n}return null},r.UsePromptProps=function(){var e=this.GetCanPlaceItem();if(e){var t,n=v.levelView.GetPlaceTargetNode(e);n&&null!=(t=this.propInfo)&&t.use(1)&&(e.add(y).targetNode=n,this.countDown=this.totalCDTime)}},r.UseFreezeProps=function(){var e;null!=(e=this.propInfo)&&e.use(1)&&(this.countDown=this.totalCDTime,v.levelView.freezeCountDown=!0,v.levelView.statuBar.ShowFreeze())},r.UseCompassProps=function(){var e;null!=(e=this.propInfo)&&e.use(1)&&(this.countDown=this.totalCDTime,v.levelView.compassSearch=!0,v.levelView.compassMask.active=!0)},t}(m)).prototype,"propID",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),H=t(N.prototype,"propPrice",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),q=t(N.prototype,"propIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(N.prototype,"propBg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"totalCDTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=t(N.prototype,"countDownFill",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(N.prototype,"countBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(N.prototype,"countLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(N.prototype,"addIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(N.prototype,"nameLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=N))||A));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePropInfoPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemInfo.ts","./AdsManager.ts","./RewardInfo.ts","./MusicMgr.ts","./ResMgr.ts","./ToastMgr.ts","./DelegateComponent.ts","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./GameEnum.ts","./PlatformMgr.ts","./UmengMgr.ts","./GameMgr.ts","./AwaitDelay.ts"],(function(e){var n,t,o,i,r,s,a,c,p,u,l,f,m,g,h,d,v,I,y,w,P,B,M,C,D,b,A,T,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,p=e.Sprite,u=e.Label},function(e){l=e.ItemInfo},function(e){f=e.AdsManager},function(e){m=e.RewardInfo},function(e){g=e.MusicMgr,h=e.EffectType},function(e){d=e.ResMgr},function(e){v=e.ToastMgr},function(e){I=e.DelegateComponent},function(e){y=e.oops},function(e){w=e.GameComponent},function(e){P=e.ItemArchive},function(e){B=e.ItemType,M=e.MoneyType,C=e.GamePropType,D=e.UmengEventID},function(e){b=e.PlatformMgr},function(e){A=e.UmengMgr},function(e){T=e.GameMgr},function(e){k=e.AwaitDelay}],execute:function(){var G,E,R,L,S,_,z,N,V,U,F;a._RF.push({},"06295AndPpAOamSvoUWY3MQ","GamePropInfoPage",void 0);var x=c.ccclass,H=c.property;a._RF.push({},"a2932/NkEJHDZ8Qqkzsyyw+","GamePropInfoPage",void 0);e("GamePropInfoPage",(G=x("GamePropInfoPage"),E=H(p),R=H(u),L=H(u),S=H(u),G((N=n((z=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(n=e.call.apply(e,[this].concat(r))||this).propInfo=null,n.propPrice=200,o(n,"propIcon",N,i(n)),o(n,"propTitle",V,i(n)),o(n,"propDesc",U,i(n)),o(n,"coinLabel",F,i(n)),n.isClickClose=!1,n}t(n,e);var a=n.prototype;return a.start=function(){var e=this.getComponent(I),n=null==e?void 0:e.vp.params.propID;this.propPrice=null==e?void 0:e.vp.params.propPrice,null!=n&&null!=this.propPrice&&(this.propInfo=new l(B.道具,0,n),d.SetSprite(this.propIcon,this.propInfo.iconPath),this.propTitle.string=this.propInfo.itemData.itemName,this.propDesc.string=this.propInfo.itemData.itemDesc,this.coinLabel.string=this.propPrice.toString()),this.setButton()},a.CloseBtn=function(e){T.isReview?y.gui.removeByNode(this.node):(this.isClickClose=!0,this.AdsBuyBtn(e)),g.PlayEffect(h.UIClick)},a.CheckClose=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.WaitingTime(1);case 2:b.platformAPI.isPlayingAds||y.gui.removeByNode(this.node);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.CoinBuyBtn=function(e){var n=this;if(this.propInfo){var t=new l(B.货币,0,M.金币),o=new m(this.propInfo,1);P.UseItemGetReward(t,this.propPrice,o,{showPage:!1,onComplete:function(t){t?(n.BuySuccess(e,o,o.count),o.id==C.提示?A.Instance.TrackEventByID(D.tips_gold,T.levelView.currLevel+1):o.id==C.冻结&&A.Instance.TrackEventByID(D.frozen_gold,T.levelView.currLevel+1)):v.AddMessage("金币不足")}}),g.PlayEffect(h.UIClick)}},a.MistakeTouchBtn=function(e){this.AdsBuyBtn(e)},a.AdsBuyBtn=function(e){var n=this;if(this.propInfo){var t=this.propInfo,o=this.node;f.Instance.ShowVideoAds({success:function(){var n=new m(t,1);P.AddRewarwdList(n,{showPage:!1}),T.rewardEff.ShowItemChange(e,n,n.count),n.id==C.提示?A.Instance.TrackEventByID(D.tips_video,T.levelView.currLevel+1):n.id==C.冻结&&A.Instance.TrackEventByID(D.frozen_video,T.levelView.currLevel+1),o&&o.isValid&&y.gui.removeByNode(o)},fail:function(){o&&o.isValid&&n.isClickClose&&y.gui.removeByNode(o)},cancel:function(){o&&o.isValid&&y.gui.removeByNode(o)}})}},a.BuySuccess=function(e,n,t){T.rewardEff.ShowItemChange(e,n,t),y.gui.removeByNode(this.node)},n}(w)).prototype,"propIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(z.prototype,"propTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(z.prototype,"propDesc",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(z.prototype,"coinLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameQueryConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StringUtil.ts"],(function(t){var e,n,r,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t.sys},function(t){i=t.oops},function(t){o=t.StringUtil}],execute:function(){n._RF.push({},"a5b9e8RABBHB5DGJo0rkyJS","GameQueryConfig",void 0),n._RF.push({},"d09acUxcU5Hg4kUjKxVEWLy","GameQueryConfig",void 0);t("GameQueryConfig",function(){function t(){this._data=null,r.isBrowser?(this._data=this.parseUrl(),this._data.username||(this._data.username=o.guid()),i.log.logConfig(this._data,"查询参数")):this._data={}}return t.prototype.parseUrl=function(){if("object"!=typeof window)return{};if(!window.document)return{};var t=window.document.location.href.toString().split("?");if("string"==typeof t[1]){for(var e={},n=t[1].split("&"),r=0,i=n.length;r<i;++r){var o=n[r],a=o.indexOf("=");if(!(a<0)){var u=o.substring(0,a),s=o.substring(a+1);e[decodeURIComponent(u)]=s&&decodeURIComponent(s)}}return e}return{}},e(t,[{key:"debug",get:function(){return this._data.debug}},{key:"username",get:function(){return this._data.username}},{key:"lang",get:function(){return this._data.lang||"zh"}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/GameStorageConfig.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"80f65DsJD1G3Lp/HtLQUfH5","GameStorageConfig",void 0),r._RF.push({},"a9e20POivtPKppEugdcVI1N","GameStorageConfig",void 0);e("GameStorageConfig",function(e){return e.AccountName="AccountName",e.PlatformArchive="PlatformArchive",e.UserArchive="UserArchive",e.ItemArchive="ItemArchive",e.StateArchive="StateArchive",e.GameLevelArchive="GameLevelArchive",e.MoreGameArchive="MoreGameArchive",e.SignInArchive="SignInArchive",e.TurntableArchive="TurntableArchive",e.UmengArchive="UmengArchive",e}({}));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUIConfig.ts",["cc","./LayerManager.ts","./GameEnum.ts"],(function(e){var a,r,g;return{setters:[function(e){a=e.cclegacy},function(e){r=e.LayerType},function(e){g=e.Bundle}],execute:function(){var n,o;a._RF.push({},"b3ca1PKyL5KFKZ4gbaBYzV8","GameUIConfig",void 0),a._RF.push({},"14663z2+5JJIYupyDayZnc3","GameUIConfig",void 0);var l=e("UIID",function(e){return e[e.Loading=1]="Loading",e[e.Alert=2]="Alert",e[e.Confirm=3]="Confirm",e[e.GameDebugPage=4]="GameDebugPage",e[e.Login=5]="Login",e[e.HomeScene=6]="HomeScene",e[e.GameLevelScene=7]="GameLevelScene",e[e.MoreGameScene=8]="MoreGameScene",e[e.SidebarPage=9]="SidebarPage",e[e.SelectLevelPage=10]="SelectLevelPage",e[e.SetupPage=11]="SetupPage",e[e.ReturnHomePage=12]="ReturnHomePage",e[e.AgainGamePage=13]="AgainGamePage",e[e.WinPage=14]="WinPage",e[e.FailPage=15]="FailPage",e[e.RevivePage=16]="RevivePage",e[e.NineGridBoxPage=17]="NineGridBoxPage",e[e.MoreGamePage=18]="MoreGamePage",e[e.SignInPage=19]="SignInPage",e[e.BuyStrength=20]="BuyStrength",e[e.GamePropInfoPage=21]="GamePropInfoPage",e[e.TurntablePage=22]="TurntablePage",e[e.OppoProtocolPage=23]="OppoProtocolPage",e[e.PrivacyPolicyPage=24]="PrivacyPolicyPage",e}({})),p=e("PrefabID",function(e){return e[e.StarEffects=1]="StarEffects",e}({}));e("UIConfigData",((n={})[l.Loading]={layer:r.UI,prefab:"pages/loading/loading",bundle:"resources"},n[l.Alert]={layer:r.Dialog,prefab:"common/prefab/alert"},n[l.Confirm]={layer:r.Dialog,prefab:"common/prefab/confirm"},n[l.GameDebugPage]={layer:r.System,prefab:"pages/common/debug/GameDebugPage",bundle:g.prefabTest,mask:!0},n[l.Login]={layer:r.UI,prefab:"gui/login/Login"},n[l.HomeScene]={layer:r.UI,prefab:"scenes/homescene/HomeScene",bundle:g.prefabTest},n[l.GameLevelScene]={layer:r.UI,prefab:"scenes/gamelevel/GameLevelScene",bundle:g.prefabTest},n[l.MoreGameScene]={layer:r.UI,prefab:"scenes/moregame/MoreGameScene",bundle:g.prefabTest},n[l.SidebarPage]={layer:r.Dialog,prefab:"pages/common/sidebar/SidebarPage",bundle:g.prefabTest,mask:!0},n[l.SelectLevelPage]={layer:r.Dialog,prefab:"pages/home/selectlevel/SelectLevelPage",bundle:g.prefabTest,mask:!0},n[l.SetupPage]={layer:r.Dialog,prefab:"pages/home/setup/SetupPage",bundle:g.prefabTest,mask:!0},n[l.ReturnHomePage]={layer:r.Dialog,prefab:"pages/home/setup/ReturnHomePage",bundle:g.prefabTest,mask:!0},n[l.AgainGamePage]={layer:r.Dialog,prefab:"pages/home/setup/AgainGamePage",bundle:g.prefabTest,mask:!0},n[l.WinPage]={layer:r.Dialog,prefab:"pages/gamelevel/winPage/WinPage",bundle:g.prefabTest,mask:!0},n[l.FailPage]={layer:r.Dialog,prefab:"pages/gamelevel/failPage/FailPage",bundle:g.prefabTest,mask:!0},n[l.RevivePage]={layer:r.Dialog,prefab:"pages/gamelevel/revivePage/RevivePage",bundle:g.prefabTest,mask:!0},n[l.NineGridBoxPage]={layer:r.Dialog,prefab:"pages/gamelevel/nineGridBoxPage/NineGridBoxPage",bundle:g.prefabTest,mask:!0},n[l.MoreGamePage]={layer:r.Dialog,prefab:"pages/home/moregame/MoreGamePage",bundle:g.prefabTest,mask:!0},n[l.SignInPage]={layer:r.Dialog,prefab:"pages/home/signin/SignInPage",bundle:g.prefabTest,mask:!0},n[l.BuyStrength]={layer:r.System,prefab:"pages/common/strength/BuyStrengthPage",bundle:g.prefabTest,mask:!0},n[l.GamePropInfoPage]={layer:r.Dialog,prefab:"pages/common/gameprop/GamePropInfoPage",bundle:g.prefabTest,mask:!0},n[l.TurntablePage]={layer:r.Dialog,prefab:"pages/home/turntable/TurntablePage",bundle:g.prefabTest,mask:!0},n[l.OppoProtocolPage]={layer:r.UI,prefab:"pages/login/protocol/OppoProtocolPage",bundle:g.prefabTest,mask:!0},n[l.PrivacyPolicyPage]={layer:r.System,prefab:"pages/login/protocol/PrivacyPolicyPage",bundle:g.prefabTest,mask:!0},n)),e("PrefabConfigData",((o={})[p.StarEffects]={prefab:"effects/star/StarEffects",bundle:g.prefabTest},o));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GetRewarsTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./AwaitDelay.ts","./GameEnum.ts","./ItemInfo.ts","./CoinFly.ts","./ItemCountNotify.ts","./ItemFlying.ts"],(function(t){var e,n,r,a,o,i,s,u,c,f,p,m,l,y,h,d,g,w;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t._decorator,o=t.Vec3,i=t.SpriteFrame},function(t){s=t.oops},function(t){u=t.ecs},function(t){c=t.GameMgr},function(t){f=t.MusicMgr,p=t.EffectType},function(t){m=t.ResMgr},function(t){l=t.AwaitDelay},function(t){y=t.Bundle},function(t){h=t.ItemInfo},function(t){d=t.CoinFly},function(t){g=t.ItemCountNotify},function(t){w=t.ItemFlying}],execute:function(){var v;r._RF.push({},"ed517zQHWlJuqfNQbd+mxBj","GetRewarsTips",void 0);var x=a.ccclass;a.property;r._RF.push({},"59838VVePBCmbh/3RHhZfiW","GetRewarsTips",void 0);t("GetRewarsTips",x("GetRewarsTips")(v=function(){function t(){}var r=t.prototype;return r.ShowCoinGroup=function(t,e){for(var n=e<=20?e:20,r=0;r<n;r++)u.getEntity(d).Load(c.rewardEff.coinLayer,t);f.PlayEffect(p.Coin)},r.ShowItemFlying=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];this.CreateItemFlying(n)}else this.CreateItemFlying(t)},r.CreateItemFlying=function(){var t=e(n().mark((function t(e){var r,a,o,i,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.count>=10?10:e.count,a=this.generatePoints(r,200),o=c.rewardEff.ShowCountBox(e),i=0;case 4:if(!(i<r)){t.next=13;break}return s=u.getEntity(w),t.next=8,s.LoadNode(e,a[i],o);case 8:return t.next=10,l.WaitingTime(.07);case 10:i++,t.next=4;break;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.ShowItemCount=function(){var t=e(n().mark((function t(e,r,a){var u,f,p,l,d,w;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&0!=a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s.pool.loadAndShow("common/reward/ItemCountNotify",c.rewardEff.notifyLayer,{bundleName:y.prefabTest});case 4:if(u=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(f=u.getComponent(g),p=a>=0?"+"+a:"-"+Math.abs(a),!(r instanceof h)){t.next=16;break}return t.next=12,m.LoadSpriteAsync(r.iconPath);case 12:l=t.sent,null==f||f.Init(r.itemData.itemName+p,l),t.next=25;break;case 16:if(!("type"in r)){t.next=24;break}return d=new h(r),t.next=20,m.LoadSpriteAsync(d.iconPath);case 20:w=t.sent,null==f||f.Init(d.itemData.itemName+p,w),t.next=25;break;case 24:r instanceof i&&(null==f||f.Init(p,r));case 25:u.position=new o(0,0,0);case 26:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),r.generatePoints=function(t,e){void 0===e&&(e=100);for(var n=[],r=0;r<t;r++)n.push(Math.random()*e);n.sort((function(t,e){return e-t}));for(var a=[],i=0;i<t;i++)a.push(2*Math.random()*Math.PI);for(var s=[],u=0;u<t;u++){var c=n[u]*Math.cos(a[u]),f=n[u]*Math.sin(a[u]);s.push(new o(c,f,0))}return s},t}())||v);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/GuiEnum.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"949e04fzOVD4JNDI/dVJs9X","GuiEnum",void 0),t._RF.push({},"80ba5x3hLRNsJ8PfuNL29y6","GuiEnum",void 0);n("PromptResType",function(n){return n.Toast="common/prefab/notify",n.Wait="common/prefab/wait",n.Mask="common/prefab/mask",n}({}));t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/HomeSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameEnum.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./TableLevelData.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./UmengMgr.ts","./MusicMgr.ts","./ResMgr.ts","./ToastMgr.ts","./GameMgr.ts"],(function(e){var n,t,a,o,r,i,c,s,u,l,f,g,m,p,h,y,I,P,v,S,d,G,M,b,R,k,L,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node},function(e){l=e.oops},function(e){f=e.GameComponent},function(e){g=e.ArchiveManager},function(e){m=e.PlatformType,p=e.UmengEventID,h=e.ItemType,y=e.MoneyType},function(e){I=e.GameGeneralConfig},function(e){P=e.UIID},function(e){v=e.TableLevelData},function(e){S=e.ItemInfo},function(e){d=e.AdsManager},function(e){G=e.PlatformMgr},function(e){M=e.UmengMgr},function(e){b=e.MusicMgr,R=e.EffectType},function(e){k=e.ResMgr},function(e){L=e.ToastMgr},function(e){T=e.GameMgr}],execute:function(){var B,C,w,U,A,D,E;c._RF.push({},"6694ar0ydVN2bGRhWNr+WAb","HomeSceneView",void 0);var _=s.ccclass,H=s.property;c._RF.push({},"97d86QcpK1CXrLu+dpbPPAg","HomeSceneView",void 0);e("HomeSceneView",(B=_("HomeSceneView"),C=H(u),w=H(u),B((D=n((A=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,a(n,"roomRefrenceParent",D,o(n)),a(n,"rankingBtn",E,o(n)),n}t(n,e);var c=n.prototype;return c.onLoad=function(){this.setButton()},c.start=function(){this.LoadRoom(),this.rankingBtn.active=G.currPlatform==m.抖音,this.ShowStartPage(),M.Instance.TrackEventByID(p.home),d.Instance.ShowBanner()},c.LoadRoom=function(){var e=r(i().mark((function e(){var n,t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.GetTableData(v.TableName),T.Instance.GetIsTest()&&(n.length=Math.min(n.length,3)),t=n[T.Instance.GetUnlockLevel()].setID,!T.Instance.GetIsTest()){e.next=7;break}this.roomRefrenceParent.active=!1,e.next=11;break;case 7:return e.next=9,k.CreatePrefabNodeAsync("pages/home/selectlevel/RoomSetRefrence/RoomSetRefrence_"+t,this);case 9:(a=e.sent)&&(console.log("套装节点：",a),a.setParent(this.roomRefrenceParent));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.ShowStartPage=function(){var e=g.signin.data.signInDay-1;g.signin.data.loggedList.includes(e)||this.SignInBtn(),g.turntable.data.turntableCount>=10&&this.TurntableBtn()},c.PlayBtn=function(e){var n=new S(h.货币,0,y.体力);n.use(I.PlayGame_Stamina)?(I.GameLevel_CurrSelect=T.Instance.GetUnlockLevel(),l.gui.replace(P.HomeScene,P.GameLevelScene),n.count+I.PlayGame_Stamina<20&&l.gui.open(P.BuyStrength)):(L.AddMessage("体力不足"),l.gui.open(P.BuyStrength)),b.PlayEffect(R.UIClick)},c.SetupBtn=function(){l.gui.open(P.SetupPage),b.PlayEffect(R.UIClick)},c.SignInBtn=function(){l.gui.open(P.SignInPage),b.PlayEffect(R.UIClick)},c.RoomRefrence=function(){l.gui.open(P.SelectLevelPage),b.PlayEffect(R.UIClick)},c.TurntableBtn=function(){l.gui.open(P.TurntablePage),b.PlayEffect(R.UIClick)},c.MoreGamesBtn=function(){l.gui.open(P.MoreGamePage),b.PlayEffect(R.UIClick)},c.RankingsBtn=function(){G.platformAPI.UploadScore("LevelNum",g.gameLevel.data.unlockLevel),G.platformAPI.GetRankList()},n}(f)).prototype,"roomRefrenceParent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(A.prototype,"rankingBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=A))||U));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e.error,s=e.warn}],execute:function(){n._RF.push({},"3f152JOBbBNurrXRkEB9dDk","HttpRequest",void 0),n._RF.push({},"806e5t8UetFy4spn89dnuan","HttpRequest",void 0);var u={},o={},i=e("HttpEvent",function(e){return e.NO_NETWORK="http_request_no_network",e.UNKNOWN_ERROR="http_request_unknown_error",e.TIMEOUT="http_request_timout",e}({})),a=e("HttpReturn",(function(){this.isSucc=!1,this.res=void 0,this.err=void 0}));e("HttpRequest",function(){function e(){this.server="http://127.0.0.1/",this.timeout=1e4,this.header=new Map}var n=e.prototype;return n.addHeader=function(e,t){this.header.set(e,t)},n.get=function(e,t,n){void 0===n&&(n=null),this.sendRequest(e,n,!1,t)},n.getAsync=function(e,t){var n=this;return void 0===t&&(t=null),new Promise((function(r,s){n.sendRequest(e,t,!1,(function(e){r(e)}))}))},n.getByArraybuffer=function(e,t,n){void 0===n&&(n=null),this.sendRequest(e,n,!1,t,"arraybuffer",!1)},n.getAsyncByArraybuffer=function(e,t){var n=this;return void 0===t&&(t=null),new Promise((function(r,s){n.sendRequest(e,t,!1,(function(e){r(e)}),"arraybuffer",!1)}))},n.post=function(e,t,n){void 0===n&&(n=null),this.sendRequest(e,n,!0,t)},n.postAsync=function(e,t){var n=this;return void 0===t&&(t=null),new Promise((function(r,s){n.sendRequest(e,t,!0,(function(e){r(e)}))}))},n.abort=function(e){var t=u[this.server+e];t&&t.abort()},n.getParamString=function(e){var t="";for(var n in e){var r=e[n];if(r instanceof Object)for(var s in r)t+=s+"="+r[s]+"&";else t+=n+"="+r+"&"}return t.substring(0,t.length-1)},n.sendRequest=function(e,n,c,f,d,l){var h=this;if(void 0===l&&(l=!0),null!=e&&""!=e){var p,v,R="";if(p=0==e.toLocaleLowerCase().indexOf("http")?e:this.server+e,n?(R=this.getParamString(n),v=p.indexOf("?")>-1?p+"&"+R:p+"?"+R):v=p,null==u[v]||o[v]!=R){var y=new XMLHttpRequest;u[v]=y,o[v]=R,c?y.open("POST",p):y.open("GET",v);for(var O,_=t(this.header);!(O=_()).done;){var q=O.value,g=q[0],N=q[1];y.setRequestHeader(g,N)}var S={};S.url=p,S.params=n;var m=new a;l&&(y.timeout=this.timeout,y.ontimeout=function(){h.deleteCache(v),m.isSucc=!1,m.err=i.TIMEOUT,f(S)}),y.onloadend=function(){500==y.status&&(h.deleteCache(v),m.isSucc=!1,m.err=i.NO_NETWORK,f(m))},y.onerror=function(){h.deleteCache(v),m.isSucc=!1,0==y.readyState||1==y.readyState||0==y.status?m.err=i.NO_NETWORK:m.err=i.UNKNOWN_ERROR,f(m)},y.onreadystatechange=function(){4==y.readyState&&(h.deleteCache(v),200==y.status&&f&&(m.isSucc=!0,"arraybuffer"==d?(y.responseType=d,m.res=y.response):m.res=JSON.parse(y.response),f(m)))},null==n||""==n?y.send():y.send(R)}else s("地址【"+p+"】已正在请求中，不能重复请求")}else r("请求地址不能为空")},n.deleteCache=function(e){delete u[e],delete o[e]},e}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/HuaWeiAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts"],(function(e){var o,i,d,n;return{setters:[function(e){o=e.inheritsLoose},function(e){i=e.cclegacy,d=e._decorator},function(e){n=e.BaseAPI}],execute:function(){var a;i._RF.push({},"fe7acB1niFBd4Jmv6tcHABI","HuaWeiAPI",void 0);var t=d.ccclass;d.property;i._RF.push({},"c7e74SOikhLuYgptTFm4g/L","HuaWeiAPI",void 0);e("HuaWeiAPI",t("HuaWeiAPI")(a=function(e){function i(){for(var o,i=arguments.length,d=new Array(i),n=0;n<i;n++)d[n]=arguments[n];return(o=e.call.apply(e,[this].concat(d))||this).huaweiVideoID="",o}o(i,e);var d=i.prototype;return d.InitGame=function(){this.api=window.qg,e.prototype.InitGame.call(this)},d.Gamelogin=function(e,o){void 0===e&&(e=""),console.log("Sign-in"),window.qg.gameLoginWithReal({forceLogin:1,appid:e,success:function(e){console.log(" game login with real success:"+JSON.stringify(e)),null==o||o()},fail:function(e,o){console.log("game login with real fail:"+e+", code:"+o),7004!=o&&2012!=o||console.log("玩家取消登录，返回游戏界面让玩家重新登录。"),7021==o&&console.log("The player has canceled identity verification. Forbid the player from entering the game.")}})},d.InitVideoAds=function(e){var o=this;this.huaweiVideoID=e,this.videoAd=window.qg.createRewardedVideoAd({adUnitId:this.huaweiVideoID,success:function(e){console.log("激励广告ad demo : loadAndShowVideoAd createRewardedVideoAd success")},fail:function(e,o){console.log("激励广告ad demo : loadAndShowVideoAd createRewardedVideoAd fail: "+e+","+o)},complete:function(){console.log("激励广告ad demo : loadAndShowVideoAd createRewardedVideoAd complete")}}),this.videoAd.onLoad((function(){console.log("激励广告ad demo :ad loaded.")})),this.videoAd.onError((function(e){console.error("激励广告load ad error:"+JSON.stringify(e)),e.errCode,e.errMsg,o.videoRewardFail&&o.videoRewardFail()})),this.videoAd.onClose((function(e){e&&console.log("激励广告ad onClose: "+e.isEnded),e&&e.isEnded||void 0===e?(console.log("播放激励广告结束，给予奖励"),o.videoRewardSuccess&&o.videoRewardSuccess()):(console.log("播放激励广告没结束，不给予奖励"),o.videoRewardCancel&&o.videoRewardCancel()),o.LoadVideoAds()})),this.LoadVideoAds()},d.LoadVideoAds=function(){this.videoAd.load()},d.ShowVideoAds=function(e,o,i){this.videoRewardSuccess=e,this.videoRewardFail=o,this.videoRewardCancel=i,this.videoAd.show()},i}(n))||a);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/IconShaking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,a,o,s,u,l,c,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.CCFloat,u=e.CCInteger,l=e.tween,c=e.Vec3,h=e.Tween,p=e.Component}],execute:function(){var f,g,k,d,b,D,y,m,w,v,A;a._RF.push({},"070ddtDRg5BWq2NcKCD/QeY","IconShaking",void 0);var I=o.ccclass,S=o.property;a._RF.push({},"3f7aaNwkkhESpaD02Hnbfxi","IconShaking",void 0);e("IconShaking",(f=I("IconShaking"),g=S(s),k=S(s),d=S(u),b=S(s),f((m=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"shakeDuration",m,r(t)),i(t,"shakeAmplitude",w,r(t)),i(t,"shakeTimes",v,r(t)),i(t,"pauseDuration",A,r(t)),t}n(t,e);var a=t.prototype;return a.onEnable=function(){var e=l(this.node).to(this.shakeDuration,{eulerAngles:new c(0,0,this.shakeAmplitude)}).to(this.shakeDuration,{eulerAngles:new c(0,0,-this.shakeAmplitude)}),t=l(this.node).repeat(this.shakeTimes,e).to(this.shakeDuration,{eulerAngles:new c(0,0,0)}).delay(this.pauseDuration);l(this.node).repeatForever(t).start()},a.onDisable=function(){h.stopAllByTarget(this.node),this.node.eulerAngles=c.ZERO.clone()},t}(p)).prototype,"shakeDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=t(y.prototype,"shakeAmplitude",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),v=t(y.prototype,"shakeTimes",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),A=t(y.prototype,"pauseDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),D=y))||D));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/IControl.ts",["cc"],(function(){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"c80a5b6SE1FJL4ZP93z1oDk","IControl",void 0),o._RF.push({},"58450TyE3JB069KO8P5+hl4","IControl",void 0),o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"957a8wysPBHuodUKYGF/Clp","ImageUtil",void 0),t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a,i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.width,i.height=e.height;var g=null==(a=e.image)?void 0:a.data;o.drawImage(g,0,0,e.width,e.height);var c=o.getImageData(0,0,e.width,e.height),u=(r-1)*e.width*4+4*(t-1),l=c.data.slice(u,u+4),d=new n(l[0],l[1],l[2],l[3]);return g.remove(),i.remove(),d},e.imageToBase64=function(e,t){return new Promise((function(n){var r=/\.png|\.jpg|\.jpeg/.exec(e),a=null==r?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),g=new Image;g.src=e,g.onload=function(){i.height=g.height,i.width=g.width,o.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./BTreeNode.ts","./Priority.ts","./Sequence.ts","./Task.ts","./Selector.ts"],(function(e){var o;return{setters:[function(e){o=e.cclegacy},function(o){e("BehaviorTree",o.BehaviorTree)},function(o){e("BranchNode",o.BranchNode)},function(o){e("Decorator",o.Decorator)},function(o){e("BTreeNode",o.BTreeNode)},function(o){e("Priority",o.Priority)},function(o){e("Sequence",o.Sequence)},function(o){e("Task",o.Task)},function(o){e("Selector",o.Selector)}],execute:function(){o._RF.push({},"64405MCP0NDnb3Rpvd5yioy","index",void 0),o._RF.push({},"96257XYurdITbWhyEf7Qlbn","index",void 0),o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/InitCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,a,r,n,o,s,c,m,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Camera,c=e.view,m=e.renderer,p=e.Component}],execute:function(){var h,u,C,l,v;n._RF.push({},"45f29NMVcNCvYsI+OohCA2A","InitCamera",void 0);var f=o.ccclass,d=o.property;n._RF.push({},"b72c7s/psxIQZ3jy219yfgq","InitCamera",void 0);e("InitCamera",(h=f("InitCamera"),u=d(s),h((v=i((l=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,a(i,"mainCamera",v,r(i)),i.perspectiveFov=void 0,i}t(i,e);var n=i.prototype;return n.start=function(){this.mainCamera||(this.mainCamera=this.getComponent(s)),this.perspectiveFov=this.mainCamera.fov,this.adjustCamera(),c.on("resize",this.adjustCamera,this)},n.onDestroy=function(){c.off("resize",this.adjustCamera,this)},n.adjustCamera=function(){var e=c.getVisibleSize(),i=e.width/e.height,t=c.getDesignResolutionSize(),a=t.width/t.height;if(this.mainCamera.projection==m.scene.CameraProjection.PERSPECTIVE){if(i>a)this.mainCamera.fov=this.perspectiveFov;else if(i<a){var r=this.perspectiveFov*(a/i);this.mainCamera.fov=r}}else this.mainCamera.projection,m.scene.CameraProjection.ORTHO},i}(p)).prototype,"mainCamera",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=l))||C));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/Initialize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./InitRes.ts"],(function(i){var t,n,e,o;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy},function(i){e=i.ecs},function(i){o=i.InitResComp}],execute:function(){var s;n._RF.push({},"9da358jCHZJR7GlGPR6P2EX","Initialize",void 0),n._RF.push({},"ffbceQs6Z9IoI5z6mt1avMw","Initialize",void 0);i("Initialize",e.register("Initialize")(s=function(i){function n(){return i.apply(this,arguments)||this}return t(n,i),n.prototype.init=function(){this.add(o)},n}(e.Entity))||s);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/InitPlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.ecs},function(t){o=t.NodeComp}],execute:function(){var r,c;n._RF.push({},"95f82DNyBdL06kDTvTcgF53","InitPlaceItem",void 0),n._RF.push({},"26be33igrRKv6PoZHzvuMvQ","InitPlaceItem",void 0);var u=t("InitPlaceItemComp",i.register("InitPlaceItem")(r=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.reset=function(){},n}(i.Comp))||r);t("InitPlaceItemSystem",i.register("InitPlaceItem")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.filter=function(){return i.allOf(u,o)},r.entityEnter=function(t){var e=t.get(o);e.isDestroy=!1,e.node.active=!1,t.remove(u)},n}(i.ComblockSystem))||c);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/InitRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AsyncQueue.ts","./ECS.ts","./GameUIConfig.ts","./LoadingViewComp.ts"],(function(n){var e,t,o,r,s,u,a,i,c;return{setters:[function(n){e=n.inheritsLoose,t=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){s=n.oops},function(n){u=n.AsyncQueue},function(n){a=n.ecs},function(n){i=n.UIID},function(n){c=n.LoadingViewComp}],execute:function(){var l,g;r._RF.push({},"740c3sSFtlNd7ezjrdZauAG","InitRes",void 0),r._RF.push({},"2ee0c8+7R9EFKQb+OPn9mlk","InitRes",void 0);var p=n("InitResComp",a.register("InitRes")(l=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.call.apply(n,[this].concat(o))||this).bgNode=null,e}return e(t,n),t.prototype.reset=function(){this.bgNode=null},t}(a.Comp))||l);n("InitResSystem",a.register("Initialize")(g=function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var l=r.prototype;return l.filter=function(){return a.allOf(p)},l.entityEnter=function(n){console.log("<--------------初始游戏资源--------------\x3e");var e=new u;this.loadBgNode(e,n),this.loadCustom(e),this.loadLanguage(e),this.loadCommon(e),this.onComplete(e,n),e.play()},l.loadBgNode=function(n,e){n.push(t(o().mark((function n(t,r,u){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.gui.openAsync(i.Loading);case 2:(a=n.sent)?(e.get(p).bgNode=a,t()):s.log.logBusiness(a,"创建加载页面背景失败:");case 4:case"end":return n.stop()}}),n)}))))},l.loadCustom=function(n){n.push(t(o().mark((function n(e,t,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.res.load("language/font/"+s.language.current,e);case 1:case"end":return n.stop()}}),n)}))))},l.loadLanguage=function(n){n.push((function(n,e,t){var o=s.storage.get("language");null!=o&&""!=o||(o="zh",s.storage.set("language",o)),s.language.setLanguage(o,n)}))},l.loadCommon=function(n){n.push((function(n,e,t){s.res.loadDir("common",n)}))},l.onComplete=function(n,e){n.complete=t(o().mark((function n(){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("<--------------资源初始化完成--------------\x3e"),(t=e.get(p).bgNode)&&(r=t.getComponent(c),e.add(r),null==r||r.enter()),e.remove(p);case 4:case"end":return n.stop()}}),n)})))},r}(a.ComblockSystem))||g);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/InitView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,o,s,h,c,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i._decorator,o=i.view,s=i.Vec2,h=i.View,c=i.ResolutionPolicy,r=i.Component}],execute:function(){var w;e._RF.push({},"a63e79H60tG+K8JzKrwZR2w","InitView",void 0);var u=n.ccclass;n.property;e._RF.push({},"91dafcm2SRNLotLcPhD0wjk","InitView",void 0);i("InitView",u("InitView")(w=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).viewSize=new s(0,0),t}t(e,i);var n=e.prototype;return n.onLoad=function(){this.InitView()},n.start=function(){this.InitView()},n.onEnable=function(){this.InitView()},n.InitView=function(){var i=o.getVisibleSize();if(this.viewSize.x!=i.width||this.viewSize.y!=i.height){var t=i.width/i.height,e=o.getDesignResolutionSize(),n=e.width/e.height;this.viewSize=new s(i.width,i.width),t<=n?h.instance.setDesignResolutionSize(e.width,e.height,c.FIXED_WIDTH):h.instance.setDesignResolutionSize(e.width,e.height,c.FIXED_HEIGHT)}},e}(r))||w);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/IosAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ToastMgr.ts","./BaseAPI.ts"],(function(e){var i,o,t,a,n,s,c;return{setters:[function(e){i=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,a=e.sys,n=e.native},function(e){s=e.ToastMgr},function(e){c=e.BaseAPI}],execute:function(){var l;o._RF.push({},"245cbnQmzlDsIfVtzWvCGmP","IosAPI",void 0);var r=t.ccclass;t.property;o._RF.push({},"1b959fU4sRPM4WEFV9CZDVj","IosAPI",void 0);var d=e("IosAPI",r("IosAPI")(l=function(e){function o(){for(var i,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return(i=e.call.apply(e,[this].concat(t))||this).videoStartAction=null,i}i(o,e);var t=o.prototype;return t.InitGame=function(){this.CallByNative(),e.prototype.InitGame.call(this)},t.CallStaticJava=function(e,i){void 0===i&&(i=void 0),!a.isNative||a.os!=a.OS.IOS&&a.os!=a.OS.OSX?console.log("非原生平台，不调用Objective-C"):null==i?(console.log("Ts开始调用Objective-C没有参数的方法",e),n.jsbBridgeWrapper.dispatchEventToNative(e)):(console.log("Ts开始调用Objective-C有参数的方法",e,i),n.jsbBridgeWrapper.dispatchEventToNative(e,i))},t.CallByNative=function(){var e=this;n.bridge.onNative=function(i,o){console.log("Objective-C调用Ts,Ts执行：",i,o),"VideoRewardSuccess"==i?(console.log("激励广告游戏奖励"),e.isPlayingAds=!1,e.videoRewardSuccess&&e.videoRewardSuccess()):"VideoRewardFail"==i?(console.log("激励广告加载失败"),e.isPlayingAds=!1,e.videoRewardFail&&e.videoRewardFail()):"VideoRewardCancel"==i?(console.log("激励广告未观看完毕"),e.isPlayingAds=!1,e.videoRewardCancel&&e.videoRewardCancel()):"ShowFloatMessage"==i&&o&&s.AddMessage(o)}},t.InitVideoAds=function(e){},t.LoadVideoAds=function(){this.CallStaticJava("LoadVideoAds")},t.ShowVideoAds=function(e,i,o){this.videoRewardSuccess=e,this.videoRewardFail=i,this.videoRewardCancel=o,this.CallStaticJava("ShowVideoAds")},t.InitBanner=function(e){},t.ShowBanner=function(){this.CallStaticJava("ShowBanner")},t.HideBanner=function(){this.CallStaticJava("HideBanner")},t.InitInterstitial=function(e){},t.ShowInterstitial=function(){this.CallStaticJava("ShowInterstitial")},o}(c))||l);window.IosAPI=d,o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ObjectUtil.ts","./GameMgr.ts","./List2.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var t,n,o,a,i,r,u,s,c,m,p,h,l,d;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){a=e.oops},function(e){i=e.ObjectUtil},function(e){r=e.GameMgr},function(e){u=e.default},function(e){s=e.ItemType,c=e.MoneyType,m=e.GamePropType},function(e){p=e.GameEvent},function(e){h=e.GameGeneralConfig},function(e){l=e.GameStorageConfig},function(e){d=e.ArchiveBase}],execute:function(){var v;n._RF.push({},"3ab9bZ46NBBLL1qF1gYxi3g","ItemArchive",void 0);var g=o.ccclass;o.property;n._RF.push({},"89be7EbbDFNYpYEORYOlmz+","ItemArchive",void 0);e("ItemArchive",g("ItemArchive")(v=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).key=l.ItemArchive,t.defaultData={},t.data=t.defaultData,t}return t(n,e),n.DefaultValue=function(e){return e.type==s.货币&&0==e.part&&e.id==c.体力?h.Max_Stamina:e.type!=s.道具||e.id!=m.提示&&e.id!=m.冻结?0:1},n.GetItemCount=function(e){return a.storage.getNumber(l.ItemArchive+"_"+e.type+"_"+e.part+"_"+e.id,this.DefaultValue(e))},n.SetItemCount=function(e,t,n){void 0===n&&(n=!0);var o=this.GetItemCount(e);a.storage.set(l.ItemArchive+"_"+e.type+"_"+e.part+"_"+e.id,t),n&&this.TriggerEvent(e,t-o)},n.ChangeItemCount=function(e,t,o){void 0===o&&(o=!0);var a=n.GetItemCount(e);this.SetItemCount(e,a+t,o)},n.UseItemGetReward=function(e,t,n,o){return void 0===o&&(o={showPage:!0,multiple:1}),this.GetItemCount(e)>=t?(this.ChangeItemCount(e,-t),this.AddRewarwdList(n,o),!0):(o.onFail&&o.onFail(),o.onComplete&&o.onComplete(!1),!1)},n.AddRewarwdList=function(e,t){void 0===t&&(t={showPage:!0,multiple:1});var n=t,o=n.showPage,a=void 0===o||o,s=n.multiple,c=void 0===s?1:s,m=new u;if(Array.isArray(e))for(var p=0;p<(null==e?void 0:e.length);p++){var h=i.deepCopy(e[p]);h.count*=c,this.ChangeItemCount(h,h.count,!a),m.Add(h)}else{var l=i.deepCopy(e);this.ChangeItemCount(l,l.count,!a),m.Add(l)}a&&r.rewardEff.ShowRewardPage(m),t.onSuccess&&t.onSuccess(),t.onComplete&&t.onComplete(!0)},n.TriggerEvent=function(e,t){var n={itemGUID:e,changeValue:t};a.message.dispatchEvent(p.ItemCountChanges,n),e.type==s.货币?a.message.dispatchEvent(p.MoneyChange,n):e.type==s.道具&&a.message.dispatchEvent(p.GamePropChange,n)},n}(d))||v);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCountBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./LabelChange.ts","./GameComponent.ts","./ResMgr.ts","./GameEnum.ts","./GameEvent.ts","./ItemInfo.ts"],(function(t){var e,n,i,o,r,u,a,s,c,m,h,l,p,f,I,g,y,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,c=t.Enum,m=t.Sprite,h=t.math},function(t){l=t.oops},function(t){p=t.LabelChange},function(t){f=t.GameComponent},function(t){I=t.ResMgr},function(t){g=t.ItemType},function(t){y=t.GameEvent},function(t){C=t.ItemInfo}],execute:function(){var b,v,d,w,D,x,E,G,P,z,B;a._RF.push({},"82852hmjP1PyowezhjlI39s","ItemCountBox",void 0);var T=s.ccclass,L=s.property;a._RF.push({},"65639U5yrJFDa5Blb65HAKk","ItemCountBox",void 0);t("ItemCountBox",(b=T("ItemCountBox"),v=L({type:c(g)}),d=L(p),w=L(m),b((E=e((x=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))||this).itemInfo=null,i(e,"itemType",E,o(e)),i(e,"itemPart",G,o(e)),i(e,"itemID",P,o(e)),i(e,"itemCount",z,o(e)),i(e,"itemIcon",B,o(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.setButton()},a.onEnable=function(){this.InitItem(),l.message.on(y.ItemCountChanges,this.ItemChangeEvent.bind(this),this)},a.InitItem=function(){var t=r(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(this.itemType=e.type,this.itemPart=e.part,this.itemID=e.id),this.itemInfo=new C(this.itemType,this.itemPart,this.itemID),this.itemCount.num=this.itemInfo.count,this.LoadItemIcon();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onDisable=function(){this.itemIcon.spriteFrame=null,l.message.off(y.ItemCountChanges,this.ItemChangeEvent.bind(this),this)},a.LoadItemIcon=function(){var t=r(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.SetSprite(this.itemIcon,this.itemInfo.iconPath);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.ItemChangeEvent=function(t,e){this.itemInfo&&e&&e.itemGUID&&C.GuidsEqual(this.itemInfo,e.itemGUID)&&this.CountChange(e.changeValue)},a.CountChange=function(t){this.itemCount.num=this.itemInfo.count-t;var e=h.clamp(t/100,1,2);this.itemCount.changeTo(e,this.itemInfo.count)},e}(f)).prototype,"itemType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.货币}}),G=e(x.prototype,"itemPart",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(x.prototype,"itemID",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=e(x.prototype,"itemCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(x.prototype,"itemIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=x))||D));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCountBoxList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Dictionary.ts","./List2.ts","./GameEnum.ts","./BoxInAndOut.ts","./ItemCountBox.ts"],(function(t){var n,e,o,i,r,a,s,u,c,p,l,f,h,d,m,g,x,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Node,p=t.Vec3,l=t.Component},function(t){f=t.oops},function(t){h=t.default},function(t){d=t.default},function(t){m=t.ItemType,g=t.Bundle},function(t){x=t.BoxInAndOut},function(t){y=t.ItemCountBox}],execute:function(){var b,B,I,C,k,v,w,L,S;s._RF.push({},"34629S3sG5DV64VhlflHq7Y","ItemCountBoxList",void 0);var M=u.ccclass,P=u.property;s._RF.push({},"23d119lhyBLLoNT0H/es8VW","ItemCountBoxList",void 0);t("ItemCountBoxList",(b=M("ItemCountBoxList"),B=P(c),I=P(c),C=P(x),b((w=n((v=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"boxParent",w,i(n)),n.iconOffsetX=-47.628,o(n,"backpackParent",L,i(n)),o(n,"backpackBox",S,i(n)),n.sortIDList=new d,n.guidSortingMap=new h,n.sortingBoxMap=new h,n}e(n,t);var s=n.prototype;return s.generateKey=function(t){return[t.type,t.part,t.id].map((function(t){return t.toString()})).join("|")},s.ShowCountBox=function(t){if(t.type!=m.货币)return this.backpackBox.node.active=!0,this.backpackBox.ShowItem(),this.backpackParent.position;if(this.guidSortingMap.ContainsKey(this.generateKey(t))){var n=this.guidSortingMap.Get(this.generateKey(t));if(this.sortingBoxMap.ContainsKey(n)){var e=this.sortingBoxMap.Get(n);null==e||e.ShowItem()}}else{for(var o=0;this.sortIDList.Contains(o);)o+=1;this.sortIDList.Add(o),this.guidSortingMap.Add(this.generateKey(t),o),this.CreateItemCount(t,o)}var i=this.guidSortingMap.Get(this.generateKey(t));return new p(this.boxParent.position.x+this.iconOffsetX,this.boxParent.position.y+-60*i,0)},s.CreateItemCount=function(){var t=r(a().mark((function t(n,e){var o,i,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.pool.loadAndShow("common/itemCountBox/ItemCountBox",this.boxParent,{bundleName:g.prefabTest,pos:new p(0,-60*e)});case 2:o=t.sent,i=o.addComponent(x),null==(r=i.getComponent(y))||r.InitItem(n),null==i||i.InitItem(n,e,this),this.sortingBoxMap.Add(e,i);case 8:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),n}(l)).prototype,"boxParent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"backpackParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(v.prototype,"backpackBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ItemCountNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var i,n,e,o,r,a,u,l,c,s,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Label,l=t.Sprite,c=t.Animation,s=t.Component},function(t){p=t.oops}],execute:function(){var m,f,h,y,I,b,d,v,F;r._RF.push({},"355c4l9ybtDmrSBVd+kcvTX","ItemCountNotify",void 0);var C=a.ccclass,g=a.property;r._RF.push({},"1f6dev5pGFIJKYNXVrUlDxx","ItemCountNotify",void 0);t("ItemCountNotify",(m=C("ItemCountNotify"),f=g(u),h=g(l),y=g(c),m((d=i((b=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"itemCount",d,o(i)),e(i,"itemIcon",v,o(i)),e(i,"animation",F,o(i)),i}n(i,t);var r=i.prototype;return r.Init=function(t,i){this.itemCount.string=t,this.itemIcon.spriteFrame=i,this.animation&&(this.animation.play(),this.animation.on(c.EventType.FINISHED,this.onFinished,this))},r.onDisable=function(){this.itemIcon.spriteFrame=null},r.onFinished=function(){p.pool.put(this.node)},i}(s)).prototype,"itemCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(b.prototype,"itemIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(b.prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=b))||I));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemFlying.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./GameEnum.ts","./FlyingToTarget.ts","./ZoomInNode.ts","./ZoomOutNode.ts","./NodeComp.ts","./ItemFlyingTargetComp.ts"],(function(t){var n,o,e,i,r,s,a,u,c,d,m,l,f,p,g,h,y,I,v;return{setters:[function(t){n=t.inheritsLoose,o=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t.Vec3,s=t.find,a=t.Sprite},function(t){u=t.oops},function(t){c=t.ecs},function(t){d=t.GameMgr},function(t){m=t.MusicMgr,l=t.EffectType},function(t){f=t.ResMgr},function(t){p=t.Bundle},function(t){g=t.FlyingToTargetComp},function(t){h=t.ZoomInNodeComp},function(t){y=t.ZoomOutNodeComp},function(t){I=t.NodeComp},function(t){v=t.ItemFlyingTargetComp}],execute:function(){var F;i._RF.push({},"76f74MZEQdLu47BAaBHIok4","ItemFlying",void 0),i._RF.push({},"f13198B1/ZPl5N63WqfcM7y","ItemFlying",void 0);t("ItemFlying",c.register("ItemFlying")(F=function(t){function i(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).zoomIn=void 0,n.zoomOut=void 0,n.flyingToTarget=void 0,n.itemGuid=null,n}n(i,t);var c=i.prototype;return c.init=function(){},c.LoadNode=function(){var t=o(e().mark((function t(n,o,i){var c,m,l,g,h;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.itemGuid=n,m=this.add(I),this.add(v).targetPos=i,t.next=6,u.pool.loadAndShow("common/reward/ItemFlying",d.rewardEff.itemFlying,{bundleName:p.prefabTest,pos:r.ZERO});case 6:return l=t.sent,m.node=l,m.isPool=!0,g=s("CoinIcon",m.node),m.itemIcon=null!=(c=null==g?void 0:g.getComponent(a))?c:void 0,h="itemIcon/"+this.itemGuid.type+"/"+this.itemGuid.part+"/itemIcon_"+this.itemGuid.type+"_"+this.itemGuid.part+"_"+this.itemGuid.id+"/spriteFrame",f.SetSprite(m.itemIcon,h),this.ZoomIn(o),d.rewardEff.ShowCountBox(n),t.abrupt("return",m);case 16:case"end":return t.stop()}}),t,this)})));return function(n,o,e){return t.apply(this,arguments)}}(),c.ZoomIn=function(t){var n=this,o=this.add(h),e=this.add(g);o.duration=.4,e.duration=.4,e.startPos=new r(0,150,0),e.targetPos=t.add(e.startPos),o.startScale=new r(.1,.1,.1),o.targetScale=new r(1.2,1.2,1.2),e.onComplete=function(){n.ZoomOut()}},c.ZoomOut=function(){var t=this,n=this.add(y);n.duration=.2,n.startScale=new r(1.2,1.2,1.2),n.targetScale=new r(1,1,1),n.onComplete=function(){t.FlyingTarget(),m.PlayEffect(l.Coin)}},c.FlyingTarget=function(){var t=this,n=this.get(I),o=this.get(v),e=this.add(g);e.duration=.6,e.startPos=n.node.position.clone(),e.targetPos=o.targetPos,e.onComplete=function(){t.OnComplete()}},c.OnComplete=function(){this.destroy()},i}(c.Entity))||F);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemFlyingTargetComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Vec3},function(t){r=t.ecs}],execute:function(){var i;n._RF.push({},"fb94eMzkFxFJ5m23WEpObJy","ItemFlyingTargetComp",void 0),n._RF.push({},"764dfy7ZJdPn5JqXicozy6/","ItemFlyingTargetComp",void 0);t("ItemFlyingTargetComp",r.register("ItemFlyingTargetComp")(i=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).targetPos=new o(0,0,0),e}return e(n,t),n.prototype.reset=function(){this.targetPos=new o(0,0,0)},n}(r.Comp))||i);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemArchive.ts","./GameEnum.ts","./TableItemData.ts"],(function(t){var e,i,n,o,s,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.ItemArchive},function(t){s=t.ItemType},function(t){a=t.TableItemData}],execute:function(){i._RF.push({},"0fb7b5LEBVIl7d3rX8AOeJv","ItemInfo",void 0);n.ccclass,n.property;i._RF.push({},"6424ctdY8tFya7nYf/K0JR6","ItemInfo",void 0);t("ItemInfo",function(){function t(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.type=s.货币,this.part=0,this.id=0,this.data=null,"object"==typeof t?(this.type=t.type,this.part=t.part,this.id=t.id):(this.type=t,this.part=e,this.id=i)}var i=t.prototype;return i.add=function(t){void 0===t&&(t=1),o.ChangeItemCount(this,t)},i.use=function(t){return void 0===t&&(t=1),this.count>=t&&(o.ChangeItemCount(this,-t),!0)},t.GuidsEqual=function(t,e){return t.type===e.type&&t.part===e.part&&t.id===e.id},e(t,[{key:"count",get:function(){return o.GetItemCount(this)},set:function(t){o.SetItemCount(this,t)}},{key:"iconPath",get:function(){return"itemIcon/1/0/itemIcon_"+this.type+"_"+this.part+"_"+this.id+"/spriteFrame"}},{key:"itemData",get:function(){return null==this.data&&(this.data=new a,this.data.init(this.type,this.part,this.id)),this.data}}]),t}());i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemInfoPool.ts",["cc","./ItemInfo.ts"],(function(o){var t,e,n;return{setters:[function(o){t=o.cclegacy,e=o._decorator},function(o){n=o.ItemInfo}],execute:function(){var r,i;t._RF.push({},"2072eWUmllJwbq3xIdEY3zs","ItemInfoPool",void 0);var l=e.ccclass;e.property;t._RF.push({},"de387sw9/ZLOYFLBv2HjVpI","ItemInfoPool",void 0);o("ItemInfoPool",l("ItemInfoPool")(((i=function(){function o(){}return o.get=function(o,t,e){if(this.pool.length>0){var r=this.pool.pop();return r.type=o,r.part=t,r.id=e,r}return new n(o,t,e)},o.release=function(o){this.pool.length<this.maxPoolSize&&this.pool.push(o)},o.releases=function(){for(var o=0;o<arguments.length;o++)this.release(o<0||arguments.length<=o?void 0:arguments[o])},o}()).pool=[],i.maxPoolSize=50,r=i))||r);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"4bfd8XB9TBOA75JC/clfnBV","JsonOb",void 0),r._RF.push({},"000b00Lx19Ke4hAFc9/Qlnh","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._callback=r,this.observe(t)}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();if(l)l.push(n);else var b=[n];var u=l||b;Object.defineProperty(t,n,{get:function(){return a},set:function(t){if(a!==t){"[object Object]"===e.toString.call(t)&&s.observe(t,u);var r=a;a=t,s._callback(t,r,u)}}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],u)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./ResLoader.ts"],(function(n){var e,o,s;return{setters:[function(n){e=n.cclegacy,o=n.JsonAsset},function(n){s=n.resLoader}],execute:function(){e._RF.push({},"87b5dJgjeBFYb/y/0Y3I0iN","JsonUtil",void 0),e._RF.push({},"1a24ank4nRC46jfzaIfOmtQ","JsonUtil",void 0);var t="config/game/",a=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(a.has(n))return a.get(n)},n.load=function(n,e){if(a.has(n))e(a.get(n));else{var i=t+n;s.load(i,o,(function(o,t){o?(console.warn(o.message),e(null)):(a.set(n,t.json),s.release(i),e(t.json))}))}},n.loadAsync=function(n){return new Promise((function(e,i){if(a.has(n))e(a.get(n));else{var r=t+n;s.load(r,o,(function(o,t){o?(console.warn(o.message),e(null)):(a.set(n,t.json),s.release(r),e(t.json))}))}}))},n.loadDirAsync=function(){return new Promise((function(n,e){s.loadDir(t,(function(e,o){e?(console.warn(e.message),n(!1)):(o.forEach((function(n){a.set(n.name,n.json)})),s.releaseDir(t),n(!0))}))}))},n.release=function(n){a.delete(n)},n.clear=function(){a.clear()},n}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/KsAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts"],(function(t){var e,n,s,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,i=t.Vec2},function(t){o=t.BaseAPI}],execute:function(){var c;n._RF.push({},"7ac2bjajjpLdJm1PQbIql/F","KsAPI",void 0);var r=s.ccclass;s.property;n._RF.push({},"8e37biEWCNFfJOKyP+4BvX/","KsAPI",void 0);t("KsAPI",r("KsAPI")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var s=n.prototype;return s.InitGame=function(){this.api=window.ks,t.prototype.InitGame.call(this)},s.GetWindowSize=function(){return new i(window.ks.getSystemInfoSync().screenWidth,window.ks.getSystemInfoSync().screenHeight)},n}(o))||c);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LabelChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelNumber.ts"],(function(i){var t,e,n,s,a,h,r;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,h=i._decorator},function(i){r=i.default}],execute:function(){var c,l,o;a._RF.push({},"8c910DciQNFE5ZEwcLoZLLB","LabelChange",void 0);var u=h.ccclass,d=h.property,p=h.menu;a._RF.push({},"fff0fLwVNhNe59VirWTCPFJ","LabelChange",void 0);i("LabelChange",u("LabelChange")(c=p("OopsFramework/Label/LabelChange （数值变化动画标签）")((o=t((l=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),h=0;h<e;h++)a[h]=arguments[h];return t=i.call.apply(i,[this].concat(a))||this,n(t,"isInteger",o,s(t)),t.duration=0,t.callback=void 0,t.isBegin=!1,t.speed=0,t.end=0,t._data=0,t}e(t,i);var a=t.prototype;return a.changeTo=function(i,t,e){0!=i?this.playAnim(i,this.num,t,e):e&&e()},a.changeBy=function(i,t,e){0!=i?this.playAnim(i,this.num,this.num+t,e):e&&e()},a.stop=function(i){void 0===i&&(i=!0),this.num=this.end,this.isBegin=!1,i&&this.callback&&this.callback()},a.playAnim=function(i,t,e,n){this.duration=i,this.end=e,this.callback=n,this.speed=(e-t)/i,this._data=t,this.num=t,this.isBegin=!0},a.isEnd=function(i){return this.speed>0?i>=this.end:i<=this.end},a.update=function(i){if(this.isBegin){if(this.num==this.end)return this.isBegin=!1,void(this.callback&&this.callback());this._data+=i*this.speed,this.isInteger?this.end<this._data?this.num=Math.floor(this._data):this.num=Math.ceil(this._data):this.num=this._data,this.isEnd(this._data)&&(this.num=this.end,this.isBegin=!1,this.callback&&this.callback())}},t}(r)).prototype,"isInteger",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=l))||c)||c);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LabelNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,o,i,u,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.createClass},function(t){u=t.cclegacy,a=t._decorator,l=t.Label}],execute:function(){var p,s,c,b,m,f,y,h,L;u._RF.push({},"dc3d2AUx59BlpCCtUq2LUnW","LabelNumber",void 0);var d=a.ccclass,g=a.property,_=a.menu;u._RF.push({},"f7b43F70BhPlrz4IPhZGmsL","LabelNumber",void 0);t("default",(p=d("LabelNumber"),s=_("OopsFramework/Label/LabelNumber （只显示数字的标签）"),c=g({tooltip:"数字"}),b=g({tooltip:"数字"}),m=g({tooltip:"货币符号"}),p(f=s((h=e((y=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,n(e,"_num",h,o(e)),n(e,"symbol",L,o(e)),e}r(e,t);var u=e.prototype;return u.start=function(){this.updateLabel()},u.updateLabel=function(){this.string=this.num.toString()+this.symbol},i(e,[{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.updateLabel()}}]),e}(l)).prototype,"_num",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(y.prototype,"num",[b],Object.getOwnPropertyDescriptor(y.prototype,"num"),y.prototype),L=e(y.prototype,"symbol",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=y))||f)||f));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./EventMessage.ts","./TimeUtils.ts"],(function(t){var e,i,o,n,r,s,a,l,h,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label},function(t){l=t.oops},function(t){h=t.EventMessage},function(t){c=t.TimeUtil}],execute:function(){var u,m,f,p,d,g,b,S,v,y,D,w;r._RF.push({},"9248aNdhyZHPrFPHeuVp5qw","LabelTime",void 0);var T=s.ccclass,_=s.property,F=s.menu;r._RF.push({},"57786GMN6RPbaAT9b9RmX18","LabelTime",void 0);t("default",(u=T("LabelTime"),m=F("OopsFramework/Label/LabelTime （倒计时标签）"),f=_({tooltip:"到计时间总时间（单位秒）"}),p=_({tooltip:"天数数据格式化"}),d=_({tooltip:"时间格式化"}),g=_({tooltip:"是否有00"}),u(b=m((v=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"countDown",v,n(e)),o(e,"dayFormat",y,n(e)),o(e,"timeFormat",D,n(e)),o(e,"zeroize",w,n(e)),e.backStartTime=0,e.dateDisable=void 0,e.result=void 0,e.onSecond=null,e.onComplete=null,e}i(e,t);var r=e.prototype;return r.replace=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return t.replace(/\{(\d+)\}/g,(function(t,e){return i[e]}))},r.format=function(){var t=this.countDown,e=Math.floor(t/86400);t-=86400*e;var i=Math.floor(t/3600);t-=3600*i;var o=Math.floor(t/60),n=t-=60*o;if(this.dateDisable=this.dateDisable||!1,0==e&&0==i&&0==o&&0==n)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(e>0&&!this.dateDisable){var r=this.dayFormat,s=r.indexOf("{1}");0==i&&s>-1&&(r=r.substring(0,s-1));var a=r;e>1&&r.indexOf("days")<0&&(a=a.replace("day","days")),e<2&&(a=a.replace("days","day")),this.result=this.replace(a,e,i)}else{var l=i+24*e;this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(l),this.coverString(o),this.coverString(n)):this.result=this.replace(this.timeFormat,l,o,n)}this.string=this.result},r.coverString=function(t){return t<10?"0"+t:t.toString()},r.setDateDisable=function(t){this.dateDisable=t},r.setTime=function(t){this.countDown=t,this.timing_end(),this.timing_start(),this.format()},r.setTimeStamp=function(t){this.countDown=c.secsBetween(l.timer.getServerTime(),t),this.timing_end(),this.timing_start(),this.format()},r.start=function(){l.message.on(h.GAME_SHOW,this.onGameShow,this),l.message.on(h.GAME_HIDE,this.onGameHide,this),this.timing_start(),this.format()},r.onDestroy=function(){l.message.off(h.GAME_SHOW,this.onGameShow,this),l.message.off(h.GAME_HIDE,this.onGameHide,this)},r.onGameShow=function(){var t=Math.floor((l.timer.getTime()-(this.backStartTime||l.timer.getTime()))/1e3);this.countDown-=t,this.countDown<0&&(this.countDown=0,this.onScheduleComplete())},r.onGameHide=function(){this.backStartTime=l.timer.getTime()},r.onScheduleSecond=function(){this.countDown--,this.format(),this.onSecond&&this.onSecond(this.node),0==this.countDown&&this.onScheduleComplete()},r.onScheduleComplete=function(){this.timing_end(),this.format(),this.onComplete&&this.onComplete(this.node)},r.timing_start=function(){this.schedule(this.onScheduleSecond,1)},r.timing_end=function(){this.unscheduleAllCallbacks()},e}(a)).prototype,"countDown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),y=e(S.prototype,"dayFormat",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0} day"}}),D=e(S.prototype,"timeFormat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0}:{1}:{2}"}}),w=e(S.prototype,"zeroize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=S))||b)||b));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./LanguageData.ts","./LanguagePack.ts"],(function(a){var e,n,g,t,u,s;return{setters:[function(a){e=a.createClass},function(a){n=a.cclegacy,g=a.sys},function(a){t=a.Logger},function(a){u=a.LanguageData},function(a){s=a.LanguagePack}],execute:function(){n._RF.push({},"7a9fauPT+ZBA6BrNl9O8CDS","Language",void 0),n._RF.push({},"3757cxZqLZObIdvP/gQ6Yuj","Language",void 0);a("LanguageManager",function(){function a(){this._languages=[g.Language.CHINESE,g.Language.ENGLISH],this._languagePack=new s,this._defaultLanguage=g.Language.ENGLISH}var n=a.prototype;return n.isExist=function(a){return this.languages.indexOf(a)>-1},n.getNextLang=function(){var a=this.languages,e=a.indexOf(u.current);return a[(e+1)%a.length]},n.setLanguage=function(a,e){var n=this;a=null==a||""==a?this._defaultLanguage:a.toLowerCase(),this.languages.indexOf(a)<0&&(console.log("当前不支持【"+a+"】语言，将自动切换到【"+this._defaultLanguage+"】语言"),a=this._defaultLanguage),a!==u.current?this.loadLanguageAssets(a,(function(g){t.instance.logConfig("当前语言为【"+a+"】");var s=u.current;u.current=a,n._languagePack.updateLanguage(a),n._languagePack.releaseLanguageAssets(s),e&&e(!0)})):e&&e(!1)},n.getLangByID=function(a){return u.getLangByID(a)},n.loadLanguageAssets=function(a,e){return a=a.toLowerCase(),this._languagePack.loadLanguageAssets(a,e)},n.releaseLanguageAssets=function(a){a=a.toLowerCase(),this._languagePack.releaseLanguageAssets(a)},e(a,[{key:"languages",get:function(){return this._languages},set:function(a){this._languages=a}},{key:"default",set:function(a){this._defaultLanguage=a||g.Language.ENGLISH}},{key:"current",get:function(){return u.current}},{key:"pack",get:function(){return this._languagePack}}]),a}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var e,n;return{setters:[function(a){e=a.createForOfIteratorHelperLoose},function(a){n=a.cclegacy}],execute:function(){n._RF.push({},"f6052iQqKdKBYk/a0/R0/vJ","LanguageData",void 0),n._RF.push({},"27fb3sjD81JlIP2KFTSWUp4","LanguageData",void 0);a("LanguageDataType",((t={}).Json="Json",t.Excel="Excel",t));var t,u=a("LanguageData",function(){function a(){}return a.getLangByID=function(a){for(var n,t=e(this.language);!(n=t()).done;){var u=n.value,g=(u[0],u[1][a]);if(g)return g}return a},a}());u.path_json="language/json",u.path_texture="language/texture",u.path_spine="language/spine",u.current="",u.language=new Map,u.font=null;a("LanguageType",["LanguageLabel","LanguageSprite","LanguageSpine"]);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(t){var e,a,n,i,r,o,s,p,u,l,c,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,n=t.inheritsLoose,i=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.CCString,u=t.Label,l=t.RichText,c=t.warn,g=t.Component},function(t){h=t.LanguageData}],execute:function(){var d,f,y,m,b,L,_,v,D,I,z,k,w,C;o._RF.push({},"84691bZEn9C9qD3VquhsIvl","LanguageLabel",void 0);var F=s.ccclass,U=s.property,P=s.menu;o._RF.push({},"110c8vEd5NEPL/N9meGQnaX","LanguageLabel",void 0);var S=t("LangLabelParamsItem",F("LangLabelParamsItem")((y=e((f=function(){a(this,"key",y,this),a(this,"value",m,this)}).prototype,"key",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=e(f.prototype,"value",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=f))||d);t("LanguageLabel",(b=F("LanguageLabel"),L=P("OopsFramework/Language/LanguageLabel （文本多语言）"),_=U({type:S,displayName:"params"}),v=U({serializable:!0}),D=U({type:S,displayName:"params"}),I=U({type:p,serializable:!0}),b(z=L((w=e((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"_params",w,i(e)),a(e,"_dataID",C,i(e)),e.initFontSize=0,e._needUpdate=!1,e}n(e,t);var o=e.prototype;return o.language=function(){this._needUpdate=!0},o.onLoad=function(){this._needUpdate=!0},o.setVars=function(t,e){for(var a=!1,n=0;n<this._params.length;n++){var i=this._params[n];i.key===t&&(i.value=e,a=!0)}if(!a){var r=new S;r.key=t,r.value=e,this._params.push(r)}this._needUpdate=!0},o.update=function(){this._needUpdate&&(this.updateContent(),this._needUpdate=!1)},o.updateContent=function(){var t=this.getComponent(u),e=this.getComponent(l),a=h.font;t?(a&&(t.font=a),t.string=this.string,this.initFontSize=t.fontSize):e?(a&&(e.font=a),e.string=this.string,this.initFontSize=e.fontSize):c("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件")},r(e,[{key:"params",get:function(){return this._params||[]},set:function(t){this._params=t,this._needUpdate=!0}},{key:"dataID",get:function(){return this._dataID||""},set:function(t){this._dataID=t,this._needUpdate=!0}},{key:"string",get:function(){var t=h.getLangByID(this._dataID);return t&&this._params.length>0&&this._params.forEach((function(e){t=t.replace("%{"+e.key+"}",e.value)})),t||(c("[LanguageLabel] 未找到语言标识，使用dataID替换"),t=this._dataID),t}}]),e}(g)).prototype,"_params",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(k.prototype,"_dataID",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(k.prototype,"params",[D],Object.getOwnPropertyDescriptor(k.prototype,"params"),k.prototype),e(k.prototype,"dataID",[I],Object.getOwnPropertyDescriptor(k.prototype,"dataID"),k.prototype),z=k))||z)||z));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./Logger.ts","./JsonUtil.ts","./LanguageData.ts"],(function(n){var e,t,a,r,o,u,s,c,i,g,l,f,p;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){a=n.cclegacy,r=n.director,o=n.error,u=n.TTFFont,s=n.JsonAsset},function(n){c=n.resLoader},function(n){i=n.Logger},function(n){g=n.JsonUtil},function(n){l=n.LanguageData,f=n.LanguageDataType,p=n.LanguageType}],execute:function(){a._RF.push({},"00f61nTpWNG1IK4KPgWRbuq","LanguagePack",void 0),a._RF.push({},"2ffebyj59xIc4v4BZty8SDm","LanguagePack",void 0);n("LanguagePack",function(){function n(){}var a=n.prototype;return a.updateLanguage=function(n){for(var e=r.getScene().children,t=function(n){p.forEach((function(t){for(var a=e[n].getComponentsInChildren(t),r=0;r<a.length;r++)a[r].language()}))},a=0;a<e.length;++a)t(a)},a.loadLanguageAssets=function(){var n=e(t().mark((function n(e,a){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadTexture(e);case 2:return n.next=4,this.loadSpine(e);case 4:return n.next=6,this.loadJson(e);case 6:return n.next=8,this.loadTable(e);case 8:a(e);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),a.loadTable=function(n){return new Promise(e(t().mark((function n(e,a){var r;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.loadAsync("Language");case 2:(r=n.sent)&&(l.language.set(f.Excel,r),i.instance.logConfig("config/game/Language","下载语言包 table 资源")),e(null);case 5:case"end":return n.stop()}}),n)}))))},a.loadTexture=function(n){return new Promise((function(e,t){var a=l.path_texture+"/"+n;c.loadDir(a,(function(n,t){if(n)return o(n),void e(null);i.instance.logConfig(a,"下载语言包 textures 资源"),e(null)}))}))},a.loadJson=function(n){return new Promise(e(t().mark((function e(a,r){var o,g;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=l.path_json+"/"+n,e.next=3,c.loadAsync(o,s);case 3:(g=e.sent)?(l.language.set(f.Json,g.json),i.instance.logConfig(o,"下载语言包 json 资源"),c.load(o,u,(function(n,e){null==n&&i.instance.logConfig(o,"下载语言包 ttf 资源"),l.font=e,a(null)}))):a(null);case 5:case"end":return e.stop()}}),e)}))))},a.loadSpine=function(n){return new Promise(e(t().mark((function e(a,r){var u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=l.path_spine+"/"+n,c.loadDir(u,(function(n,e){if(n)return o(n),void a(null);i.instance.logConfig(u,"下载语言包 spine 资源"),a(null)}));case 2:case"end":return e.stop()}}),e)}))))},a.releaseLanguageAssets=function(n){var e=l.path_texture+"/"+n;c.releaseDir(e);var t=l.path_json+"/"+n,a=c.get(t,s);a&&a.decRef();var r=c.get(t,u);r&&r.decRef();var o=l.path_spine+"/"+n;c.release(o)},n}());a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./LanguageData.ts"],(function(e){var t,a,n,i,o,r,p,u,s,c,l,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,p=e._decorator,u=e.CCString,s=e.sp,c=e.Component},function(e){l=e.resLoader},function(e){g=e.LanguageData}],execute:function(){var d,f,h,S,y,D,L;r._RF.push({},"c187d83yP9DzJ7liYPSNhLX","LanguageSpine",void 0);var m=p.ccclass,_=p.property,v=p.menu;r._RF.push({},"53e25hqV6VEJqayXfz6Qam2","LanguageSpine",void 0);e("LanguageSpine",(d=m("LanguageSpine"),f=v("OopsFramework/Language/LanguageSpine （Spine 动画多语言）"),h=_({serializable:!0}),S=_({type:u,serializable:!0}),d(y=f((L=t((D=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"_dataID",L,i(t)),t._defaultAnimation="",t}a(t,e);var r=t.prototype;return r.onLoad=function(){var e=this.getComponent(s.Skeleton);this._defaultAnimation=e.animation},r.start=function(){this.updateSpine()},r.language=function(){this.updateSpine()},r.updateSpine=function(){var e="language/spine/"+g.current+"/"+this.dataID,t=l.get(e,s.SkeletonData);if(t){var a=this.getComponent(s.Skeleton);a.skeletonData=t,a.setAnimation(0,this._defaultAnimation,!0)}else console.error("[LanguageSpine] 资源不存在 "+e)},o(t,[{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this.updateSpine()}}]),t}(c)).prototype,"_dataID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(D.prototype,"dataID",[S],Object.getOwnPropertyDescriptor(D.prototype,"dataID"),D.prototype),y=D))||y)||y));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./LanguageData.ts"],(function(e){var t,a,r,i,n,o,p,u,s,c,g,l,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,p=e._decorator,u=e.CCString,s=e.SpriteFrame,c=e.Sprite,g=e.UITransform,l=e.Component},function(e){f=e.resLoader},function(e){d=e.LanguageData}],execute:function(){var S,h,y,L,m,D,b,v,z;o._RF.push({},"89f8e7hOHBKPr7Ka7HmWmBB","LanguageSprite",void 0);var I=p.ccclass,_=p.property,F=p.menu;o._RF.push({},"11b96k/RIZF57Loehxyl6Hs","LanguageSprite",void 0);e("LanguageSprite",(S=I("LanguageSprite"),h=F("OopsFramework/Language/LanguageSprite （图片多语言）"),y=_({serializable:!0}),L=_({tooltip:"是否设置为图片原始资源大小"}),m=_({type:u,serializable:!0}),S(D=h((v=t((b=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_dataID",v,i(t)),r(t,"isRawSize",z,i(t)),t}a(t,e);var o=t.prototype;return o.start=function(){this.updateSprite()},o.language=function(){this.updateSprite()},o.updateSprite=function(){var e="language/texture/"+d.current+"/"+this.dataID+"/spriteFrame",t=f.get(e,s);if(t){var a=this.getComponent(c);if(a.spriteFrame=t,this.isRawSize){var r=t._originalSize,i=a.getComponent(g);i&&i.setContentSize(r)}}else console.error("[LanguageSprite] 资源不存在 "+e)},n(t,[{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this.updateSprite()}}]),t}(l)).prototype,"_dataID",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=t(b.prototype,"isRawSize",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),t(b.prototype,"dataID",[m],Object.getOwnPropertyDescriptor(b.prototype,"dataID"),b.prototype),D=b))||D)||D));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./LayerPopup.ts"],(function(s){var a,i,t,n;return{setters:[function(s){a=s.inheritsLoose},function(s){i=s.cclegacy},function(s){t=s.ViewParams},function(s){n=s.LayerPopUp}],execute:function(){i._RF.push({},"87c57r2ORVCzqYiK7SroC2t","LayerDialog",void 0),i._RF.push({},"dcad5w8wHlEDJpIKJ4gUxEP","LayerDialog",void 0);s("LayerDialog",function(s){function i(){for(var a,i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return(a=s.call.apply(s,[this].concat(t))||this).params=[],a}a(i,s);var n=i.prototype;return n.add=function(s,a,i){this.ui_nodes.size>0?this.params.push({config:s,params:a,callbacks:i}):this.show(s,a,i)},n.show=function(s,a,i){var n=this.ui_cache.get(s.prefab);null==n&&((n=new t).valid=!0,n.config=s),n.params=a||{},n.callbacks=null!=i?i:{},this.ui_nodes.set(n.config.prefab,n),this.load(n,s.bundle)},n.onCloseWindow=function(a){s.prototype.onCloseWindow.call(this,a),setTimeout(this.next.bind(this),0)},n.setBlackDisable=function(){0==this.params.length&&(this.black&&this.black&&(this.black.enabled=!1),this.closeVacancyRemove(),this.closeMask())},n.next=function(){if(this.params.length>0){var s=this.params.shift();this.show(s.config,s.params,s.callbacks)}},i}(n));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts"],(function(e){var t,i,n,o,r,a,s,c,u,l,f,h,p,y,g,d,v,L;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.Camera,r=e.view,a=e.screen,s=e.ResolutionPolicy,c=e.SafeArea,u=e.warn,l=e.Node,f=e.Layers,h=e.Widget},function(e){p=e.oops},function(e){y=e.DelegateComponent},function(e){g=e.LayerDialog},function(e){d=e.LayerNotify},function(e){v=e.LayerPopUp},function(e){L=e.LayerUI}],execute:function(){n._RF.push({},"ead40UNaB1ODa09f2Mm4BeP","LayerManager",void 0),n._RF.push({},"7ba675xFGdHqIOykTysNzEu","LayerManager",void 0);e("ScreenAdapterType",((m={})[m.Auto=0]="Auto",m[m.Landscape=1]="Landscape",m[m.Portrait=2]="Portrait",m));var m,w=e("LayerType",function(e){return e.Game="LayerGame",e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.System="LayerSystem",e.Notify="LayerNotify",e.Guide="LayerGuide",e}({})),A=e("LayerTypeCls",function(e){return e.UI="UI",e.PopUp="PopUp",e.Dialog="Dialog",e.Notify="Notify",e.Node="Node",e}({}));e("LayerManager",function(){function e(){this.root=void 0,this.camera=void 0,this.game=void 0,this.guide=void 0,this.windowAspectRatio=0,this.designAspectRatio=0,this.mobileSafeArea=!1,this.notify=void 0,this.configs={},this.uiLayers=new Map,this.clsLayers=new Map,this.clsLayers.set(A.UI,L),this.clsLayers.set(A.PopUp,v),this.clsLayers.set(A.Dialog,g),this.clsLayers.set(A.Notify,d),this.clsLayers.set(A.Node,null)}var n=e.prototype;return n.registerLayerCls=function(e,t){this.clsLayers.has(e)?console.error("已存在自定义界面层类型",e):this.clsLayers.set(e,t)},n.initLayer=function(e,t){if(null!=t){this.root=e,this.initScreenAdapter(),this.camera=this.root.getComponentInChildren(o);for(var i=0;i<t.length;i++){var n=t[i],r=null;if(n.type==A.Node)switch(r=this.create_node(n.name),n.name){case w.Game:this.game=r;break;case w.Guide:this.guide=r}else{var a=this.clsLayers.get(n.type);a?r=new a(n.name):console.error("未识别的界面层类型",n.type)}e.addChild(r),r instanceof L?this.uiLayers.set(n.name,r):r instanceof d&&(this.notify=r)}}else console.error("请升级到最新版本框架,界面层级管理修改为数据驱动。参考模板项目中的config.json配置文件")},n.initScreenAdapter=function(){var e=r.getDesignResolutionSize(),t=a.windowSize;this.windowAspectRatio=t.width/t.height,this.designAspectRatio=e.width/e.height;var i=0,n=0;this.windowAspectRatio>this.designAspectRatio?(i=(n=e.height)*t.width/t.height,p.log.logView("适配屏幕高度","【横屏】")):(n=(i=e.width)*t.height/t.width,p.log.logView("适配屏幕宽度","【竖屏】")),r.setDesignResolutionSize(i,n,s.UNKNOWN),this.mobileSafeArea&&(this.root.addComponent(c),p.log.logView("开启移动设备安全区域适配"))},n.init=function(e){this.configs=e},n.setOpenFailure=function(e){this.uiLayers.forEach((function(t){t.onOpenFailure=e}))},n.toast=function(e,t){void 0===t&&(t=!1),this.notify.toast(e,t)},n.waitOpen=function(){this.notify.waitOpen()},n.waitClose=function(){this.notify.waitClose()},n.setConfig=function(e,t){this.configs[e]=t},n.open=function(e,t,i){void 0===t&&(t=null);var n=this.configs[e];if(null!=n){var o=this.uiLayers.get(n.layer);o?o.add(n,t,i):console.error("打开编号为【"+e+"】的界面失败，界面层不存在")}else u("打开编号为【"+e+"】的界面失败，配置信息不存在")},n.openAsync=function(){var e=t(i().mark((function e(t,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=null),o=this,e.abrupt("return",new Promise((function(e,i){var r={onAdded:function(t,i){e(t)},onLoadFailure:function(){e(null)}};o.open(t,n,r)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),n.replace=function(e,t,i){void 0===i&&(i=null);var n=this,o={onAdded:function(t,i){n.remove(e)}};this.open(t,i,o)},n.replaceAsync=function(e,n,o){void 0===o&&(o=null);var r=this;return new Promise(t(i().mark((function t(a,s){var c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.openAsync(n,o);case 2:(c=t.sent)?(r.remove(e),a(c)):a(null);case 4:case"end":return t.stop()}}),t)}))))},n.has=function(e){var t=this.configs[e];if(null==t)return u("编号为【"+e+"】的界面配置不存在，配置信息不存在"),!1;var i=!1,n=this.uiLayers.get(t.layer);return n?i=n.has(t.prefab):console.error("验证编号为【"+e+"】的界面失败，界面层不存在"),i},n.get=function(e){var t=this.configs[e];if(null==t)return u("编号为【"+e+"】的界面配置不存在，配置信息不存在"),null;var i=null,n=this.uiLayers.get(t.layer);return n?i=n.get(t.prefab):console.error("获取编号为【"+e+"】的界面失败，界面层不存在"),i},n.remove=function(e,t){var i=this.configs[e];if(null!=i){var n=this.uiLayers.get(i.layer);n?n.remove(i.prefab,t):console.error("移除编号为【"+e+"】的界面失败，界面层不存在")}else u("删除编号为【"+e+"】的界面失败，配置信息不存在")},n.removeByNode=function(e,t){if(e instanceof l){var i=e.getComponent(y);if(i&&i.vp){if(e.parent)this.uiLayers.get(i.vp.config.layer).remove(i.vp.config.prefab,t);else if(t){var n=this.uiLayers.get(i.vp.config.layer);n&&n.removeCache(i.vp.config.prefab)}}else u("当前删除的node不是通过界面管理器添加到舞台上"),e.destroy()}},n.clear=function(e){void 0===e&&(e=!1),this.uiLayers.forEach((function(t){t.clear(e)}))},n.create_node=function(e){var t=new l(e);t.layer=f.Enum.UI_2D;var i=t.addComponent(h);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,t},e}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GuiEnum.ts","./Notify.ts"],(function(t){var i,e,n,a,o,s,r,l,c,h,u,f;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t.Layers,s=t.BlockInputEvents,r=t.Widget,l=t.Node,c=t.instantiate},function(t){h=t.ViewUtil},function(t){u=t.PromptResType},function(t){f=t.Notify}],execute:function(){a._RF.push({},"79ef8Q0whNJkp0cxiRj1N9g","LayerNotify",void 0),a._RF.push({},"da14ax+B2xNsL2taQFOh7we","LayerNotify",void 0);t("LayerNotify",function(t){function a(i){var e;(e=t.call(this,i)||this).black=void 0,e.wait=null,e.waitState=!1,e.notify=null,e.notifyItem=null;var n=e.addComponent(r);return n.isAlignLeft=n.isAlignRight=n.isAlignTop=n.isAlignBottom=!0,n.left=n.right=n.top=n.bottom=0,n.alignMode=2,n.enabled=!0,e.init(),e}i(a,t);var l=a.prototype;return l.init=function(){this.layer=o.Enum.UI_2D,this.black=this.addComponent(s),this.black.enabled=!1},l.waitOpen=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.waitState=!0,null!=this.wait){t.next=8;break}if(this.wait=h.createPrefabNode(u.Wait),null!=this.wait){t.next=7;break}return t.next=6,h.createPrefabNodeAsync(u.Wait);case 6:this.wait=t.sent;case 7:this.waitState||(this.waitClose(),console.log("关闭等待窗口"));case 8:this.wait&&null==this.wait.parent&&(this.wait.parent=this,this.black.enabled=!0);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.waitClose=function(){this.waitState=!1,this.wait&&this.wait.parent&&(this.wait.parent=null,this.black.enabled=!1)},l.toast=function(){var t=e(n().mark((function t(i,e){var a,o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,null!=this.notify){t.next=9;break}if(this.notify=h.createPrefabNode(u.Toast),null!=this.notify){t.next=7;break}return t.next=6,h.createPrefabNodeAsync(u.Toast);case 6:this.notify=t.sent;case 7:this.notifyItem=this.notify.children[0],this.notifyItem.parent=null;case 9:this.notify.parent=this,o=c(this.notifyItem),s=o.getChildByName("prompt").getComponent(f),o.parent=this.notify,s.onComplete=function(){0==a.notify.children.length&&(a.notify.parent=null)},s.toast(i,e),this.notify.children.length>6&&this.notify.children[0].destroy();case 16:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),a}(l));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./GuiEnum.ts","./LayerUI.ts"],(function(e){var t,s,n,i,a,o,r,c,h,u,l;return{setters:[function(e){t=e.inheritsLoose,s=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e.Layers,r=e.Node,c=e.BlockInputEvents},function(e){h=e.ViewUtil},function(e){u=e.PromptResType},function(e){l=e.LayerUI}],execute:function(){a._RF.push({},"13989LxN/5A0YTAiQQCNkYD","LayerPopup",void 0),a._RF.push({},"25d07BQBCFADaSsh/I3GrTX","LayerPopup",void 0);e("LayerPopUp",function(e){function a(t){var s;return(s=e.call(this,t)||this).black=void 0,s.mask=void 0,s.maskState=!1,s.init(),s}t(a,e);var l=a.prototype;return l.init=function(){this.layer=o.Enum.UI_2D,this.on(r.EventType.CHILD_ADDED,this.onChildAdded,this),this.on(r.EventType.CHILD_REMOVED,this.onChildRemoved,this)},l.onChildAdded=function(e){this.mask&&this.mask.setSiblingIndex(this.children.length-2)},l.onChildRemoved=function(e){this.mask&&this.mask.setSiblingIndex(this.children.length-2)},l.showUi=function(){var t=n(i().mark((function t(s){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.showUi.call(this,s);case 2:if(!(n=t.sent)){t.next=7;break}return t.next=6,this.openVacancyRemove(s.config);case 6:this.black.enabled=!0;case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.onCloseWindow=function(t){e.prototype.onCloseWindow.call(this,t),this.setBlackDisable()},l.setBlackDisable=function(){0==this.ui_nodes.size&&(this.black&&(this.black.enabled=!1),this.closeVacancyRemove(),this.closeMask())},l.closeMask=function(){if(this.maskState=!1,null!=this.mask){for(var e,t=!0,n=s(this.ui_nodes.values());!(e=n()).done;){if(e.value.config.mask){t=!1;break}}t&&(this.mask.parent=null)}},l.openVacancyRemove=function(){var e=n(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.maskState=!0,null!=this.mask){e.next=8;break}if(this.mask=h.createPrefabNode(u.Mask),this.mask){e.next=7;break}return e.next=6,h.createPrefabNodeAsync(u.Mask);case 6:this.mask=e.sent;case 7:this.mask&&(this.mask.on(r.EventType.TOUCH_END,this.onTouchEnd,this),this.black=this.mask.addComponent(c),this.black.enabled=!1);case 8:this.mask&&t.mask&&(this.mask.parent=this),this.maskState||this.closeMask();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.onTouchEnd=function(e){if(this.ui_nodes.size>0){var t=this.ui_nodes.array[this.ui_nodes.size-1];t.valid&&t.config.vacancy&&this.remove(t.config.prefab,t.config.destroy)}},l.closeVacancyRemove=function(){for(var e,t=!0,n=s(this.ui_nodes.values());!(e=n()).done;){if(e.value.config.vacancy){t=!1;break}}t&&this.hasEventListener(r.EventType.TOUCH_END,this.onTouchEnd,this)&&this.off(r.EventType.TOUCH_END,this.onTouchEnd,this)},l.clear=function(t){e.prototype.clear.call(this,t),this.black&&(this.black.enabled=!1),this.closeVacancyRemove(),this.closeMask()},a}(l));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./ItemCountBoxList.ts","./GetRewarsTips.ts","./RewardPage.ts","./GameMgr.ts","./ResMgr.ts"],(function(e){var t,n,o,i,r,a,s,c,u,d,h,l,g,f,p,w,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e._decorator,a=e.Node,s=e.Layers,c=e.Widget,u=e.Vec3,d=e.EventTouch,h=e.Vec2},function(e){l=e.Bundle},function(e){g=e.ItemCountBoxList},function(e){f=e.GetRewarsTips},function(e){p=e.RewardPage},function(e){w=e.GameMgr},function(e){y=e.ResMgr}],execute:function(){var m;i._RF.push({},"a94d3hMcFVDgKTSytdsr6wP","LayerReward",void 0);var L=r.ccclass;r.property;i._RF.push({},"61b34LDWu9L+ICbrz5Pheu6","LayerReward",void 0);e("LayerReward",L("LayerReward")(m=function(e){function i(t){var n;(n=e.call(this,t)||this).rewardTips=new f,n.rewardPage=null,n.countBoxList=null,n.coinLayer=null,n.itemFlying=null,n.notifyLayer=null;var o=n.addComponent(c);return o.isAlignLeft=o.isAlignRight=o.isAlignTop=o.isAlignBottom=!0,o.left=o.right=o.top=o.bottom=0,o.alignMode=2,o.enabled=!0,n.init(),n}t(i,e);var r=i.prototype;return r.init=function(){var e=n(o().mark((function e(){var t,n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.layer=s.Enum.UI_2D,w.rewardEff=this,e.next=4,y.CreatePrefabNodeAsync("pages/common/reward/RewardPage",l.prefabTest);case 4:return t=e.sent,this.addChild(t),t.active=!1,(n=t.getComponent(p))&&(this.rewardPage=n),e.next=11,y.CreatePrefabNodeAsync("pages/common/reward/ItemCountBoxList",l.prefabTest);case 11:i=e.sent,this.addChild(i),i.active=!0,(r=i.getComponent(g))&&(this.countBoxList=r),this.coinLayer=this.create_node("CoinLayer"),this.itemFlying=this.create_node("ItemFlying"),this.notifyLayer=this.create_node("LayerNotify"),this.addChild(this.coinLayer),this.addChild(this.itemFlying),this.addChild(this.notifyLayer);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.create_node=function(e){var t=new a(e);t.layer=s.Enum.UI_2D;var n=t.addComponent(c);return n.isAlignLeft=n.isAlignRight=n.isAlignTop=n.isAlignBottom=!0,n.left=n.right=n.top=n.bottom=0,n.alignMode=2,n.enabled=!0,t},r.ShowRewardPage=function(e){e&&e.length>0&&this.rewardPage.ShowPage(e)},r.ShowCountBox=function(e){return this.countBoxList.ShowCountBox(e)},r.ShowItemFlying=function(e){this.rewardTips.ShowItemFlying(e)},r.ShowCoinGroup=function(e,t){var n=u.ZERO.clone();n=e instanceof d?this.EventToWorldPos(e):e,this.rewardTips.ShowCoinGroup(n,t)},r.ShowItemChange=function(e,t,n){var o=u.ZERO.clone();o=e instanceof d?this.EventToWorldPos(e):e,this.rewardTips.ShowItemCount(o,t,n)},r.EventToWorldPos=function(e){var t=h.ZERO.clone();return e.getUILocation(t),new u(t.x,t.y,0)},i}(a))||m);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Collection.ts","./Oops.ts","./Defines.ts","./DelegateComponent.ts"],(function(e){var n,o,t,i,a,r,s,c,u,l,d,f,h;return{setters:[function(e){n=e.inheritsLoose,o=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){i=e.cclegacy,a=e.Widget,r=e.Node,s=e.instantiate,c=e.SafeArea,u=e.Prefab},function(e){l=e.Collection},function(e){d=e.oops},function(e){f=e.ViewParams},function(e){h=e.DelegateComponent}],execute:function(){i._RF.push({},"b9aecyV0WxMrYl1rnu9hT5q","LayerUI",void 0),i._RF.push({},"bc8b86Br9dGeKxeLijkyJKE","LayerUI",void 0);e("LayerUI",function(e){function i(n){var o;(o=e.call(this,n)||this).onOpenFailure=null,o.ui_nodes=new l,o.ui_cache=new Map;var t=o.addComponent(a);return t.isAlignLeft=t.isAlignRight=t.isAlignTop=t.isAlignBottom=!0,t.left=t.right=t.top=t.bottom=0,t.alignMode=2,t.enabled=!0,o}n(i,e);var r=i.prototype;return r.add=function(e,n,o){if(this.ui_nodes.has(e.prefab))console.warn("路径为【"+e.prefab+"】的预制重复加载");else{var t=this.ui_cache.get(e.prefab);null==t&&((t=new f).config=e),this.ui_nodes.set(e.prefab,t),t.params=null!=n?n:{},t.callbacks=null!=o?o:{},t.valid=!0,this.load(t,e.bundle)}},r.load=function(){var e=o(t().mark((function e(n,o){var i,a,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=setTimeout(this.onLoadingTimeoutGui,d.config.game.loadingTimeoutGui),!n||!n.node){e.next=6;break}return e.next=4,this.showUi(n);case 4:e.next=22;break;case 6:return o=o||d.res.defaultBundleName,e.next=9,d.res.loadAsync(o,n.config.prefab,u);case 9:if(!(a=e.sent)){e.next=20;break}return n.node=s(a),n.config.safeArea&&n.node.addComponent(c),(r=n.node.addComponent(h)).vp=n,r.onCloseWindow=this.onCloseWindow.bind(this),e.next=18,this.showUi(n);case 18:e.next=22;break;case 20:console.warn("路径为【"+n.config.prefab+"】的预制加载失败"),this.failure(n);case 22:d.gui.waitClose(),clearTimeout(i);case 24:case"end":return e.stop()}}),e,this)})));return function(n,o){return e.apply(this,arguments)}}(),r.onLoadingTimeoutGui=function(){d.gui.waitOpen()},r.onCloseWindow=function(e){this.ui_nodes.delete(e.config.prefab)},r.showUi=function(){var e=o(t().mark((function e(n){var o,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.node.getComponent(h),e.next=3,o.add();case 3:return(i=e.sent)?(n.node.parent=this,n.valid=!0):(console.warn("路径为【"+n.config.prefab+"】的自定义预处理逻辑异常.检查预制上绑定的组件中 onAdded 方法,返回true才能正确完成窗口显示流程"),this.failure(n)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.failure=function(e){this.onCloseWindow(e),e.callbacks&&e.callbacks.onLoadFailure&&e.callbacks.onLoadFailure(),this.onOpenFailure&&this.onOpenFailure()},r.remove=function(e,n){var o=void 0;void 0!==n&&(o=n);var t=this.ui_nodes.get(e);t&&(void 0===o&&(o=void 0===t.config.destroy||t.config.destroy),!1===o&&this.ui_cache.set(t.config.prefab,t),t.node.getComponent(h).remove(o)),!0===o&&this.removeCache(e)},r.removeCache=function(e){var n=this.ui_cache.get(e);n&&(this.onCloseWindow(n),this.ui_cache.delete(e),n.node.destroy())},r.get=function(e){var n=this.ui_nodes.get(e);return n?n.node:null},r.has=function(e){return this.ui_nodes.has(e)},r.clear=function(e){var n=this;this.ui_nodes.forEach((function(o,t){n.remove(o.config.prefab,e),o.valid=!1})),this.ui_nodes.clear(),e&&this.ui_cache.forEach((function(e,o){n.removeCache(o)}))},i}(r));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0a084aS93dMz4T8pgQzz7j1","LayerUtil",void 0),t._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);var i=e("LayerItem",function(){function e(e,n){this._value=void 0,this._name=void 0,this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),a=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());a.MAP=new i(0,"MAP"),a.AVATAR=new i(1,"AVATAR"),a.IGNORE_RAYCAST=new i(20,"IGNORE_RAYCAST"),a.GIZMOS=new i(21,"GIZMOS"),a.EDITOR=new i(22,"EDITOR"),a.UI_3D=new i(23,"UI_3D"),a.SCENE_GIZMO=new i(24,"SCENE_GIZMO"),a.UI_2D=new i(25,"UI_2D"),a.PROFILTER=new i(28,"PROFILTER"),a.DEFAULT=new i(30,"DEFAULT"),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelEditor.ts",["cc"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy,t=e._decorator}],execute:function(){var o;r._RF.push({},"a569d2OUytLmLEySzb3DHDh","LevelEditor",void 0);var i=t.ccclass;t.property;r._RF.push({},"e5d8eSgalZCuK2HmaxvcJ8u","LevelEditor",void 0);e("LevelEditor",i("LevelEditor")(o=function(){function e(){}return e.SaveData=function(e,r){var t=JSON.stringify(r,null,2);require("fs").writeFile(e,t,(function(r){r?console.error("Error writing file:",r):console.log("Level data saved to",e)}))},e}())||o);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNumberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ArchiveManager.ts","./GameEnum.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./ItemInfo.ts","./MusicMgr.ts","./ToastMgr.ts"],(function(e){var t,r,n,i,o,l,u,a,c,s,m,f,p,g,v,L,b,h,I,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,u=e.Label,a=e.Sprite,c=e.Color,s=e.Component},function(e){m=e.oops},function(e){f=e.ArchiveManager},function(e){p=e.ItemType,g=e.MoneyType},function(e){v=e.GameGeneralConfig},function(e){L=e.UIID},function(e){b=e.ItemInfo},function(e){h=e.MusicMgr,I=e.EffectType},function(e){y=e.ToastMgr}],execute:function(){var F,M,d,G,S,C,_;o._RF.push({},"081a2x5VSNDmKE+RMMFu3BG","LevelNumberItem",void 0);var B=l.ccclass,w=l.property;o._RF.push({},"24d3bi1zAdI+JMVre7gs51Q","LevelNumberItem",void 0);e("LevelNumberItem",(F=B("LevelNumberItem"),M=w(u),d=w(a),F((C=t((S=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).currLevel=0,n(t,"numberLabel",C,i(t)),n(t,"btBg",_,i(t)),t}r(t,e);var o=t.prototype;return o.InitLevel=function(e){this.currLevel=e,this.numberLabel.string=(this.currLevel+1).toString(),this.currLevel>f.gameLevel.data.unlockLevel?this.btBg.color=new c("#5F5F5F"):this.btBg.color=new c("#FFFFFF")},o.OnClickItem=function(){this.currLevel<=f.gameLevel.data.unlockLevel&&(new b(p.货币,0,g.体力).use(v.PlayGame_Stamina)?(v.GameLevel_CurrSelect=this.currLevel,m.gui.remove(L.SelectLevelPage),m.gui.replace(L.HomeScene,L.GameLevelScene)):(y.AddMessage("体力不足"),m.gui.open(L.BuyStrength)),h.PlayEffect(I.UIClick))},t}(s)).prototype,"numberLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"btBg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=S))||G));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./GameEnum.ts","./GameEvent.ts","./NodeComp.ts","./GameMgr.ts","./AwaitDelay.ts","./Dictionary.ts","./List2.ts","./Tool.ts","./InitPlaceItem.ts","./TakeOutPlaceItem.ts","./PlaceTargetComp.ts","./PlaceItem.ts","./PlaceNode.ts","./StoragePoint.ts"],(function(t){var e,i,o,n,a,s,r,c,l,u,h,p,d,f,m,v,L,g,I,w,C,y,P,x,N,G,D;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t._decorator,s=t.Vec3,r=t.UITransform,c=t.Vec2,l=t.Component,u=t.find,h=t.Sprite},function(t){p=t.oops},function(t){d=t.ecs},function(t){f=t.Bundle},function(t){m=t.GameLevelEvent},function(t){v=t.NodeComp},function(t){L=t.GameMgr},function(t){g=t.AwaitDelay},function(t){I=t.default},function(t){w=t.default},function(t){C=t.default},function(t){y=t.InitPlaceItemComp},function(t){P=t.TakeOutPlaceItemComp},function(t){x=t.PlaceTargetComp},function(t){N=t.PlaceItem},function(t){G=t.PlaceNode},function(t){D=t.StoragePoint}],execute:function(){var b;n._RF.push({},"b7a01iW7FZO9pgL6ljYeme6","LevelRoom",void 0);var E=a.ccclass;a.property;n._RF.push({},"7b949yQNctGL696xkfEmEUB","LevelRoom",void 0);t("LevelRoom",E("LevelRoom")(b=function(t){function n(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).roomID=0,e.areaID=0,e.areaParent=null,e.areaList=new w,e.waitingNode=null,e.moveLimit=new c(0,0),e.placeNodeList=new w,e.placeGroupMap=new I,e.boxEntityList=new w,e.waitEntityList=new w,e.boxPointList=new w,e}e(n,t);var a=n.prototype;return a.onLoad=function(){this.waitingNode=L.levelView.waitingPlaceNode,p.message.on(m.ClickStorageBox,this.TakeOutPlaceItem,this),p.message.on(m.PlaceItemRight,this.PlaceItemRight,this)},a.onDestroy=function(){p.message.off(m.ClickStorageBox,this.TakeOutPlaceItem,this),p.message.off(m.PlaceItemRight,this.PlaceItemRight,this),d.query(d.allOf(x)).forEach((function(t){t.destroy()})),p.res.release("scenes/gamelevel/levelroom/LevelRoom_"+this.roomID,f.prefabTest)},a.InitLevel=function(){var t=i(o().mark((function t(e){var i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.roomID=e,this.areaID=0,this.areaParent=u("AreaList",this.node),!this.areaParent){t.next=9;break}for(i=0;i<this.areaParent.children.length;i++)(n=this.areaParent.children[i]).active=!1,this.areaList.Add(n),console.log("关卡区域：",i,"_"+n.name);return t.next=7,this.InitArea();case 7:t.next=10;break;case 9:console.error("区域父节点为空");case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.RefreshMoveLimit=function(t){var e=new s(-t.position.x,100-t.position.y,0);this.areaParent.position=e;var i=t.getComponent(r).contentSize.x*t.worldScale.x;this.moveLimit.x=-i/2+360,this.moveLimit.y=i/2-360},a.InitArea=function(){var t=i(o().mark((function t(){var e,i,n,a,s,r,c,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.areaID>=this.areaList.Count)){t.next=3;break}return p.log.logBusiness("区域序号超出范围"),t.abrupt("return");case 3:for(e=this.areaList[this.areaID],this.RefreshMoveLimit(e),this.placeNodeList.Clear(),this.placeGroupMap.clear(),this.boxEntityList.Clear(),this.waitEntityList.Clear(),i=this,e.children.forEach((function(t){i.TraverseChildNodes(t,null)})),n=0;n<e.children.length;n++)(a=e.children[n].getComponent(G))&&(this.placeGroupMap.ContainsKey(a.GroupID)||this.placeGroupMap.Add(a.GroupID,new w),this.placeGroupMap.Get(a.GroupID).Add(a));for(s=0;s<this.placeNodeList.length;s++)r=this.placeNodeList[s].GroupID,(c=this.placeNodeList[s].itemNode)&&null!=c.getComponent(h)&&((this.roomID<=0||1==this.roomID&&s<this.placeNodeList.length-3||this.roomID>=2&&this.roomID<=9&&s<this.placeNodeList.length-5||this.roomID>=10&&s<this.placeNodeList.length-10)&&this.placeNodeList[s].CreateShadow(),l=""==r?this.placeNodeList[s]:this.placeGroupMap.Get(this.placeNodeList[s].GroupID),(u=d.getEntity(N)).add(v).node=c,u.add(x).targetNode=l,u.add(y),this.boxEntityList.Add(u),this.placeNodeList[s].itemNode=null);return L.levelView.data.boxEntityCount=this.boxEntityList.Count,L.levelView.data.placeCount=0,L.levelView.data.totalCount=this.boxEntityList.Count,t.next=18,this.ShowAreaNode(e);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.ShowAreaNode=function(){var t=i(o().mark((function t(e){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.scale.clone(),e.scale=new s(.3*i.x,.3*i.y,.3*i.z),e.active=!0,e.qtScale(i,.3,{easing:"backOut"}).start(),t.next=6,g.WaitingTime(.31);case 6:this.areaID>=this.boxPointList.Count?this.boxPointList[this.boxPointList.Count-1].InitPoint():this.boxPointList[this.areaID].InitPoint();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.TraverseChildNodes=function(t,e){var i=t.getComponent(G);if(i)i.parentNode=e,e=i,-1==this.placeNodeList.indexOf(i)&&this.placeNodeList.Add(i),this.placeGroupMap.ContainsKey(i.GroupID)||this.placeGroupMap.Add(i.GroupID,new w),this.placeGroupMap.Get(i.GroupID).Add(i);else if(t.getComponent(D))return t.active=!1,void this.boxPointList.Add(t.getComponent(D));var o=this;t.children.forEach((function(t){o.TraverseChildNodes(t,e)}))},a.TakeOutPlaceItem=function(t,e){if(!(this.boxEntityList.Count<=0)){var i=this.boxEntityList.shift();if(i){var o=C.WorldToLocal(e,this.waitingNode);L.levelView.data.boxEntityCount=this.boxEntityList.Count,i.add(P).startPos=o,this.waitEntityList.Add(i),console.log("取出后剩余:",L.levelView.data.boxEntityCount)}}},a.PlaceItemRight=function(t,e){if(L.levelView.data.placeCount+=1,L.levelView.data.placeCount>=L.levelView.data.totalCount){if(this.areaID+1>=this.areaList.Count)return void this.GameSuccess();console.log("进入下一区域"),this.areaID+=1,this.InitArea()}},a.GameSuccess=function(){L.levelView.GameSuccess(),this.node.qtScale(new s(.8,.8,.8),1).start()},n}(l))||b);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelRoomTutorial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ViewUtil.ts","./GameComponent.ts","./GameEnum.ts","./GameEvent.ts","./NodeComp.ts","./ItemInfo.ts","./GameMgr.ts","./AwaitDelay.ts","./PlaceItemIdle.ts"],(function(t){var e,i,n,o,r,a,s,u,l,c,d,p,g,f,h,v,m,w,G,y,A,T,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Animation,c=t.Tween,d=t.tween},function(t){p=t.oops},function(t){g=t.ViewUtil},function(t){f=t.GameComponent},function(t){h=t.ItemType,v=t.GamePropType,m=t.Bundle},function(t){w=t.GameLevelEvent},function(t){G=t.NodeComp},function(t){y=t.ItemInfo},function(t){A=t.GameMgr},function(t){T=t.AwaitDelay},function(t){I=t.PlaceItemIdleComp}],execute:function(){var P,N,D,L,R;s._RF.push({},"beaadOJ509J6IobTlOku+FO","LevelRoomTutorial",void 0);var S=u.ccclass,C=u.property;s._RF.push({},"8502b1DJgtNRLUUlyVpnRj9","LevelRoomTutorial",void 0);t("LevelRoomTutorial",(P=S("LevelRoomTutorial"),N=C(l),P((R=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"dragAni",R,o(e)),e.currNode=null,e.targetNode=null,e.isGuiding=!1,e}i(e,t);var s=e.prototype;return s.start=function(){var t=r(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.createPrefabNodeAsync("pages/home/tutorial/DragTutorial",m.prefabTest);case 2:(e=t.sent).setParent(p.gui.guide),this.dragAni=e.getComponent(l),this.dragAni.node.active=!1,this.on(w.ClickStorageBox,this.ClickStorageBox,this),this.on(w.PlaceItemRight,this.PlaceItemRight,this),this.RefreshTutorial();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.ClickStorageBox=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.RefreshTutorial();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.PlaceItemRight=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.StopGuideLoop(),this.RefreshTutorial();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.RefreshTutorial=function(){this.currNode=null,this.targetNode=null,this.dragAni.node.active=!1;var t=A.levelView.data.totalCount-A.levelView.data.boxEntityCount,e=t-A.levelView.data.placeCount;if(!(t<5))if(console.log("刷新教程a",e),3==e)A.levelView.tipPropBtn.active=!0,new y(h.道具,0,v.提示).count=1,this.StartClickGuideLoop();else{var i=this.GetCanPlaceItem();if(console.log("刷新教程b",i),i){var n=A.levelView.GetPlaceTargetNode(i);console.log("刷新教程c",n),n&&(this.currNode=i.get(G).node,this.targetNode=n.itemParent,this.StartDragGuideLoop())}}},s.StartDragGuideLoop=function(){var t=this;if(this.currNode&&this.targetNode){this.StopGuideLoop(),this.isGuiding=!0,this.dragAni.node.active=!0;!function e(){t.isGuiding&&t.currNode&&(t.dragAni.node.worldPosition=t.currNode.worldPosition.clone(),t.dragAni.play("DragTutorialDown"),t.dragAni.once(l.EventType.FINISHED,(function(){t.isGuiding&&t.targetNode&&d(t.dragAni.node).to(.6,{worldPosition:t.targetNode.worldPosition.clone()}).call((function(){t.isGuiding&&(t.dragAni.play("DragTutorialUp"),t.dragAni.once(l.EventType.FINISHED,(function(){t.isGuiding&&e()})))})).start()})))}()}},s.StartClickGuideLoop=function(){var t=r(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,this.StopGuideLoop(),this.isGuiding=!0,t.next=5,T.WaitingTime(1);case 5:if(this.dragAni.node.active=!0,A.levelView.tipPropBtn){t.next=8;break}return t.abrupt("return");case 8:this.dragAni.node.worldPosition=A.levelView.tipPropBtn.worldPosition.clone(),function t(){e.isGuiding&&(e.dragAni.play("DragTutorialDown"),e.dragAni.once(l.EventType.FINISHED,(function(){e.isGuiding&&d(e.dragAni.node).delay(.1).call((function(){e.isGuiding&&(e.dragAni.play("DragTutorialUp"),e.dragAni.once(l.EventType.FINISHED,(function(){e.isGuiding&&t()})))})).start()})))}();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.StopGuideLoop=function(){this.isGuiding&&(this.isGuiding=!1,this.dragAni.stop(),c.stopAllByTarget(this.dragAni.node),this.dragAni.node.active=!1)},s.GetCanPlaceItem=function(){for(var t=A.levelView.roomItem.waitEntityList,e=t.length-1;e>=0;e--){var i=t[e];if(i.get(I)&&A.levelView.GetPlaceTargetNode(i))return i}return null},s.onDisable=function(){this.StopGuideLoop(),this.dragAni&&this.dragAni.node.destroy()},e}(f)).prototype,"dragAni",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"b9b5fJNSl5PuJ/02cu/NQB+","List",void 0),n._RF.push({},"f4d36IVkDZEFYGJyOy6wiZw","List",void 0);e("List",function(){function e(e){void 0===e&&(e=!0),this.element=void 0,this.only=!1,this.count=0,this.only=e,this.element=[]}var n=e.prototype;return n.push=function(e){return!(this.only&&this.element.indexOf(e)>=0)&&(this.element.push(e),this.count=this.element.length,!0)},n.unshift=function(e){return!(this.only&&this.element.indexOf(e)>=0)&&(this.element.unshift(e),this.count=this.element.length,!0)},n.pop=function(){if(this.element.length>0){var e=this.element.pop();return this.count=this.element.length,e}return null},n.shift=function(){if(this.element.length>0){var e=this.element.shift();return this.count=this.element.length,e}return null},n.removeAt=function(e){if(e>=this.element.length)throw new Error("删除索引超出范围！");var t=this.element[e];return this.element.splice(e,1),this.count=this.element.length,t},n.remove=function(e){var t=this.element.indexOf(e);if(t<0)throw new Error("要删除的内容不在列表中！"+e);this.element[t],this.element.splice(t,1),this.count=this.element.length},n.clear=function(){this.count=0,this.element.length=0},n.has=function(e){return this.find(e)>=0},n.find=function(e){return this.element.indexOf(e)},n.findIndex=function(e){return this.element.findIndex(e)},n.get=function(e){if(e>=this.element.length)throw new Error("超出索引范围:"+e+"/"+this.element.length);return this.element[e]},t(e,[{key:"elements",get:function(){return this.element}}]),e}());n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/List2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,i,r;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,i=n.wrapNativeSuper},function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"b271cZmGGRHs6XC/pHjOyBq","List2",void 0),r._RF.push({},"8d2f1/4LC5HQ5ej0Akl1aB1","List",void 0);n("default",function(n){function i(){var e;return(e=n.call(this)||this)._breaking=!1,e.Add=function(n){e.push(n)},e.Insert=function(n,t){e.splice(n,0,t)},e.Remove=function(n){var t=e.indexOf(n);e.RemoveAt(t)},e.RemoveAt=function(n){e.splice(n,1)},e.Contains=function(n){return e.indexOf(n)>=0},e.Clear=function(){e.splice(0)},e.Goreach=function(n){e._breaking=!1;for(var t=e.length,i=0;i<t&&!e._breaking;i++)n(e[i])},e.break=function(){e._breaking=!0},e.ToArray=function(){var n=[];return e.forEach((function(e){n.push(e)})),n},e.Append=function(n){n.forEach((function(n){e.push(n)}))},e}return e(i,n),t(i,[{key:"Count",get:function(){return this.length}}]),i}(i(Array)));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingIndicator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i,n,r,e,a,c,l;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,c=t.Node,l=t.Component}],execute:function(){var d,s,u,p,g;e._RF.push({},"a79d17iyn5Hn5j0BpjjcRWe","LoadingIndicator",void 0);var h=a.ccclass,f=a.property;e._RF.push({},"95143M/82NCOLKGzw14JlmS","LoadingIndicator",void 0);t("LoadingIndicator",(d=h("LoadingIndicator"),s=f(c),d((g=o((p=function(t){function o(){for(var o,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return o=t.call.apply(t,[this].concat(e))||this,n(o,"loading",g,r(o)),o.loading_rotate=0,o}return i(o,t),o.prototype.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},o}(l)).prototype,"loading",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts","./CCVMParentComp.ts","./JsonUtil.ts","./AsyncQueue.ts","./GameEvent.ts","./GameEnum.ts","./GameUIConfig.ts","./GameMgr.ts","./UmengMgr.ts"],(function(t){var n,e,o,a,s,r,i,c,u,l,p,g,d,f,h,m,v;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.assetManager},function(t){i=t.oops},function(t){c=t.ecs},function(t){u=t.CCVMParentComp},function(t){l=t.JsonUtil},function(t){p=t.AsyncQueue},function(t){g=t.GameEvent},function(t){d=t.UmengEventID,f=t.Bundle},function(t){h=t.UIID},function(t){m=t.GameMgr},function(t){v=t.UmengMgr}],execute:function(){var y;a._RF.push({},"c138dGdDTFCEKTvVNlnSdVL","LoadingViewComp",void 0);var C=s.ccclass;s.property;a._RF.push({},"92429ykTnxFCrcGyW58JWjj","LoadingViewComp",void 0);t("LoadingViewComp",C("LoadingViewComp")(y=c.register("LoadingView",!1)(y=function(t){function a(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).data={progressSlowly:0,progressTotal:100,finished:0,total:0,progress:"0",prompt:""},n.progress=0,n}n(a,t);var s=a.prototype;return s.enter=function(){console.log("<--------------初始游戏管理器--------------\x3e"),m.Instance.InitManager(),console.log("<--------------加载游戏资源--------------\x3e"),this.loadRes(),v.Instance.TrackEventByID(d.loading)},s.update=function(t){var n=this.data.finished/this.data.total;this.data.progressSlowly<.98*this.data.progressTotal&&this.data.progressSlowly<n*this.data.progressTotal&&(this.data.progressSlowly+=50*t,this.data.progress=this.data.progressSlowly.toFixed(2))},s.loadRes=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data.progress=0,t.next=3,this.loadCustom();case 3:this.loadGameRes();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.loadCustom=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data.prompt=i.language.getLangByID("loading_load_json"),t.next=3,l.loadDirAsync();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.loadGameRes=function(){var t=this;this.data.prompt=i.language.getLangByID("loading_load_game");var n=Object.keys(f).length,a=0;this.onProgressCallback(a,n,this);var s=new p,c=function(i){s.push(e(o().mark((function e(s,c,u){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.loadBundle(i,s),a++,t.onProgressCallback(a,n,t);case 3:case"end":return e.stop()}}),e)}))))};for(var u in f)c(u);s.complete=this.onCompleteCallback.bind(this),s.play()},s.onProgressCallback=function(t,n,e){this.data.finished=t,this.data.total=n},s.onCompleteCallback=function(){var t=e(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("<--------------资源加载完成--------------\x3e"),this.data.prompt=i.language.getLangByID("loading_load_game"),this.ent.remove(a);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.reset=function(){setTimeout((function(){i.gui.remove(h.Loading),i.message.dispatchEvent(g.LoadBundleComplete)}),100)},a}(u))||y)||y);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ResMgr.ts"],(function(e){var t,i,r,n,o,s,a,p,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.CCString,p=e.Sprite},function(e){c=e.GameComponent},function(e){l=e.ResMgr}],execute:function(){var h,u,f,g,d,m,v,b,y;o._RF.push({},"ff624+iL7pKh7B5mq6OX6GU","LoadSprite",void 0);var S=s.ccclass,F=s.property;o._RF.push({},"34712jBrA1FYKScXdX4n+gw","LoadSprite",void 0);e("LoadSprite",(h=S("LoadSprite"),u=F(a),f=F(p),g=F({tooltip:"关闭时是否释放（局部使用，他处使用不可释放）"}),h((v=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"path",v,n(t)),r(t,"icon",b,n(t)),r(t,"isRelease",y,n(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){return this.path=this.convertImagePath(this.path),this.path&&""!=this.path?this.icon||(this.icon=this.getComponent(p),this.icon)?void(this.isRelease?l.SetSprite(this.icon,this.path,this):l.SetSprite(this.icon,this.path)):(console.warn("加载图片没有获取到Sprite"),void this.destroy()):(console.warn("加载图片没有填写路径或路径错误：",this.path),void this.destroy())},o.onDestroy=function(){this.icon&&(this.icon.spriteFrame=null),e.prototype.onDestroy.call(this)},o.convertImagePath=function(e){if(e.endsWith("/spriteFrame")){var t=e.split("/");if(!t[t.length-2].includes("."))return e}for(var i="",r=["db://assets/bundle/images/","/assets/bundle/images/"],n=0;n<r.length;n++){var o=r[n];if(e.startsWith(o)){i=e.slice(o.length);break}var s=e.indexOf(o);if(-1!==s){i=e.slice(s+o.length);break}}if(!i)return"";if(!this.checkImageExtension(i))return"";var a=i.split("/"),p=a.length-1;"spriteFrame"===a[p]&&p--;var c=a[p].replace(/\.[^/.]+$/,"");return a[p]=c,"spriteFrame"!==a[a.length-1]&&a.push("spriteFrame"),a.join("/")},o.checkImageExtension=function(e){var t=e.split("/"),i=t[t.length-1];if("spriteFrame"===i)return this.checkImageExtension(t.slice(0,-1).join("/"));var r=i.lastIndexOf(".");if(-1===r)return!1;var n=i.slice(r).toLowerCase();return[".png",".jpg",".jpeg",".gif",".bmp",".webp"].includes(n)},t}(c)).prototype,"path",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=t(m.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"isRelease",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=m))||d));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy,e=t.log}],execute:function(){i._RF.push({},"1faf5GQ845Bm59pageDxSp8","Logger",void 0),i._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0);var s=t("LogType",function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t}({})),o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"};t("Logger",function(){function t(){this.tags=0,this.lc=null}var i=t.prototype;return i.setLoggerConsole=function(t){this.lc=t},i.init=function(){this.tags=s.Net|s.Model|s.Business|s.View|s.Config|s.Trace},i.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},i.start=function(t){void 0===t&&(t="Time"),console.time(t)},i.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},i.table=function(t,n){this.isOpen(s.Trace)&&console.table(t)},i.trace=function(t,n){void 0===n&&(n="#000000"),this.print(s.Trace,t,n)},i.logNet=function(t,n){this.orange(s.Net,t,n)},i.logModel=function(t,n){this.violet(s.Model,t,n)},i.logBusiness=function(t,n){this.blue(s.Business,t,n)},i.logView=function(t,n){this.green(s.View,t,n)},i.logConfig=function(t,n){this.gray(s.Config,t,n)},i.orange=function(t,n,i){this.print(t,n,"#ee7700",i)},i.violet=function(t,n,i){this.print(t,n,"#800080",i)},i.blue=function(t,n,i){this.print(t,n,"#3a5fcd",i)},i.green=function(t,n,i){this.print(t,n,"#008000",i)},i.gray=function(t,n,i){this.print(t,n,"#808080",i)},i.isOpen=function(t){return 0!=(this.tags&t)},i.print=function(t,n,i,s){if(this.isOpen(t)){var r=o[t];if(null==this.lc){var c=console.log||e;i="color:"+i+";",s?c.call(null,"%c%s%s%s:%s%o",i,this.getDateString(),"["+r+"]",this.stack(5),s,n):c.call(null,"%c%s%s%s:%o",i,this.getDateString(),"["+r+"]",this.stack(5),n)}else this.lc.trace(this.getDateString()+"["+r+"]"+n,i)}},i.stack=function(t){var n=(new Error).stack.split("\n"),i=[];n.forEach((function(t){var n=t.substring(7).split(" ");if(n.length<2)i.push(n[0]);else{var e={};e[n[0]]=n[1],i.push(e)}}));var e=[],s=[];if(t<i.length-1)for(var o in i[t])if(2==(s=o.split(".")).length)e=s.concat();else{var r=i[t][o],c=r.lastIndexOf("/"),l=r.lastIndexOf(".");if(c>-1&&l>-1){var g=r.substring(c+1,l);e.push(g)}else e.push(r)}return 1==e.length?"["+e[0]+".ts]":2==e.length?"["+e[0]+".ts->"+e[1]+"]":""},i.getDateString=function(){var t=new Date,n=t.getHours().toString(),i="";return i+=(1==n.length?"0"+n:n)+":",i+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",i+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),"["+(i+=n)+"]"},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t,this._instance.init()),this._instance}}]),t}())._instance=void 0,i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/LoginBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ItemArchive.ts","./ArchiveManager.ts","./RewardInfo.ts","./MusicMgr.ts","./ResMgr.ts","./IconShaking.ts"],(function(e){var t,i,n,r,o,a,s,c,u,l,f,h,p,d,b,g,I,v,y,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Label,l=e.Sprite,f=e.Node,h=e.Button},function(e){p=e.GameComponent},function(e){d=e.ItemArchive},function(e){b=e.ArchiveManager},function(e){g=e.RewardData},function(e){I=e.MusicMgr,v=e.EffectType},function(e){y=e.ResMgr},function(e){x=e.IconShaking}],execute:function(){var m,R,L,S,w,B,k,D,M,z,C,A,_;s._RF.push({},"3112aaCzwFFeYsanvgEpQAT","LoginBoxItem",void 0);var F=c.ccclass,E=c.property;s._RF.push({},"1ddc0th1SRKJKQIO6sdhuEM","LoginBoxItem",void 0);e("LoginBoxItem",(m=F("LoginBoxItem"),R=E(u),L=E(l),S=E(f),w=E(x),B=E(f),m((M=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).boxID=0,t.boxInfo=null,t.isReceive=!1,n(t,"dayLabel",M,r(t)),n(t,"boxSprite",z,r(t)),n(t,"aperture",C,r(t)),n(t,"boxShaking",A,r(t)),n(t,"reddot",_,r(t)),t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.node.on(h.EventType.CLICK,this.OnClickReceive,this)},s.InitItem=function(e,t){this.boxID=e,this.boxInfo=t,this.RefreshItem()},s.RefreshItem=function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dayLabel.string=this.boxInfo.day.toString(),this.isReceive=1==b.signin.data.dayBoxReceiveList[this.boxID],e.next=4,y.SetSprite(this.boxSprite,"common/box/ordinaryBox/ordinaryBox_"+(this.isReceive?"1":"0"),this);case 4:t=b.signin.data.signInDay>=this.boxInfo.day&&!this.isReceive,this.aperture.active=t,this.boxShaking.enabled=t,this.reddot.active=t;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.OnClickReceive=function(){if(b.signin.data.signInDay>=this.boxInfo.day&&!this.isReceive){var e=g.ParseList(this.boxInfo.rewardList);d.AddRewarwdList(e),b.signin.data.dayBoxReceiveList[this.boxID]=1,b.signin.Save(),this.RefreshItem()}I.PlayEffect(v.UIClick)},t}(p)).prototype,"dayLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"boxSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"aperture",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"boxShaking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"reddot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=D))||k));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/LoginDaysStage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TableSignInDayBoxData.ts","./ArchiveManager.ts","./ResMgr.ts","./LoginBoxItem.ts","./List2.ts"],(function(i){var t,n,e,a,s,o,r,g,l,c,f,h,u,d,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){s=i.cclegacy,o=i._decorator,r=i.Label,g=i.Sprite,l=i.find,c=i.Component},function(i){f=i.TableSignInDayBoxData},function(i){h=i.ArchiveManager},function(i){u=i.ResMgr},function(i){d=i.LoginBoxItem},function(i){y=i.default}],execute:function(){var L,b,v,p,x,D,I;s._RF.push({},"3fc1ewtze5GW6h1iJwregoh","LoginDaysStage",void 0);var R=o.ccclass,B=o.property;s._RF.push({},"a92f8RE8ZdDmq4RqWXfxP7q","LoginDaysStage",void 0);i("LoginDaysStage",(L=R("LoginDaysStage"),b=B(r),v=B(g),L((D=t((x=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=i.call.apply(i,[this].concat(s))||this,e(t,"signinDayLabel",D,a(t)),t.boxList=new y,e(t,"dayPargress",I,a(t)),t.boxInfoList=[],t}n(t,i);var s=t.prototype;return s.onLoad=function(){var i=l("BoxList",this.node);if(i)for(var t=0;t<i.children.length;t++){var n=i.children[t].getComponent(d);this.boxList.Add(n)}},s.start=function(){this.boxInfoList=u.GetTableData(f.TableName),this.RefreshBoxList()},s.RefreshBoxList=function(){var i=h.signin.data.signInDay<10?"0"+h.signin.data.signInDay:h.signin.data.signInDay.toString();this.signinDayLabel.string=i;var t=h.signin.data.dayBoxStage,n=[0,0,0,0,0];if(t>=this.boxInfoList.length)t=this.boxInfoList.length-1,n=[1,1,1,1,1];else{for(var e=Object.values(h.signin.data.dayBoxReceiveList),a=!0,s=0;s<e.length&&s<n.length;s++)n[s]=e[s],1!=e[s]&&(a=!1);if(a)return h.signin.data.dayBoxReceiveList=[0,0,0,0,0],h.signin.data.dayBoxStage+=1,h.signin.Save(),void this.RefreshBoxList()}var o=Object.values(this.boxInfoList[t]);this.dayPargress.fillRange=(h.signin.data.signInDay-(o[0].day-1))/(o[o.length-1].day-(o[0].day-1));for(var r=0;r<this.boxList.length;r++)r<o.length?(this.boxList[r].node.active=!0,this.boxList[r].InitItem(r,o[r])):this.boxList[r].node.active=!1},t}(c)).prototype,"signinDayLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"dayPargress",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=x))||p));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/LoginViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameMgr.ts","./ArchiveManager.ts","./GameUIConfig.ts","./PlatformMgr.ts"],(function(o){var e,n,t,i,r,a,c,s,g,l,p,u,f;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,c=o.Node},function(o){s=o.oops},function(o){g=o.GameComponent},function(o){l=o.GameMgr},function(o){p=o.ArchiveManager},function(o){u=o.UIID},function(o){f=o.PlatformMgr}],execute:function(){var m,d,v,w,h;r._RF.push({},"9cd4cKLvqxB4ob5sTju5AM/","LoginViewComp",void 0);var A=a.ccclass,E=a.property;r._RF.push({},"8d4c93/wA5G4aWeIRbX/xSO","LoginViewComp",void 0);o("LoginViewComp",(m=A("LoginViewComp"),d=E(c),m((h=e((w=function(o){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=o.call.apply(o,[this].concat(r))||this,t(e,"protocolPage",h,i(e)),e}n(e,o);var r=e.prototype;return r.start=function(){this.setButton()},r.UserAgreementBtn=function(){console.log("点击用户协议");var o="https://api.yidiangame.com/%E5%8D%8F%E8%AE%AE/%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE.html";window.qg&&window.qg.openURL?window.qg.openURL(o):window.open(o)},r.PrivacyPolicyBtn=function(){console.log("点击隐私政策"),window.qg&&window.qg.openURL?window.qg.openURL("https://api.yidiangame.com/%E5%8D%8F%E8%AE%AE/%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96.html"):s.gui.open(u.PrivacyPolicyPage)},r.CloseBtn=function(){this.protocolPage.active=!1},r.SureBtn=function(){this.protocolPage.active=!1,p.user.data.isAgreeProtocol=!0,p.user.Save(),s.gui.removeByNode(this.node),l.Instance.LoginSuccess()},r.LoginBtn=function(){var o=this;console.log("点击登录"),p.user.data.isLogin?p.user.data.isAgreeProtocol||(this.protocolPage.active=!0):f.platformAPI.Gamelogin("114768321",(function(){p.user.data.isLogin=!0,p.user.Save(),console.log("华为登录成功"),o.protocolPage.active=!0}))},e}(g)).prototype,"protocolPage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Account.ts","./AccountModelComp.ts","./AdaptBgSize.ts","./AddDesktopPage.ts","./AdsManager.ts","./AgainGamePageView.ts","./Ambilight.ts","./AndroidAPI.ts","./AnimatorAnimation.ts","./AnimatorBase.ts","./AnimatorCondition.ts","./AnimatorController.ts","./AnimatorCustomization.ts","./AnimatorDragonBones.ts","./AnimatorParams.ts","./AnimatorSkeletal.ts","./AnimatorSpine.ts","./AnimatorSpineSecondary.ts","./AnimatorState.ts","./AnimatorStateLogic.ts","./AnimatorTransition.ts","./ArchiveBase.ts","./ArchiveManager.ts","./ArrayExt.ts","./ArrayUtil.ts","./AsyncQueue.ts","./AudioEffect.ts","./AudioEffectPool.ts","./AudioManager.ts","./AudioMusic.ts","./AutoPlaceItem.ts","./AwaitDelay.ts","./BTreeNode.ts","./BaseAPI.ts","./BehaviorTree.ts","./BhvButtonGroup.ts","./BhvFrameIndex.ts","./BhvRollNumber.ts","./BhvSwitchPage.ts","./BoxInAndOut.ts","./BranchNode.ts","./BtnBreath.ts","./BuildTimeConstants.ts","./ButtonBgSwitching.ts","./ButtonEffect.ts","./ButtonSimple.ts","./ButtonTouchLong.ts","./BuyStrengthView.ts","./CCComp.ts","./CCVMParentComp.ts","./CameraUtil.ts","./CheckPlacement.ts","./CoinFade.ts","./CoinFly.ts","./CoinJump.ts","./Collection.ts","./CommonPrompt.ts","./CompassPlaceItem.ts","./Config.ts","./DateExt.ts","./DateUtils.ts","./Decorator.ts","./Defines.ts","./DelegateComponent.ts","./DemoViewComp.ts","./DeviceUtil.ts","./Dictionary.ts","./DirectorExt.ts","./DouYinAPI.ts","./DragPlaceItem.ts","./ECS.ts","./ECSComp.ts","./ECSEntity.ts","./ECSGroup.ts","./ECSMask.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts","./Effect2DFollow3D.ts","./EffectDelayRelease.ts","./EffectEvent.ts","./EffectFinishedRelease.ts","./EffectSingleCase.ts","./EncryptUtil.ts","./EntryRewardPage.ts","./EventDispatcher.ts","./EventMessage.ts","./FailPage.ts","./FireworksUI.ts","./FlashSpine.ts","./FlashSprite.ts","./FlyingToTarget.ts","./FreeFlightCamera.ts","./GameClubBtn.ts","./GameCollision.ts","./GameComponent.ts","./GameConfig.ts","./GameDebugPage.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameLevelArchive.ts","./GameLevelSceneView.ts","./GameLevelStatusBar.ts","./GameManager.ts","./GameMgr.ts","./GamePropBtn.ts","./GamePropInfoPage.ts","./GameQueryConfig.ts","./GameStorageConfig.ts","./GameUIConfig.ts","./GetRewarsTips.ts","./GuiEnum.ts","./HomeSceneView.ts","./HttpRequest.ts","./HuaWeiAPI.ts","./IControl.ts","./IconShaking.ts","./ImageUtil.ts","./InitCamera.ts","./InitPlaceItem.ts","./InitRes.ts","./InitView.ts","./Initialize.ts","./IosAPI.ts","./ItemArchive.ts","./ItemCountBox.ts","./ItemCountBoxList.ts","./ItemCountNotify.ts","./ItemFlying.ts","./ItemFlyingTargetComp.ts","./ItemInfo.ts","./ItemInfoPool.ts","./JsonOb.ts","./JsonUtil.ts","./KsAPI.ts","./LabelChange.ts","./LabelNumber.ts","./LabelTime.ts","./Language.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguagePack.ts","./LanguageSpine.ts","./LanguageSprite.ts","./LayerDialog.ts","./LayerManager.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerReward.ts","./LayerUI.ts","./LayerUtil.ts","./LevelEditor.ts","./LevelNumberItem.ts","./LevelRoom.ts","./LevelRoomTutorial.ts","./List.ts","./List2.ts","./LoadSprite.ts","./LoadingIndicator.ts","./LoadingViewComp.ts","./Logger.ts","./LoginBoxItem.ts","./LoginDaysStage.ts","./LoginViewComp.ts","./Main.ts","./MainSceneController.ts","./MathUtil.ts","./MessageManager.ts","./MistakeTouchBtn.ts","./ModuleUtil.ts","./MoreGameArchive.ts","./MoreGameItem.ts","./MoreGamePage.ts","./MoreGameSceneView.ts","./MoreGame_2048.ts","./MoreGame_blockControl.ts","./MoveRigidBody.ts","./MoveTo.ts","./MoveTranslate.ts","./MoveVideoReward.ts","./MusicMgr.ts","./NetInterface.ts","./NetManager.ts","./NetNode.ts","./NetProtocolPako.ts","./NineGridBoxItem.ts","./NineGridBoxPage.ts","./NodeComp.ts","./NodeDragExt.ts","./NodeExt.ts","./Notify.ts","./ObjectUtil.ts","./Oops.ts","./OppoAPI.ts","./OrbitCamera.ts","./PhysicsUtil.ts","./PlaceItem.ts","./PlaceItemIdle.ts","./PlaceNode.ts","./PlaceTargetComp.ts","./PlatformArchive.ts","./PlatformEnteryBtn.ts","./PlatformMgr.ts","./PlatformUtil.ts","./Priority.ts","./PrivacyPolicyPage.ts","./ProtocolPage.ts","./QuickTween.ts","./RandomManager.ts","./RecordBtn.ts","./RedDotBreath.ts","./RedDotItem.ts","./RedDotManager.ts","./RedDotNodeNames.ts","./RedDotSystem.ts","./RegexUtil.ts","./ResLoader.ts","./ResMgr.ts","./ReturnHomePageView.ts","./RevivePage.ts","./RewardInfo.ts","./RewardItem.ts","./RewardPage.ts","./RoomRefrenceItem.ts","./RoomSetRefrence.ts","./Root.ts","./RotateUtil.ts","./RotationNode.ts","./RtToModel.ts","./RtToSprite.ts","./SeedRandom.ts","./SelectLevelPage.ts","./Selector.ts","./Sequence.ts","./SetupPageView.ts","./ShareManager.ts","./ShareVideoPage.ts","./SidebarPage.ts","./SignInArchive.ts","./SignInPageView.ts","./SigninItem.ts","./SingletonModuleComp.ts","./SpineFinishedRelease.ts","./StateArchive.ts","./StateRecoveryManager.ts","./StorageBox.ts","./StorageManager.ts","./StoragePoint.ts","./StorageSecurityCrypto.ts","./StorageSecuritySimple.ts","./StrengthBox.ts","./StringFormat.ts","./StringUtil.ts","./TableItemData.ts","./TableLanguage.ts","./TableLevelData.ts","./TableMoreGameData.ts","./TableNineGridBoxData.ts","./TablePromptWindow.ts","./TableSignInData.ts","./TableSignInDayBoxData.ts","./TableTurntableData.ts","./TakeOutPlaceItem.ts","./Task.ts","./TimeUtils.ts","./Timer.ts","./TimerManager.ts","./TipsManager.ts","./ToastMgr.ts","./Tool.ts","./TouchLayer.ts","./TurntableArchive.ts","./TurntableGridItem.ts","./TurntablePage.ts","./UIAnimations.ts","./UIButton.ts","./UVOffsetBg.ts","./UmengArchive.ts","./UmengMgr.ts","./UserArchive.ts","./Util.ts","./VMBase.ts","./VMCompsEdit.ts","./VMCustom.ts","./VMEnv.ts","./VMEvent.ts","./VMLabel.ts","./VMModify.ts","./VMParent.ts","./VMProgress.ts","./VMState.ts","./Vec3Util.ts","./ViewModel.ts","./ViewUtil.ts","./VivoAPI.ts","./WeChatAPI.ts","./WebSock.ts","./WidgetTopOffset.ts","./XiaoMiAPI.ts","./ZoomInNode.ts","./ZoomOutNode.ts","./env.ts","./index.ts","./seedrandom.min.ts","./winPage.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Root.ts","./ECS.ts","./Account.ts","./SingletonModuleComp.ts","./GameUIConfig.ts","./Initialize.ts","./LayerReward.ts","./ResMgr.ts"],(function(n){var t,e,o,i,r,c,u,s,a,f,g,l,p,y,d,R;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){i=n.cclegacy,r=n._decorator,c=n.Button},function(n){u=n.oops},function(n){s=n.Root},function(n){a=n.ecs},function(n){f=n.Account},function(n){g=n.smc},function(n){l=n.UIConfigData,p=n.UIID},function(n){y=n.Initialize},function(n){d=n.LayerReward},function(n){R=n.ResMgr}],execute:function(){var h;i._RF.push({},"5f972A/TkxMdqwNV/XIXqJw","Main",void 0);var m=r.ccclass;r.property;i._RF.push({},"0eec0s4qrZF7onPlYBrD+y+","Main",void 0);n("Main",m("Main")(h=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var r=i.prototype;return r.start=function(){},r.ShowDebug=function(){var n=e(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.CreatePrefabNodeAsync("pages/common/debug/GameDebugBtn");case 2:(t=n.sent).setParent(u.gui.guide),t.on(c.EventType.CLICK,(function(){u.gui.open(p.GameDebugPage)}),this);case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.iniStart=function(){console.log("<--------------初始化开始--------------\x3e"),u.gui.registerLayerCls("LayerReward",d)},r.initGui=function(){console.log("<--------------初始化游戏界面--------------\x3e"),u.gui.init(l)},r.initEcsSystem=function(){console.log("<--------------初始游戏业务模块--------------\x3e")},r.run=function(){console.log("<--------------初始配置完成--------------\x3e"),g.initialize=a.getEntity(y),g.account=a.getEntity(f)},i}(s))||h);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/MainSceneController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,o,r,t,c,i;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,r=n._decorator,t=n.assetManager,c=n.director,i=n.Component}],execute:function(){var l;o._RF.push({},"16300Hn2EtJw61A6v08wUyv","MainSceneController",void 0);var s=r.ccclass;r.property;o._RF.push({},"dbf277eN3lALJNJ3GWYC1Mf","MainSceneController",void 0);n("MainSceneController",s("MainSceneController")(l=function(n){function o(){return n.apply(this,arguments)||this}return e(o,n),o.prototype.start=function(){t.loadBundle("script",(function(n,e){n?console.error("加载子包script失败:",n):e.loadScene("main",(function(n,e){n?console.error("加载子包场景 main 失败:",n):c.runScene(e)}))}))},o}(i))||l);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8a64fPdjgVB24s9astSJNhL","MathUtil",void 0),n._RF.push({},"8c615ZS4PRMPKPA9ZqKjiJC","MathUtil",void 0);var r=t("MathUtil",function(){function t(){}return t.sign=function(t){return t>0?1:t<0?-1:0},t.progress=function(t,n,r){return t+(n-t)*r},t.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},t.lerpAngle=function(n,r,a){var e=(r%=360)-(n%=360);return e>180?r=n-(360-e):e<-180&&(r=n+(360+e)),(t.lerp(n,r,a)%360+360)%360},t.angleTowards=function(t,n,r){var a=(n%=360)-(t%=360);a>180?n=t-(360-a):a<-180&&(n=t+(360+a));var e=n-t;return r>Math.abs(e)?n:((t+r*Math.sign(e))%360+360)%360},t.clamp=function(t,n,r){return t<n?n:t>r?r:t},t.probability=function(t){return Math.random()<t},t}());r.deg2Rad=Math.PI/180,r.rad2Deg=180/Math.PI,n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e.warn,s=e.log}],execute:function(){n._RF.push({},"15d4a8oaRhNKLCYKyGNDWxN","MessageManager",void 0),n._RF.push({},"a401fY+wj9NsqOACoZ7Zy/R","MessageManager",void 0);var a=function(){this.event=void 0,this.listener=void 0,this.object=void 0},o=(e("MessageEventData",function(){function e(){this.events=new Map}var n=e.prototype;return n.on=function(e,t,n){var r=this.events.get(e);null==r&&(r=[],this.events.set(e,r));var s=new a;s.event=e,s.listener=t,s.object=n,r.push(s),i.on(e,t,n)},n.off=function(e){var n=this.events.get(e);if(n){for(var r,s=t(n);!(r=s()).done;){var a=r.value;i.off(e,a.listener,a.object)}this.events.delete(e)}},n.dispatchEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.dispatchEvent.apply(i,[e].concat(n))},n.clear=function(){for(var e=Array.from(this.events.keys()),t=0;t<e.length;t++){var n=e[t];this.off(n)}},e}()),e("MessageManager",function(){function e(){this.events=new Map}var t=e.prototype;return t.on=function(e,t,n){if(e&&t){var s=this.events.get(e);null==s&&(s=[],this.events.set(e,s));for(var o=s.length,i=0;i<o;i++){var v=s[i];v.listener==t&&v.object==n&&r("名为【"+e+"】的事件重复注册侦听器")}var c=new a;c.event=e,c.listener=t,c.object=n,s.push(c)}else r("注册【"+e+"】事件的侦听器函数为空")},t.once=function(e,t,n){var r=this;this.on(e,(function s(a){r.off(e,s,n);for(var o=arguments.length,i=new Array(o>1?o-1:0),v=1;v<o;v++)i[v-1]=arguments[v];t.call(n,a,i)}),n)},t.off=function(e,t,n){var r=this.events.get(e);if(r){for(var a=r.length,o=0;o<a;o++){var i=r[o];if(i.listener==t&&i.object==n){r.splice(o,1);break}}0==r.length&&this.events.delete(e)}else s("名为【"+e+"】的事件不存在")},t.dispatchEvent=function(e){var t=this.events.get(e);if(null!=t){for(var n=t.concat(),r=n.length,s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];for(var i=0;i<r;i++){var v,c=n[i];(v=c.listener).call.apply(v,[c.object,e].concat(a))}}},e}())),i=e("message",new o);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/MistakeTouchBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameMgr.ts"],(function(t){var e,o,n,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Component},function(t){i=t.GameMgr}],execute:function(){var c;o._RF.push({},"227efEiLohK2IsFRLzkJ6Zk","MistakeTouchBtn",void 0);var r=n.ccclass;n.property;o._RF.push({},"717989TampJjKWFycpsswv6","MistakeTouchBtn",void 0);t("MistakeTouchBtn",r("MistakeTouchBtn")(c=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.start=function(){this.node.active=!i.isReview},o}(s))||c);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleUtil.ts",["cc","./Oops.ts","./ViewUtil.ts"],(function(n){var e,o,i;return{setters:[function(n){e=n.cclegacy},function(n){o=n.oops},function(n){i=n.ViewUtil}],execute:function(){e._RF.push({},"82545zrTLBBzbHD3OvEwCQA","ModuleUtil",void 0),e._RF.push({},"52a6cdAO5tGxaeE1TprZ5VK","ModuleUtil",void 0);n("ModuleUtil",function(){function n(){}return n.addViewUi=function(n,e,i,t){void 0===t&&(t=null);var u={onAdded:function(o,i){var t=o.getComponent(e);n.has(e)||n.add(t)}};o.gui.open(i,t,u)},n.addViewUiAsync=function(n,e,i,t){return void 0===t&&(t=null),new Promise((function(u,d){var r={onAdded:function(o,i){var t=o.getComponent(e);n.add(t),u(o)},onLoadFailure:function(){u(null)}};o.gui.open(i,t,r)}))},n.addView=function(n,e,o,t){var u=i.createPrefabNode(t),d=u.getComponent(e);n.add(d),u.parent=o},n.removeViewUi=function(n,e,i,t){void 0===t&&(t=!0),t&&n.remove(e,t),o.gui.remove(i,t)},n}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGame_2048.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MoreGame_blockControl.ts"],(function(t){var e,o,i,n,s,r,a,h,c,m,l,u,g,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Prefab,h=t.Node,c=t.Label,m=t.instantiate,l=t.UITransform,u=t.Vec3,g=t.tween,f=t.Component},function(t){b=t.MoreGame_blockControl}],execute:function(){var v,d,p,C,y;s._RF.push({},"3a7edLBCgRPk4cqUiaoa+Sc","MoreGame_2048",void 0);var k=r.ccclass,B=r.property;s._RF.push({},"85a35XqLWtEMqmur6Jxzkx6","MoreGame_2048",void 0);var N=162.5;t("MoreGame_2048",(v=k("game"),d=B(a),v((y=e((C=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"blockPrefab",y,n(e)),e.score=0,e.best=0,e.next=2,e.positions=[[],[],[],[]],e.numbers=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],e.blocks=[[],[],[],[]],e}o(e,t);var s=e.prototype;return s.start=function(){var t=this;this.addEventHandler(),this.node.getChildByName("reset").on(h.EventType.TOUCH_START,(function(e){t.init()}),this)},s.onLoad=function(){this.node.getChildByName("gameover").active=!1,localStorage.getItem("best")?this.best=parseInt(localStorage.getItem("best")):localStorage.setItem("best","0"),N=77.5,this.init()},s.init=function(){this.score=0,localStorage.setItem("score","0"),this.best=parseInt(localStorage.getItem("best")),this.positions=[[],[],[],[]],this.blocks=[[],[],[],[]],this.numbers=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.node.getChildByName("score").getChildByName("num").getComponent(c).string=this.score+"",this.node.getChildByName("best").getChildByName("num").getComponent(c).string=this.best+"",this.initBlocks(),this.randomBlock(),this.randomBlock()},s.initBlocks=function(){for(var t=10+N/2,e=10+N/2,o=0;o<4;o++){for(var i=0;i<4;i++){var n=m(this.blockPrefab);n.getComponent(l).width=N,n.getComponent(l).height=N;var s=n.getChildByName("bg");s.getComponent(l).width=N,s.getComponent(l).height=N,this.node.getChildByName("square").addChild(n);var r=new u(t,e,0);this.positions[o][i]=r,n.setPosition(r),n.getComponent(b).setNumber(0),t+=10+N}t=10+N/2,e+=10+N}},s.randomBlock=function(){var t=this.getEmptyPositions();if(0===t.length)return!1;var e=t[Math.floor(Math.random()*t.length)],o=e.row,i=e.col;this.numbers[o][i]=this.next;var n=m(this.blockPrefab);n.getComponent(l).width=N,n.getComponent(l).height=N;var s=n.getChildByName("bg");return s.getComponent(l).width=N,s.getComponent(l).height=N,this.node.getChildByName("square").addChild(n),this.blocks[o][i]=n,n.setPosition(this.positions[o][i]),n.getComponent(b).setNumber(this.next),this.next=2*(Math.floor(2*Math.random())+1),this.node.getChildByName("next").getChildByName("nextNum").getComponent(c).string=this.next+"",!0},s.getEmptyPositions=function(){for(var t=[],e=0;e<this.positions.length;e++)for(var o=0;o<this.positions[e].length;o++)0===this.numbers[e][o]&&t.push({row:e,col:o});return t},s.addEventHandler=function(){var t,e,o=this;this.node.on(h.EventType.TOUCH_START,(function(e){t=e.getLocation()}),this),this.node.on(h.EventType.TOUCH_END,(function(i){e=i.getLocation(),o.getDirection(t,e)}),this),this.node.on(h.EventType.TOUCH_CANCEL,(function(i){e=i.getLocation(),o.getDirection(t,e)}),this)},s.getDirection=function(t,e){Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))>100&&(Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?t.x<e.x?this.moveRight():this.moveLeft():t.y>e.y?this.moveDown():this.moveUp())},s.moveRight=function(){for(var t=0,e=0;e<4;e++)for(var o=3;o>0;o--)for(var i=o-1;i>=0;){var n=this.numbers[e][o],s=this.numbers[e][i];if(0===n)0!==s?(this.moveBlock(e,i,e,o),0===t&&(t=1)):i--;else{if(0!==s){s===n&&(this.mergeBlock(e,i,e,o),t=2);break}i--}}this.afterMove(t)},s.moveLeft=function(){for(var t=0,e=0;e<4;e++)for(var o=0;o<3;o++)for(var i=o+1;i<4;){var n=this.numbers[e][o],s=this.numbers[e][i];if(0===n)0!==s?(this.moveBlock(e,i,e,o),0===t&&(t=1)):i++;else{if(0!==s){s===n&&(this.mergeBlock(e,i,e,o),t=2);break}i++}}this.afterMove(t)},s.moveUp=function(){for(var t=0,e=0;e<4;e++)for(var o=3;o>0;o--)for(var i=o-1;i>=0;){var n=this.numbers[o][e],s=this.numbers[i][e];if(0===n)0!==s?(this.moveBlock(i,e,o,e),0===t&&(t=1)):i--;else{if(0!==s){s===n&&(this.mergeBlock(i,e,o,e),t=2);break}i--}}this.afterMove(t)},s.moveDown=function(){for(var t=0,e=0;e<4;e++)for(var o=0;o<3;o++)for(var i=o+1;i<4;){var n=this.numbers[o][e],s=this.numbers[i][e];if(0===n)0!==s?(this.moveBlock(i,e,o,e),0===t&&(t=1)):i++;else{if(0!==s){s===n&&(this.mergeBlock(i,e,o,e),t=2);break}i++}}this.afterMove(t)},s.moveBlock=function(t,e,o,i){this.numbers[o][i]=this.numbers[t][e],this.numbers[t][e]=0,this.blocks[o][i]=this.blocks[t][e],this.blocks[t][e]=null,g(this.blocks[o][i]).to(.2,{position:this.positions[o][i]}).start()},s.mergeBlock=function(t,e,o,i){this.numbers[o][i]*=2,this.numbers[t][e]=0,this.blocks[t][e].destroy(),this.blocks[t][e]=null,this.blocks[o][i].getComponent(b).setNumber(this.numbers[o][i]),g(this.blocks[o][i]).to(.2,{scale:new u(1.2,1.2,1.2)}).to(.2,{scale:new u(1,1,1)}).start(),this.updateScore(this.numbers[o][i])},s.updateScore=function(t){this.score+=t,this.score>this.best&&(this.best=this.score,localStorage.setItem("best",this.best+"")),this.node.getChildByName("score").getChildByName("num").getComponent(c).string=this.score+"",this.node.getChildByName("best").getChildByName("num").getComponent(c).string=this.best+""},s.afterMove=function(t){var e=this;t>0&&setTimeout((function(){e.randomBlock(),e.checkFail()&&e.gameover()}),500)},s.checkFail=function(){for(var t=0;t<4;t++)for(var e=0;e<4;e++){var o=this.numbers[t][e];if(0===o)return!1;if(t>0&&this.numbers[t-1][e]===o)return!1;if(t<3&&this.numbers[t+1][e]===o)return!1;if(e>0&&this.numbers[t][e-1]===o)return!1;if(e<3&&this.numbers[t][e+1]===o)return!1}return!0},s.gameover=function(){var t=this,e=this.node.getChildByName("gameover");e.active=!0,e.getChildByName("end").getChildByName("score").getComponent(c).string=this.score.toString();var o=localStorage.getItem("best");e.getChildByName("end").getChildByName("best").getComponent(c).string="历史最高："+o,e.getChildByName("restart").on(h.EventType.TOUCH_START,(function(){e.active=!1,t.init()}),this)},e}(f)).prototype,"blockPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=C))||p));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGame_blockControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,i,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.Color,i=e.Sprite,l=e.Label,c=e.Component}],execute:function(){var a;o._RF.push({},"638aa94/9BLY4kfJJQkMymN","MoreGame_blockControl",void 0);var s=t.ccclass;t.property;o._RF.push({},"8b4d5Dq6m5ARbdqM6KmIl54","MoreGame_blockControl",void 0);var u=[];u[0]=new r(198,184,172,255),u[2]=new r(235,224,213,255),u[4]=new r(236,224,200,255),u[8]=new r(242,177,121,255),u[16]=new r(245,149,99,255),u[32]=new r(247,124,95,255),u[64]=new r(245,93,59,255),u[128]=new r(235,206,112,255),u[256]=new r(235,202,96,255),u[512]=new r(236,199,79,255),u[1024]=new r(235,196,63,255),u[2048]=new r(236,193,45,255),u[4096]=new r(239,103,108,255),u[8192]=new r(236,77,88,255),u[16384]=new r(243,64,64,255),u[32768]=new r(112,179,212,255),u[65536]=new r(93,160,221,255),u[131072]=new r(25,128,203,255);e("MoreGame_blockControl",s("blockControl")(a=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var t=o.prototype;return t.start=function(){},t.setNumber=function(e){this.node.getChildByName("bg").getComponent(i).color=u[e],0===e&&(this.node.getChildByName("num").active=!1);var n=40;e>99999?n-=15:e>9999?n-=12:e>999?n-=9:e>99&&(n-=6),this.node.getChildByName("num").getComponent(l).string=e+"",this.node.getChildByName("num").getComponent(l).fontSize=n},o}(c))||a);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var r,a,o,t,c;return{setters:[function(e){r=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator},function(e){t=e.GameStorageConfig},function(e){c=e.ArchiveBase}],execute:function(){var i;a._RF.push({},"70c4dMoGaZLFo5lTMCQ0zWf","MoreGameArchive",void 0);var n=o.ccclass;o.property;a._RF.push({},"5fce0pCxaZBdpKLFucSbBeG","MoreGameArchive",void 0);e("MoreGameArchive",n("MoreGameArchive")(i=function(e){function a(){for(var r,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=e.call.apply(e,[this].concat(o))||this).key=t.MoreGameArchive,r.defaultData={unlockList:[]},r.data=r.defaultData,r}return r(a,e),a}(c))||i);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameEnum.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./AdsManager.ts","./MusicMgr.ts","./ResMgr.ts"],(function(e){var t,n,a,i,o,r,c,s,m,u,l,g,f,p,I,h,G,d,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Sprite,s=e.Label,m=e.Node},function(e){u=e.oops},function(e){l=e.GameComponent},function(e){g=e.ArchiveManager},function(e){f=e.Bundle},function(e){p=e.GameGeneralConfig},function(e){I=e.UIID},function(e){h=e.AdsManager},function(e){G=e.MusicMgr,d=e.EffectType},function(e){M=e.ResMgr}],execute:function(){var b,v,y,L,D,S,A,_,C;o._RF.push({},"a0b3ebeJUlJv7R2wrg2q40Q","MoreGameItem",void 0);var R=r.ccclass,w=r.property;o._RF.push({},"f9e1cNEAG5MjKLArqqip4fi","MoreGameItem",void 0);e("MoreGameItem",(b=R("MoreGameItem"),v=w(c),y=w(s),L=w(m),b((A=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"iconImage",A,i(t)),a(t,"nameLabel",_,i(t)),a(t,"adsIcon",C,i(t)),t.gameID=0,t.gameData=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.setButton()},o.InitItem=function(e,t){this.gameID=e,this.gameData=t,M.SetSprite(this.iconImage,"scenes/home/moregame/MoreGameIcon_"+this.gameID,f.imageTest,this),this.nameLabel.string=t.gameName,this.adsIcon.active=!g.moreGame.data.unlockList.includes(this.gameID)},o.PlayBtn=function(){var e=this;g.moreGame.data.unlockList.includes(this.gameID)?this.LoadGameScene():h.Instance.ShowVideoAds((function(){g.moreGame.data.unlockList.push(e.gameID),g.moreGame.Save(),e.LoadGameScene()})),G.PlayEffect(d.UIClick)},o.LoadGameScene=function(){p.GameLevel_CurrSelect=this.gameID,u.gui.remove(I.MoreGamePage),u.gui.replace(I.HomeScene,I.MoreGameScene)},t}(l)).prototype,"iconImage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"nameLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(S.prototype,"adsIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGamePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./TableMoreGameData.ts","./MusicMgr.ts","./ResMgr.ts","./MoreGameItem.ts"],(function(e){var t,a,o,r,n,i,s,c,u,l,m,f,p,g,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,s=e.Node},function(e){c=e.oops},function(e){u=e.GameComponent},function(e){l=e.Bundle},function(e){m=e.TableMoreGameData},function(e){f=e.MusicMgr,p=e.EffectType},function(e){g=e.ResMgr},function(e){M=e.MoreGameItem}],execute:function(){var h,y,G,v,P;n._RF.push({},"caf4e3CXyFK+L38ef4yXoN1","MoreGamePage",void 0);var b=i.ccclass,d=i.property;n._RF.push({},"2b4777w/uhIgq6OZ6TxchDD","MoreGamePage",void 0);e("MoreGamePage",(h=b("MoreGamePage"),y=d(s),h((P=t((v=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,o(t,"itemParent",P,r(t)),t}a(t,e);var n=t.prototype;return n.start=function(){var e=this,t="pages/home/moregame/MoreGameItem";this.load(l.prefabTest,t,(function(){for(var a=g.GetTableData(m.TableName),o=0;o<a.length;o++){var r=e.createPrefabNode(t,l.prefabTest);r.setParent(e.itemParent);var n=r.getComponent(M);null==n||n.InitItem(o,a[o])}})),this.setButton()},n.CloseBtn=function(){c.gui.removeByNode(this.node),f.PlayEffect(p.UIClick)},t}(u)).prototype,"itemParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=v))||G));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./MusicMgr.ts","./ResMgr.ts"],(function(e){var n,t,r,o,a,i,c,s,u,f,p,l,m,G,g,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node},function(e){f=e.oops},function(e){p=e.GameComponent},function(e){l=e.GameGeneralConfig},function(e){m=e.UIID},function(e){G=e.MusicMgr,g=e.EffectType},function(e){M=e.ResMgr}],execute:function(){var y,h,d,v,w;c._RF.push({},"69bacV2x4JBYq2aXOQfBzG4","MoreGameSceneView",void 0);var S=s.ccclass,C=s.property;c._RF.push({},"52f32ftJYBFtLpMMxxryZUb","MoreGameSceneView",void 0);e("MoreGameSceneView",(y=S("MoreGameSceneView"),h=C(u),y((w=n((v=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,r(n,"nodeParent",w,o(n)),n}t(n,e);var c=n.prototype;return c.start=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.CreatePrefabNodeAsync("scenes/moregame/game/MoreGame_"+l.GameLevel_CurrSelect,this);case 2:e.sent.setParent(this.nodeParent),this.setButton();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.ReturnButton=function(){f.gui.replace(m.MoreGameScene,m.HomeScene),G.PlayEffect(g.UIClick)},n}(p)).prototype,"nodeParent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRigidBody.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,s,a,p,l,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){s=t.cclegacy,a=t._decorator,p=t.Vec3,l=t.RigidBody,c=t.EPSILON,y=t.Component}],execute:function(){var d,u,h,g,_,f,v,m,B,b,M;s._RF.push({},"2f292LyE55AmJZwNz8mZ1rG","MoveRigidBody",void 0);var w=a.ccclass,A=a.property;s._RF.push({},"4e8cedkWeJDEZoUMtauac/M","MoveRigidBody",void 0);var z=new p,L=new p;t("MoveRigidBody",(d=w("MoveRigidBody"),u=A({tooltip:"阻尼"}),h=A({tooltip:"重力"}),g=A({tooltip:"移动速度"}),_=A({tooltip:"速度比率"}),d((m=e((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"damping",m,o(e)),r(e,"gravity",B,o(e)),r(e,"_speed",b,o(e)),r(e,"_ratio",M,o(e)),e._rigidBody=null,e._grounded=!0,e._curMaxSpeed=0,e._prevAngleY=0,e._stateX=0,e._stateZ=0,e._velocity=new p,e}i(e,t);var s=e.prototype;return s.start=function(){this._rigidBody=this.getComponent(l),this._prevAngleY=this.node.eulerAngles.y},s.stop=function(){this._stateX=0,this._stateZ=0,this._rigidBody.clearVelocity()},s.update=function(t){this.applyGravity(),this.applyDamping(t),this.grounded&&this.applyLinearVelocity(z,1)},s.applyGravity=function(){var t=this.gravity,e=this._rigidBody.mass;L.set(0,e*t,0),this._rigidBody.applyForce(L)},s.applyDamping=function(t){this._rigidBody.getLinearVelocity(L),L.lengthSqr()>c&&(L.multiplyScalar(Math.pow(1-this.damping,t)),this._rigidBody.setLinearVelocity(L))},s.applyLinearVelocity=function(t,e){if(this._stateX||this._stateZ){z.set(this._stateX,0,this._stateZ),z.normalize(),this._rigidBody.getLinearVelocity(L),p.scaleAndAdd(L,L,t,e);var i=this._curMaxSpeed,r=1;L.lengthSqr()>i&&(Math.abs(this.node.eulerAngles.y-this._prevAngleY)>=10&&(r=2),this._prevAngleY=this.node.eulerAngles.y,L.normalize(),L.multiplyScalar(i/r)),this._rigidBody.setLinearVelocity(L)}},n(e,[{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t,this._curMaxSpeed=t*this.ratio}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=t,this._curMaxSpeed=this.speed*t}},{key:"grounded",get:function(){return this._grounded}},{key:"velocity",get:function(){return this._velocity},set:function(t){this._velocity=t;var e=t.x,i=t.z;(e>0&&this._stateX<0||e<0&&this._stateX>0||i>0&&this._stateZ<0||i<0&&this._stateZ>0)&&this._rigidBody.clearVelocity(),this._stateX=e,this._stateZ=i}}]),e}(y)).prototype,"damping",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),B=e(v.prototype,"gravity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-10}}),b=e(v.prototype,"_speed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),e(v.prototype,"speed",[g],Object.getOwnPropertyDescriptor(v.prototype,"speed"),v.prototype),M=e(v.prototype,"_ratio",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(v.prototype,"ratio",[_],Object.getOwnPropertyDescriptor(v.prototype,"ratio"),v.prototype),f=v))||f));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./Vec3Util.ts"],(function(t){var e,i,s,o,n,l,h,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,o=t.Node,n=t.Vec3,l=t.Component},function(t){h=t.Timer},function(t){r=t.Vec3Util}],execute:function(){var a;i._RF.push({},"e524fjME9dKC6PNqnqPHyAd","MoveTo",void 0);var d=s.ccclass;s.property;i._RF.push({},"5e22a+qWUpI6ZHSVRRj2DYT","MoveTo",void 0);t("MoveTo",d("MoveTo")(a=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).target=null,e.velocity=r.zero,e.speed=0,e.hasYAxis=!0,e.ns=o.NodeSpace.LOCAL,e.offset=0,e.offsetVector=null,e.onStart=null,e.onComplete=null,e.onChange=null,e.timer=new h,e.end=null,e}e(i,t);var s=i.prototype;return s.onLoad=function(){this.enabled=!1},s.move=function(){this.enabled=!0},s.update=function(t){var e;if(console.assert(this.speed>0,"移动速度必须要大于零"),null!=(e=this.target instanceof o?this.ns===o.NodeSpace.WORLD?this.target.worldPosition:this.target.position:this.target)){if(null==this.end||!this.end.strictEquals(e)){var i,s,l=e.clone();this.offsetVector&&(l=l.add(this.offsetVector)),this.hasYAxis||(l.y=0);var h=this.ns===o.NodeSpace.WORLD?this.node.worldPosition:this.node.position;this.velocity=r.sub(l,h).normalize();var a=n.distance(h,l)-this.offset;if(null==(i=this.onChange)||i.call(this),a<=0)return void this.exit();null==(s=this.onStart)||s.call(this),this.timer.step=a/this.speed,this.end=e.clone()}if(this.speed>0){var d=r.mul(this.velocity,this.speed*t);this.ns===o.NodeSpace.WORLD?this.node.worldPosition=r.add(this.node.worldPosition,d):this.node.position=r.add(this.node.position,d)}this.timer.update(t)&&(0===this.offset&&(this.ns===o.NodeSpace.WORLD?this.node.worldPosition=this.end:this.node.position=this.end),this.exit())}else this.exit()},s.exit=function(){var t;null==(t=this.onComplete)||t.call(this),this.enabled=!1,this.target=null,this.velocity=r.zero,this.speed=0,this.hasYAxis=!0,this.ns=o.NodeSpace.LOCAL,this.offset=0,this.offsetVector=null,this.onStart=null,this.onComplete=null,this.onChange=null,this.timer.reset(),this.end=null},i}(l))||a);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTranslate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts"],(function(e){var t,o,r,n,c,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.Vec3,c=e.Node,s=e.Component},function(e){a=e.Vec3Util}],execute:function(){var i;o._RF.push({},"eee92FE72JMCJPtlwfm6J8P","MoveTranslate",void 0);var l=r.ccclass;r.property;o._RF.push({},"e626612zClLO4OZDEWvT+fr","MoveTranslate",void 0);e("MoveTranslate",l("MoveTranslate")(i=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).velocity=a.zero,t.speed=0,t.vector=new n,t}return t(o,e),o.prototype.update=function(e){this.speed>0&&(n.multiplyScalar(this.vector,this.velocity,this.speed*e),this.node.translate(this.vector,c.NodeSpace.WORLD))},o}(s))||i);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/MoveVideoReward.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,o,a,n,s,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,s=e.Node,l=e.Label,c=e.Vec3,u=e.Component}],execute:function(){var h,v,d,p,f,w,m,X,b;a._RF.push({},"ba1010ZGwxP0ZEH/XXJqsE3","MoveVideoReward",void 0);var y=n.ccclass,A=n.property;a._RF.push({},"e3e82IlnBJK25PLo8qUpunw","MoveVideoReward",void 0);e("MoveVideoReward",(h=y("MoveVideoReward"),v=A(s),d=A(s),p=A(l),h((m=r((w=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,t(r,"layerParent",m,o(r)),t(r,"arrow",X,o(r)),t(r,"awardLabel",b,o(r)),r.lvXArr=[],r.lvRates=[2,3,4,5],r.isMove=!1,r.maxX=0,r.moveSpdX=0,r.moveDirec=1,r.curAwardRate=1,r.initAward=0,r.curPos=new c,r}i(r,e);var a=r.prototype;return a.onLoad=function(){var e=this;this.layerParent.children.forEach((function(r){e.lvXArr.push(r.position.x)})),this.maxX=this.lvXArr[this.lvXArr.length-1],this.moveSpdX=1*this.maxX},a.setData=function(e){this.isMove=!0,this.initAward=e},a.update=function(e){if(this.isMove){var r=this.moveSpdX*e*this.moveDirec,i=r+this.curPos.x;(i>this.maxX||i<0)&&(this.moveDirec*=-1,i=(r=this.moveSpdX*e*this.moveDirec)+this.curPos.x);for(var t=this.lvXArr.length-1,o=t-1;o>=0;o--,t--)if(i<this.lvXArr[t]&&i>=this.lvXArr[o]){this.curAwardRate=this.lvRates[o];break}this.curPos.x=i,this.curPos.y=-30,this.arrow.setPosition(this.curPos);var a=Math.floor(this.curAwardRate*this.initAward);this.awardLabel.string=a.toFixed(0)}},a.stopMove=function(){this.isMove=!1},a.resumeMove=function(){this.isMove=!0},r}(u)).prototype,"layerParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=r(w.prototype,"arrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(w.prototype,"awardLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=w))||f));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/MusicMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts"],(function(t){var i,u,c,e,n;return{setters:[function(t){i=t.createClass},function(t){u=t.cclegacy,c=t._decorator},function(t){e=t.oops},function(t){n=t.Bundle}],execute:function(){var o;u._RF.push({},"60f98M82oRGDb+VlBrJTYiN","MusicMgr",void 0);var s=c.ccclass;c.property;u._RF.push({},"e617cd2F/1EYKHQi43HavWE","MusicMgr",void 0);t("BgMusicType",function(t){return t.BgMusic="Musci/BgMusic",t}({})),t("EffectType",function(t){return t.UIClick="Effect/UIClick",t.Coin="Effect/Coin",t["叮咚完成"]="Effect/叮咚完成",t}({})),t("MusicMgr",s("MusicMgr")(o=function(){function t(){}return t.PlayBgMusic=function(t){e.audio.playMusicLoop(t,n.audioTest)},t.PlayEffect=function(t){e.audio.playEffect(t,n.audioTest)},i(t,null,[{key:"isVibration",get:function(){return"true"==e.storage.get("isVibration","true")},set:function(t){e.storage.set("isVibration",t?"true":"false")}}]),t}())||o);u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/NetInterface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f3b20l/HBJNsbFSDCe2nlvq","NetInterface",void 0),e._RF.push({},"d9f8b+CV69FyKwnUdCjOtad","NetInterface",void 0),e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/NetManager.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"abc3e9APwJE059RkvExM1DG","NetManager",void 0),e._RF.push({},"d8cd5el6GBGTYTW+N8b8EuJ","NetManager",void 0),n("NetManager",function(){function n(){this._channels={}}n.getInstance=function(){return this._instance||(this._instance=new n),this._instance};var e=n.prototype;return e.setNetNode=function(n,e){void 0===e&&(e=0),this._channels[e]=n},e.removeNetNode=function(n){delete this._channels[n]},e.connect=function(n,e){return void 0===e&&(e=0),!!this._channels[e]&&this._channels[e].connect(n)},e.send=function(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=0);var i=this._channels[t];return i?i.send(n,e):-1},e.request=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];c&&c.request(n,e,t,i)},e.requestUnique=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];return!!c&&c.requestUnique(n,e,t,i)},e.close=function(n,e,t){if(void 0===t&&(t=0),this._channels[t])return this._channels[t].closeSocket(n,e)},n}())._instance=void 0,e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/NetNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){var t,s,i,n,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,i=e.error,n=e.warn},function(e){o=e.Logger}],execute:function(){s._RF.push({},"77327V32ZBCBZhXWASMTvUg","NetNode",void 0),s._RF.push({},"57f0fB90kNBUJ98yyu+jxjx","NetNode",void 0);var c=["已关闭","连接中","验证中","可传输数据"],r=e("NetTipsType",function(e){return e[e.Connecting=0]="Connecting",e[e.ReConnecting=1]="ReConnecting",e[e.Requesting=2]="Requesting",e}({})),l=e("NetNodeState",function(e){return e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Checking=2]="Checking",e[e.Working=3]="Working",e}({}));e("NetNode",function(){function e(){this._connectOptions=null,this._autoReconnect=0,this._isSocketInit=!1,this._isSocketOpen=!1,this._state=l.Closed,this._socket=null,this._networkTips=null,this._protocolHelper=null,this._connectedCallback=null,this._disconnectCallback=null,this._callbackExecuter=null,this._keepAliveTimer=null,this._receiveMsgTimer=null,this._reconnectTimer=null,this._heartTime=1e4,this._receiveTime=6e6,this._reconnetTimeOut=8e6,this._requests=Array(),this._listener={}}var s=e.prototype;return s.init=function(e,t,s,i){void 0===s&&(s=null),void 0===i&&(i=null),o.instance.logNet("网络初始化"),this._socket=e,this._protocolHelper=t,this._networkTips=s,this._callbackExecuter=i||function(e,t){e.callback.call(e.target,t)}},s.connect=function(e){return!(!this._socket||this._state!=l.Closed)&&(this._isSocketInit||this.initSocket(),this._state=l.Connecting,this._socket.connect(e)?(null==this._connectOptions&&"number"==typeof e.autoReconnect&&(this._autoReconnect=e.autoReconnect),this._connectOptions=e,this.updateNetTips(r.Connecting,!0),!0):(this.updateNetTips(r.Connecting,!1),!1))},s.initSocket=function(){var e=this;this._socket&&(this._socket.onConnected=function(t){e.onConnected(t)},this._socket.onMessage=function(t){e.onMessage(t)},this._socket.onError=function(t){e.onError(t)},this._socket.onClosed=function(t){e.onClosed(t)},this._isSocketInit=!0)},s.updateNetTips=function(e,t){this._networkTips&&(e==r.Requesting?this._networkTips.requestTips(t):e==r.Connecting?this._networkTips.connectTips(t):e==r.ReConnecting&&this._networkTips.reconnectTips(t))},s.onConnected=function(e){var t=this;o.instance.logNet("网络已连接"),this._isSocketOpen=!0,null!==this._connectedCallback?(this._state=l.Checking,this._connectedCallback((function(){t.onChecked()}))):this.onChecked(),o.instance.logNet("网络已连接当前状态为【"+c[this._state]+"】")},s.onChecked=function(){o.instance.logNet("连接验证成功，进入工作状态"),this._state=l.Working,this.updateNetTips(r.Connecting,!1),this.updateNetTips(r.ReConnecting,!1);var e=this._requests.concat();if(e.length>0){o.instance.logNet("请求【"+this._requests.length+"】个待发送的信息");for(var t=0;t<e.length;){var s=e[t];this._socket.send(s.buffer),null==s.rspObject||""!=s.rspCmd?e.splice(t,1):++t}this.updateNetTips(r.Requesting,this._requests.length>0)}},s.onMessage=function(e){var s=JSON.parse(e);if(this._protocolHelper.checkResponsePackage(s)){this._protocolHelper.handlerResponsePackage(s)||this._networkTips&&this._networkTips.responseErrorCode(s.code),this.resetReceiveMsgTimer(),this.resetHearbeatTimer();var n=this._protocolHelper.getPackageId(s);if(o.instance.logNet("接受到命令【"+n+"】的消息"),this._requests.length>0){for(var c in this._requests){var l=this._requests[c];if(l.rspCmd==n&&l.rspObject){o.instance.logNet("触发请求命令【"+n+"】的回调"),this._callbackExecuter(l.rspObject,s.data),this._requests.splice(parseInt(c),1);break}}0==this._requests.length?this.updateNetTips(r.Requesting,!1):o.instance.logNet("请求队列中还有【"+this._requests.length+"】个请求在等待")}var h=this._listener[n];if(null!=h)for(var a,u=t(h);!(a=u()).done;){var _=a.value;o.instance.logNet("触发监听命令【"+n+"】的回调"),this._callbackExecuter(_,s.data)}}else i("校验接受消息数据异常")},s.onError=function(e){i(e)},s.onClosed=function(e){var t=this;this.clearTimer(),!this._disconnectCallback||this._disconnectCallback()?this.isAutoReconnect()?(this.updateNetTips(r.ReConnecting,!0),this._reconnectTimer=setTimeout((function(){t._socket.close(),t._state=l.Closed,t.connect(t._connectOptions),t._autoReconnect>0&&(t._autoReconnect-=1)}),this._reconnetTimeOut)):this._state=l.Closed:o.instance.logNet("断开连接")},s.close=function(e,t){this.clearTimer(),this._listener={},this._requests.length=0,this._networkTips&&(this._networkTips.connectTips(!1),this._networkTips.reconnectTips(!1),this._networkTips.requestTips(!1)),this._socket?this._socket.close(e,t):this._state=l.Closed},s.closeSocket=function(e,t){this._socket&&this._socket.close(e,t)},s.send=function(e,t){return void 0===t&&(t=!1),this._state==l.Working||t?this._socket.send(e):this._state==l.Checking||this._state==l.Connecting?(this._requests.push({buffer:e,rspCmd:"",rspObject:null}),o.instance.logNet("当前状态为【"+c[this._state]+"】,繁忙并缓冲发送数据"),0):(i("当前状态为【"+c[this._state]+"】,请求错误"),-1)},s.request=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);var n=this._protocolHelper.handlerRequestPackage(e);this.base_request(e,n,t,s,i)},s.requestUnique=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);for(var n=this._protocolHelper.handlerRequestPackage(e),c=0;c<this._requests.length;++c)if(this._requests[c].rspCmd==n)return o.instance.logNet("命令【"+n+"】重复请求"),!1;return this.base_request(e,n,t,s,i),!0},s.base_request=function(e,t,s,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var c=JSON.stringify(e);(this._state==l.Working||n)&&this._socket.send(c),o.instance.logNet("队列命令为【"+t+"】的请求，等待请求数据的回调"),this._requests.push({buffer:c,rspCmd:t,rspObject:s}),i&&this.updateNetTips(r.Requesting,!0)},s.setResponeHandler=function(e,t,s){return null==t?(i("命令为【"+e+"】设置响应处理程序错误"),!1):(this._listener[e]=[{target:s,callback:t}],!0)},s.addResponeHandler=function(e,t,s){if(null==t)return i("命令为【"+e+"】添加响应处理程序错误"),!1;var n={target:s,callback:t};return null==this._listener[e]?this._listener[e]=[n]:-1==this.getNetListenersIndex(e,n)&&this._listener[e].push(n),!0},s.removeResponeHandler=function(e,t,s){if(null!=this._listener[e]&&null!=t){var i=this.getNetListenersIndex(e,{target:s,callback:t});-1!=i&&this._listener[e].splice(i,1)}},s.cleanListeners=function(e){void 0===e&&(e=""),""==e?this._listener={}:delete this._listener[e]},s.getNetListenersIndex=function(e,t){for(var s=-1,i=0;i<this._listener[e].length;i++){var n=this._listener[e][i];if(n.callback==t.callback&&n.target==t.target){s=i;break}}return s},s.resetReceiveMsgTimer=function(){var e=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout((function(){n("接收消息定时器关闭网络连接"),e._socket.close()}),this._receiveTime)},s.resetHearbeatTimer=function(){var e=this;null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this._keepAliveTimer=setTimeout((function(){o.instance.logNet("网络节点保持活跃发送心跳信息"),e.send(e._protocolHelper.getHearbeat())}),this._heartTime)},s.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},s.isAutoReconnect=function(){return 0!=this._autoReconnect},s.rejectReconnect=function(){this._autoReconnect=0,this.clearTimer()},e}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocolPako.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"06a73fAPzhKppdx4JV7r2ER","NetProtocolPako",void 0),e._RF.push({},"88ae0lIg5BFWb1O1E8/Etwi","NetProtocolPako",void 0);t("NetProtocolPako",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkResponsePackage=function(t){return!0},e.handlerResponsePackage=function(t){if(1!=t.code)return!1;if(t.isCompress){var e=t.data.split("").map((function(t){return t.charCodeAt(0)})),n=new Uint8Array(e);t.data=pako.inflate(n,{to:"string"})}return t.data=JSON.parse(t.data),!0},e.handlerRequestPackage=function(t){var e=t.cmd;return t.callback=e,t.isCompress&&(t.data=pako.gzip(t.data,{to:"string"})),e},e.getPackageId=function(t){return t.callback},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/NineGridBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./GameEnum.ts","./AdsManager.ts","./UmengMgr.ts","./RewardItem.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts"],(function(e){var t,n,r,i,o,a,s,c,u,d,l,f,p,h,I,m,w,g,B,v,y,b,x,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Sprite,d=e.Node},function(e){l=e.oops},function(e){f=e.GameComponent},function(e){p=e.ItemArchive},function(e){h=e.ItemType,I=e.MoneyType,m=e.UmengEventID,w=e.Bundle},function(e){g=e.AdsManager},function(e){B=e.UmengMgr},function(e){v=e.RewardItem},function(e){y=e.GameMgr},function(e){b=e.MusicMgr,x=e.EffectType},function(e){R=e.ResMgr}],execute:function(){var M,N,A,G,P,C,D,E,O,_,k;s._RF.push({},"bfc98ajrsFDE7+8KvB5z03v","NineGridBoxItem",void 0);var z=c.ccclass,F=c.property;s._RF.push({},"35883Reo3NCpIARD9zlfntw","NineGridBoxItem",void 0);e("NineGridBoxItem",(M=z("NineGridBoxItem"),N=F(u),A=F(d),G=F(d),P=F(d),M((E=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).gridBoxPage=null,t.isOpen=!1,r(t,"boxIcon",E,i(t)),t.rewardInfo=null,r(t,"rewardParent",O,i(t)),t.rewardNode=null,r(t,"freeBtn",_,i(t)),r(t,"adsBtn",k,i(t)),t}n(t,e);var s=t.prototype;return s.InitReward=function(e){this.rewardInfo=e,R.SetSprite(this.boxIcon,"common/box/qualityBox/QualityBox_5",this),this.boxIcon.node.active=!0,this.freeBtn.active=!0,this.adsBtn.active=!1},s.OnClickItem=function(){this.isOpen||(this.gridBoxPage.keyCount>0?this.FreeBtn():this.AdsBtn()),b.PlayEffect(x.UIClick)},s.FreeBtn=function(){this.OpenBox(),this.gridBoxPage.UseKey()},s.AdsBtn=function(){var e=this;g.Instance.ShowVideoAds((function(){e.OpenBox(),e.rewardInfo.type==h.货币&&(e.rewardInfo.id==I.金币?B.Instance.TrackEventByID(m.role_video):e.rewardInfo.id==I.体力&&B.Instance.TrackEventByID(m.vit_video))})),b.PlayEffect(x.UIClick)},s.OpenBox=function(){this.isOpen||(this.isOpen=!0,this.freeBtn.active=!1,this.adsBtn.active=!1,this.boxIcon.node.active=!1,this.CreateRewardItem(),p.AddRewarwdList(this.rewardInfo,{showPage:!1}),y.rewardEff.ShowItemFlying(this.rewardInfo))},s.CreateRewardItem=function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.pool.loadAndShow("pages/common/reward/RewardItem",this.rewardParent,{bundleName:w.prefabTest});case 2:this.rewardNode=e.sent,null!=(t=this.rewardNode.getComponent(v))&&t.InitItem(this.rewardInfo);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onDisable=function(){this.rewardNode&&l.pool.put(this.rewardNode)},t}(f)).prototype,"boxIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"rewardParent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"freeBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"adsBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/NineGridBoxPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./TableNineGridBoxData.ts","./RewardInfo.ts","./MusicMgr.ts","./ResMgr.ts","./List2.ts","./NineGridBoxItem.ts"],(function(e){var t,n,i,o,a,r,s,l,c,u,f,d,p,h,y,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Label,l=e.Node},function(e){c=e.oops},function(e){u=e.GameComponent},function(e){f=e.TableNineGridBoxData},function(e){d=e.RewardData},function(e){p=e.MusicMgr,h=e.EffectType},function(e){y=e.ResMgr},function(e){g=e.default},function(e){b=e.NineGridBoxItem}],execute:function(){var x,v,m,B,L,I,G;a._RF.push({},"31d2coUyZVGeL8oC4ltSCTJ","NineGridBoxPage",void 0);var P=r.ccclass,C=r.property;a._RF.push({},"75caf8wZa1AOJGjyQvneq2M","NineGridBoxPage",void 0);e("NineGridBoxPage",(x=P("NineGridBoxPage"),v=C(s),m=C(l),x((I=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).keyCount=3,i(t,"keyLabel",I,o(t)),i(t,"boxParent",G,o(t)),t.boxItemList=new g,t}n(t,e);var a=t.prototype;return a.start=function(){this.keyCount=3,this.setButton(),this.UpdataKeyLabel(),this.InitBoxInfo()},a.InitBoxInfo=function(){var e=y.GetTableData(f.TableName);console.log("宝箱奖励列表",e);for(var t=0;t<this.boxParent.children.length;t++){var n=this.boxParent.children[t].getComponent(b);n.gridBoxPage=this;var i=c.random.getRandomInt(0,e.length);console.log("奖励序号：",i);var o=d.ParseList(e[i].rewardList);console.log("_奖励信息：",o);var a=o[0];n.InitReward(a),this.boxItemList.Add(n)}},a.UseKey=function(){if(this.keyCount>0&&(this.keyCount-=1,this.UpdataKeyLabel(),0==this.keyCount))for(var e=0;e<this.boxItemList.length;e++){var t=this.boxItemList[e];t.isOpen||(t.adsBtn.active=!0,t.freeBtn.active=!1)}},a.UpdataKeyLabel=function(){this.keyLabel.string="x"+this.keyCount},a.CloseBtn=function(){c.gui.removeByNode(this.node),p.PlayEffect(h.UIClick)},t}(u)).prototype,"keyLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(L.prototype,"boxParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/NodeComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ECS.ts"],(function(o){var t,e,s,i,n;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,s=o.Color},function(o){i=o.oops},function(o){n=o.ecs}],execute:function(){var r;e._RF.push({},"262dcNWojxFx6Hhhr5jzOJV","NodeComp",void 0),e._RF.push({},"1a84bwz3a9AI5BsS4epk4A3","NodeComp",void 0);o("NodeComp",n.register("Node")(r=function(o){function e(){for(var t,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(t=o.call.apply(o,[this].concat(s))||this).isDestroy=!0,t.isPool=!1,t.node=null,t.itemIcon=null,t}return t(e,o),e.prototype.reset=function(){this.isDestroy&&(this.itemIcon&&(this.itemIcon.spriteFrame=null,this.itemIcon.color=s.WHITE.clone(),this.itemIcon=null),this.node&&(this.isPool?i.pool.put(this.node):this.node.destroy(),this.node=null)),this.isDestroy=!0,this.isPool=!1},e}(n.Comp))||r);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/NodeDragExt.ts",["cc"],(function(){var t,i,n,e,o;return{setters:[function(s){t=s.cclegacy,i=s.Node,n=s.js,e=s.Vec2,o=s.v3}],execute:function(){t._RF.push({},"7d94fNY0dNP7I8vOFNnUbEJ","NodeDragExt",void 0),t._RF.push({},"1a072/udu9MtbdbyL5xB8iR","NodeDragExt",void 0),i.prototype.__$NodeDragExt$__||(i.prototype.__$NodeDragExt$__=!0,n.mixin(i,{DragEvent:{DRAG_START:"drag_start",DRAG_MOVE:"drag_move",DRAG_END:"drag_end"}}),n.mixin(i.prototype,{_draggable:!1,_dragging:!1,_dragTesting:!1,_dragStartPoint:null,initDrag:function(){this._draggable?(this.on(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.on(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.on(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)):(this.off(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.off(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.off(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this))},onTouchBegin_0:function(t){null==this._dragStartPoint&&(this._dragStartPoint=new e);var i=t.getUILocation();this._dragStartPoint.set(i),this._dragTesting=!0},onTouchMove_0:function(t){if(!this._dragging&&this._draggable&&this._dragTesting){var n=t.getUILocation();if(Math.abs(this._dragStartPoint.x-n.x)<10&&Math.abs(this._dragStartPoint.y-n.y)<10)return;this._dragging=!0,this._dragTesting=!1,this.emit(i.DragEvent.DRAG_START,t)}if(this._dragging){var e=t.getUIDelta(),s=o(e.x,e.y,0).add(this.position);this.position=s,this.emit(i.DragEvent.DRAG_MOVE,t)}},onTouchEnd_0:function(t){this._dragging&&(this._dragging=!1,this.emit(i.DragEvent.DRAG_END,t))},onTouchCancel_0:function(t){this._dragging&&(this._dragging=!1,this.emit(i.DragEvent.DRAG_END,t))},startDrag:function(){this.activeInHierarchy&&this.dragBegin()},dragBegin:function(){this._dragging=!0,this._dragTesting=!0,this.on(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.on(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)},dragEnd:function(){this._dragging&&(this._dragTesting=!1,this._dragging=!1)},stopDrag:function(){this.dragEnd()},removeDragEvent:function(){this.off(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.off(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.off(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)}}),Object.defineProperty(i.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable!=t&&(this._draggable=t,this.initDrag())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dragTesting",{get:function(){return this._dragTesting},set:function(t){this._dragTesting!=t&&(this._dragTesting=t)},enumerable:!0,configurable:!0})),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/NodeExt.ts",["cc"],(function(){var t,e,o,n,i,r,s,p,c,u,f,h,g,l,y,a,d,m,C,b,P,O,j;return{setters:[function(_){t=_.cclegacy,e=_.Node,o=_.Graphics,n=_.Label,i=_.RichText,r=_.Sprite,s=_.Button,p=_.Canvas,c=_.EditBox,u=_.Layout,f=_.PageView,h=_.ProgressBar,g=_.ScrollView,l=_.Slider,y=_.Toggle,a=_.Widget,d=_.UIOpacity,m=_.UITransform,C=_.Mask,b=_.Size,P=_.UIRenderer,O=_.Color,j=_.v3}],execute:function(){t._RF.push({},"5ea8bltcshFErZ3FBd/bbI3","NodeExt",void 0),t._RF.push({},"493a6vtAsNCi7/drbKHIAaL","NodeExt",void 0),Object.defineProperty(e.prototype,"uiGraphics",{get:function(){return this.getComponent(o)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLabel",{get:function(){return this.getComponent(n)},set:function(t){}}),Object.defineProperty(e.prototype,"uiRichText",{get:function(){return this.getComponent(i)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSprite",{get:function(){return this.getComponent(r)},set:function(t){}}),Object.defineProperty(e.prototype,"uiButton",{get:function(){return this.getComponent(s)},set:function(t){}}),Object.defineProperty(e.prototype,"uiCanvas",{get:function(){return this.getComponent(p)},set:function(t){}}),Object.defineProperty(e.prototype,"uiEditBox",{get:function(){return this.getComponent(c)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLayout",{get:function(){return this.getComponent(u)},set:function(t){}}),Object.defineProperty(e.prototype,"uiPageView",{get:function(){return this.getComponent(f)},set:function(t){}}),Object.defineProperty(e.prototype,"uiProgressBar",{get:function(){return this.getComponent(h)},set:function(t){}}),Object.defineProperty(e.prototype,"uiScrollView",{get:function(){return this.getComponent(g)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSlider",{get:function(){return this.getComponent(l)},set:function(t){}}),Object.defineProperty(e.prototype,"uiToggle",{get:function(){return this.getComponent(y)},set:function(t){}}),Object.defineProperty(e.prototype,"uiWidget",{get:function(){return this.getComponent(a)},set:function(t){}}),Object.defineProperty(e.prototype,"uiOpacity",{get:function(){return this.getComponent(d)},set:function(t){}}),Object.defineProperty(e.prototype,"uiTransform",{get:function(){return this.getComponent(m)},set:function(t){}}),Object.defineProperty(e.prototype,"uiMask",{get:function(){return this.getComponent(C)},set:function(t){}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.setPosition(t,this.position.y)}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.setPosition(this.position.x,t)}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){this.setPosition(this.position.x,this.position.y,t)}}),Object.defineProperty(e.prototype,"w",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.width)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).width=t}}),Object.defineProperty(e.prototype,"h",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.height)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).height=t}}),Object.defineProperty(e.prototype,"size",{get:function(){var t=this.getComponent(m);return new b(t.width,t.height)},set:function(t){var e=this.getComponent(m)||this.addComponent(m);e.width=t.width,e.height=t.height}}),Object.defineProperty(e.prototype,"opacity",{get:function(){var t=this.getComponent(d);if(null!=t)return t.opacity;var e=this.getComponent(P);return e?e.color.a:255},set:function(t){var e=this.getComponent(d);if(null==e){var o=this.getComponent(P);o?(this.$__color__?this.$__color__.a=t:this.$__color__=new O(o.color.r,o.color.g,o.color.b,t),o.color=this.$__color__):this.addComponent(d).opacity=t}else e.opacity=t}}),Object.defineProperty(e.prototype,"color",{get:function(){var t;return null==(t=this.getComponent(P))?void 0:t.color},set:function(t){var e=this.getComponent(P);e&&(e.color=t)}}),Object.defineProperty(e.prototype,"scale_x",{get:function(){return this.scale.x},set:function(t){this.scale=j(t,this.scale.y,this.scale.z)}}),Object.defineProperty(e.prototype,"scale_y",{get:function(){return this.scale.y},set:function(t){this.scale=j(this.scale.x,t,this.scale.z)}}),Object.defineProperty(e.prototype,"scale_z",{get:function(){return this.scale.z},set:function(t){this.scale=j(this.scale.x,this.scale.y,t)}}),Object.defineProperty(e.prototype,"anchor_x",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorX)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorX=t}}),Object.defineProperty(e.prototype,"anchor_y",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorY)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorY=t}}),Object.defineProperty(e.prototype,"angle_x",{get:function(){return this.eulerAngles.x},set:function(t){this.setRotationFromEuler(t,this.eulerAngles.y,this.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_y",{get:function(){return this.eulerAngles.y},set:function(t){this.setRotationFromEuler(this.eulerAngles.x,t,this.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_z",{get:function(){return this.eulerAngles.y},set:function(t){this.setRotationFromEuler(this.eulerAngles.x,this.eulerAngles.y,t)}}),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/Notify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts"],(function(t){var n,e,i,o,a,r,l,s,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Label,s=t.Animation,c=t.Component},function(t){u=t.LanguageLabel}],execute:function(){var p,f,h,y,b,d,m;a._RF.push({},"ffe277cSDZFfJ6EBtiEO76p","Notify",void 0);var g=r.ccclass,v=r.property;a._RF.push({},"01391Mp6X1Gn554rkzavN4K","Notify",void 0);t("Notify",(p=g("Notify"),f=v(l),h=v(s),p((d=n((b=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"lab_content",d,o(n)),i(n,"animation",m,o(n)),n.onComplete=null,n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.animation&&this.animation.on(s.EventType.FINISHED,this.onFinished,this)},a.onFinished=function(){this.node.parent.destroy(),this.onComplete&&this.onComplete(),this.onComplete=null},a.toast=function(t,n){var e=this.lab_content.getComponent(u);n?(e.enabled=!0,e.dataID=t):(e.enabled=!1,this.lab_content.string=t)},n}(c)).prototype,"lab_content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(b.prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"31619frQq1Ego0/xZP3xBvg","ObjectUtil",void 0),e._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var i in e={},t)t.hasOwnProperty(i)&&(e[i]=this.deepCopy(t[i]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/Oops.ts",["cc","./EffectSingleCase.ts","./ECS.ts","./Language.ts","./ViewModel.ts","./HttpRequest.ts","./NetManager.ts","./Config.ts","./Logger.ts","./RandomManager.ts"],(function(e){var n,t,o,i,s,a,c,g,u,f;return{setters:[function(e){n=e.cclegacy},function(e){t=e.EffectSingleCase},function(e){o=e.ecs},function(e){i=e.LanguageManager},function(e){s=e.VM},function(e){a=e.HttpRequest},function(e){c=e.NetManager},function(e){g=e.Config},function(e){u=e.Logger},function(e){f=e.RandomManager}],execute:function(){n._RF.push({},"e27ae8dDz9LHadJdNkyu2i7","Oops",void 0),n._RF.push({},"cbae5wzfSZGzZMuyeAetSfg","Oops",void 0);e("version","2.0.0.20250325");var r=e("oops",(function(){}));r.log=u.instance,r.config=new g,r.storage=void 0,r.res=void 0,r.message=void 0,r.random=f.instance,r.timer=void 0,r.audio=void 0,r.gui=void 0,r.game=void 0,r.language=new i,r.http=new a,r.tcp=new c,r.ecs=new o.RootSystem,r.mvvm=s,r.pool=t.instance,n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/OppoAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts"],(function(o){var t,e,r,s;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator},function(o){s=o.BaseAPI}],execute:function(){var n;e._RF.push({},"949a8Yvo0pFaZAlBQHhQx0R","OppoAPI",void 0);var p=r.ccclass;r.property;e._RF.push({},"5b935gn6jdDhZwRjEbr52a8","OppoAPI",void 0);o("OppoAPI",p("OppoAPI")(n=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var r=e.prototype;return r.InitGame=function(){this.api=window.qg,this.SetLoadProgress(0),o.prototype.InitGame.call(this)},r.SetLoadProgress=function(o){window.qg.setLoadingProgress({progress:o})},e}(s))||n);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/OrbitCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,a,n,s,u,l,h,p,c,g,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.Quat,h=t.Node,p=t.input,c=t.Input,g=t.lerp,R=t.Component,_=t.Vec2}],execute:function(){var d,f,b,y,m,w,S,T,v,z,x,O,C,E,D,M,P,Y,F,k,A,U,j,H,Q,V,W,G,L,N,B,I;n._RF.push({},"76f57EjQVFGGYqzsK3T6Upl","OrbitCamera",void 0);var X=s.ccclass,q=s.property,K=s.menu;n._RF.push({},"4e454G/OQ1NB7tjzAUf269U","OrbitCamera",void 0);var J=new u,Z=new u,$=new l;t("OrbitCamera",(d=X("OrbitCamera"),f=K("OopsFramework/Camera/OrbitCamera （轨道摄影机）"),b=q({tooltip:"是否启动触摸控制"}),y=q({tooltip:"是否开启启用缩放半径（鼠标滚轮控制摄像机与目标距离）"}),m=q({tooltip:"摄像机与目标的半径缩放速度",visible:function(){return!0===this.enableScaleRadius}}),w=q({tooltip:"摄像机与目标的半径最小值",visible:function(){return!0===this.enableScaleRadius}}),S=q({tooltip:"摄像机与目标的半径最大值",visible:function(){return!0===this.enableScaleRadius}}),T=q({tooltip:"自动旋转是否开启"}),v=q({tooltip:"自动旋转速度",visible:function(){return!0===this.autoRotate}}),z=q({tooltip:"旋转速度"}),x=q({tooltip:"跟随速度"}),O=q({tooltip:"X轴旋转范围（人物上下看的角度控制）"}),C=q({tooltip:"摄像机与目标的距离（以玩家为中心环绕球半径）"}),E=q({type:h,tooltip:"跟随目标"}),D=q({type:u,tooltip:"目标旋转偏移量（初始旋转向量）"}),M=q({tooltip:"是否跟随目标 Y 轴旋转"}),d(P=f((F=e((Y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(e,"enableTouch",F,r(e)),o(e,"enableScaleRadius",k,r(e)),o(e,"radiusScaleSpeed",A,r(e)),o(e,"minRadius",U,r(e)),o(e,"maxRadius",j,r(e)),o(e,"autoRotate",H,r(e)),o(e,"autoRotateSpeed",Q,r(e)),o(e,"rotateSpeed",V,r(e)),o(e,"followSpeed",W,r(e)),o(e,"xRotationRange",G,r(e)),o(e,"_targetRadius",L,r(e)),o(e,"_target",N,r(e)),o(e,"_startRotation",B,r(e)),o(e,"followTargetRotationY",I,r(e)),e._center=new u,e._targetCenter=new u,e._touched=!1,e._targetRotation=new u,e._rotation=new l,e._radius=10,e}i(e,t);var n=e.prototype;return n.start=function(){this.enableTouch&&(p.on(c.EventType.TOUCH_START,this.onTouchStart,this),p.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(c.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&p.on(c.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.target&&this.resetTargetRotation(),l.fromEuler(this._rotation,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),this.target&&(this._targetCenter.set(this.target.worldPosition),this._center.set(this._targetCenter)),this._radius=this.radius,this.limitRotation()},n.resetTargetRotation=function(){var t=this._targetRotation.set(this._startRotation);this.followTargetRotationY&&(t=Z.set(t),l.toEuler(J,this.target.worldRotation),t.add(J))},n.limitRotation=function(){var t=this._targetRotation;t.x<this.xRotationRange.x?t.x=this.xRotationRange.x:t.x>this.xRotationRange.y&&(t.x=this.xRotationRange.y),t.z=0},n.onTouchStart=function(){this._touched=!0},n.onTouchMove=function(t){if(this._touched){var e=t.touch.getDelta();l.fromEuler($,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),l.rotateX($,$,.005*-e.y),l.rotateY($,$,.005*-e.x),l.toEuler(this._targetRotation,$),this.limitRotation()}},n.onTouchEnd=function(){this._touched=!1},n.onMouseWheel=function(t){var e=t.getScrollY();this._targetRadius+=this.radiusScaleSpeed*-Math.sign(e),this._targetRadius=Math.min(this.maxRadius,Math.max(this.minRadius,this._targetRadius))},n.update=function(t){var e=this._targetRotation;this.autoRotate&&!this._touched&&(e.y+=this.autoRotateSpeed*t),this.target&&this.target.isValid&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(e=Z.set(e),l.toEuler(J,this.target.worldRotation),e.y+=J.y)),l.fromEuler($,e.x,e.y,e.z),l.slerp(this._rotation,this._rotation,$,7*t*this.rotateSpeed),u.lerp(this._center,this._center,this._targetCenter,5*t*this.followSpeed),this._radius=g(this._radius,this._targetRadius,5*t),u.transformQuat(J,u.FORWARD,this._rotation),u.multiplyScalar(J,J,this._radius),J.add(this._center),this.node.position=J,this.node.lookAt(this._center)},n.follow=function(){var t=this._targetRotation;this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(t=Z.set(t),l.toEuler(J,this.target.worldRotation),t.y+=J.y)),l.fromEuler($,t.x,t.y,t.z),this._rotation=$,this._center=this._targetCenter,this._radius=this._targetRadius,u.transformQuat(J,u.FORWARD,this._rotation),u.multiplyScalar(J,J,this._radius),J.add(this._center),this.node.position=J,this.node.lookAt(this._center)},a(e,[{key:"radius",get:function(){return this._targetRadius},set:function(t){this._targetRadius=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._targetRotation.set(this._startRotation),this._targetCenter.set(t.worldPosition)}},{key:"targetRotation",get:function(){return this._startRotation.set(this._targetRotation),this._startRotation},set:function(t){this._targetRotation.set(t),this._startRotation.set(t)}}]),e}(R)).prototype,"enableTouch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=e(Y.prototype,"enableScaleRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=e(Y.prototype,"radiusScaleSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(Y.prototype,"minRadius",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),j=e(Y.prototype,"maxRadius",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=e(Y.prototype,"autoRotate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=e(Y.prototype,"autoRotateSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),V=e(Y.prototype,"rotateSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W=e(Y.prototype,"followSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=e(Y.prototype,"xRotationRange",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(5,70)}}),L=e(Y.prototype,"_targetRadius",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(Y.prototype,"radius",[C],Object.getOwnPropertyDescriptor(Y.prototype,"radius"),Y.prototype),N=e(Y.prototype,"_target",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(Y.prototype,"target",[E],Object.getOwnPropertyDescriptor(Y.prototype,"target"),Y.prototype),B=e(Y.prototype,"_startRotation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),e(Y.prototype,"targetRotation",[D],Object.getOwnPropertyDescriptor(Y.prototype,"targetRotation"),Y.prototype),I=e(Y.prototype,"followTargetRotationY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=Y))||P)||P));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"22efcTJYadMJa1oYzs9beG9","PhysicsUtil",void 0),n._RF.push({},"c1584nuvI9HtJ5IHcmFEBzR","PhysicsUtil",void 0);var i=e("GroupItem",function(){function e(e,t){this._value=void 0,this._name=void 0,this._value=e,this._name=t}return t(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),s=e("PhysicsUtil",function(){function e(){}return e.setNodeLayer=function(t,n){n.layer=t.mask,n.children.forEach((function(n){n.layer=t.mask,e.setNodeLayer(t,n)}))},e}());s.DEFAULT=new i(0,"DEFAULT"),s.GAME_OBJECT_SELECT=new i(1,"GAME_OBJECT_SELECT"),s.GAME_OWNER=new i(2,"GAME_OWNER"),n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(e){var t,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy},function(e){c=e.ecs}],execute:function(){var i;o._RF.push({},"1815fltPwNOBZvm57IpCOxQ","PlaceItem",void 0),o._RF.push({},"cd0fealNtxI6KPph8mP5GGQ","PlaceItem",void 0);e("PlaceItem",c.register("PlaceItem")(i=function(e){function o(){for(var t,o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))||this).NodeComp=void 0,t.PlaceTargetComp=void 0,t.InitPlaceItemComp=void 0,t.PlaceItemIdleComp=void 0,t.TakeOutPlaceItemComp=void 0,t.CheckPlacementComp=void 0,t.DragPlaceItemComp=void 0,t.AutoPlaceItemComp=void 0,t.FlyingToTargetComp=void 0,t}return t(o,e),o.prototype.init=function(){},o}(c.Entity))||i);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceItemIdle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(e){var t,i,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Vec3},function(e){o=e.ecs},function(e){r=e.NodeComp}],execute:function(){var s,l;i._RF.push({},"278ffhJEgJO346/bxVtwsrr","PlaceItemIdle",void 0),i._RF.push({},"da36cP2FNpNzbhE4VJFkqsi","PlaceItemIdle",void 0);var c=e("PlaceItemIdleComp",o.register("PlaceItemIdle")(s=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).initialY=0,t.time=0,t.amplitude=10,t.speed=2.5,t}return t(i,e),i.prototype.reset=function(){this.initialY=0,this.time=0,this.amplitude=10,this.speed=2},i}(o.Comp))||s);e("PlaceItemIdleSystem",o.register("PlaceItemIdle")(l=function(e){function i(){return e.apply(this,arguments)||this}t(i,e);var s=i.prototype;return s.filter=function(){return o.allOf(c,r)},s.entityEnter=function(e){e.get(r).node.eulerAngles=new n(0,0,25)},s.update=function(e){var t=e.get(r),i=e.get(c);0===i.initialY&&(i.initialY=t.node.position.y),i.time+=this.dt;var n=i.initialY+Math.sin(i.time*i.speed)*i.amplitude;t.node.setPosition(t.node.position.x,n,t.node.position.z)},i}(o.ComblockSystem))||l);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./GameUIConfig.ts","./FlyingToTarget.ts","./NodeComp.ts","./GameMgr.ts","./MusicMgr.ts"],(function(e){var t,n,i,o,r,a,c,l,s,u,p,f,m,d,h,g,v,P,y,N,b,w,I,S,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.CCString,u=e.Node,p=e.instantiate,f=e.Sprite,m=e.Color,d=e.Vec3,h=e.Component,g=e.ParticleSystem2D},function(e){v=e.oops},function(e){P=e.GameLevelEvent},function(e){y=e.PrefabConfigData,N=e.PrefabID},function(e){b=e.FlyingToTargetComp},function(e){w=e.NodeComp},function(e){I=e.GameMgr},function(e){S=e.MusicMgr,C=e.EffectType}],execute:function(){var E,G,R,D,F,M,T,z,L,_,x;c._RF.push({},"a7fecVm8fhGPqQHnnsFc3h4","PlaceNode",void 0);var A=l.ccclass,H=l.property;c._RF.push({},"04e93Nu2AZLrp4nREYHLSB+","PlaceNode",void 0);e("PlaceNode",(E=A("PlaceNode"),G=H(s),R=H(u),D=H(u),F=H(u),E((z=t((T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"GroupID",z,o(t)),i(t,"itemParent",L,o(t)),i(t,"itemNode",_,o(t)),i(t,"actualItem",x,o(t)),t.parentNode=null,t}n(t,e);var c=t.prototype;return c.start=function(){this.actualItem&&(this.actualItem.active=!1)},c.CreateShadow=function(){if(this.itemNode){var e,t=this.itemNode;null!=this.actualItem&&(t=this.actualItem);var n=p(t);n.active=!0,n.name="shadowNode",null==(e=this.itemNode.parent)||e.addChild(n),n.setSiblingIndex(0),n.setPosition(this.itemNode.getPosition()),n.setScale(this.itemNode.getScale());var i=n.getComponent(f);i&&(i.color=new m(68,68,68,51),i.grayscale=!0)}},c.PlaceItem=function(e){var t=this,n=e.get(w).node;n.eulerAngles=new d(0,0,0),n.setParent(this.itemParent,!0),this.itemNode=n;var i=e.add(b);i.startPos=n.position.clone(),i.targetPos=d.ZERO.clone(),i.duration=.1,i.onComplete=function(){I.levelView.roomItem.waitEntityList.Remove(e),t.ShowStar(),e.destroy(),v.message.dispatchEvent(P.PlaceItemRight),S.PlayEffect(C.叮咚完成)},this.actualItem&&(this.actualItem.active=!0,this.itemNode.active=!1)},c.ShowStar=function(){var e=r(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.pool.loadAndShow(y[N.StarEffects].prefab,I.rewardEff,{bundleName:y[N.StarEffects].bundle,worldPos:this.node.worldPosition});case 2:t=e.sent,null!=(n=t.getComponent(g))&&n.resetSystem();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(h)).prototype,"GroupID",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(T.prototype,"itemParent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"itemNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"actualItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=T))||M));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/PlaceTargetComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(e){var t,r,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy},function(e){n=e.ecs}],execute:function(){var o;r._RF.push({},"b92a12+SkVIcoxt1Mr3D/1A","PlaceTargetComp",void 0),r._RF.push({},"4b25e1nfn1LB5aPf0Sw0/NI","PlaceTargetComp",void 0);e("PlaceTargetComp",n.register("PlaceTarget")(o=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).targetNode=null,t}return t(r,e),r.prototype.reset=function(){this.targetNode=null},r}(n.Comp))||o);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var t,r,i,a,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator},function(e){a=e.GameStorageConfig},function(e){o=e.ArchiveBase}],execute:function(){var c;r._RF.push({},"60e38yY+spFQ4G7BgGWyXIl","PlatformArchive",void 0);var n=i.ccclass;i.property;r._RF.push({},"0ee96GfiiND+6ao71375+Lp","PlatformArchive",void 0);e("PlatformArchive",n("PlatformArchive")(c=function(e){function r(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).key=a.PlatformArchive,t.defaultData={isNotFirstEntry:!1,isReceiveSidebar:!1,isReceiveDesktop:!1},t.data=t.defaultData,t}return t(r,e),r.prototype.DailyRefresh=function(){this.data.isNotFirstEntry=!1,this.Save()},r}(o))||c);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformEnteryBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MusicMgr.ts","./ArchiveManager.ts","./GameEvent.ts","./GameUIConfig.ts","./PlatformMgr.ts"],(function(t){var e,n,i,r,o,a,s,c,p,f,l,u,y,d,h,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Enum,c=t.Button,p=t.Component},function(t){f=t.oops},function(t){l=t.MusicMgr,u=t.EffectType},function(t){y=t.ArchiveManager},function(t){d=t.SDKEvent},function(t){h=t.UIID},function(t){v=t.PlatformMgr}],execute:function(){var b,E,m,T,I;o._RF.push({},"477f3aAuiFBQYAFIte9Mvwo","PlatformEnteryBtn",void 0);var k=a.ccclass,P=a.property;o._RF.push({},"d80c8aitqxOmIjvEG4SOwr8","PlatformEnteryBtn",void 0);var g=t("PlatformEnteryType",function(t){return t[t.Sidebar=0]="Sidebar",t[t.Desktop=1]="Desktop",t}({}));t("PlatformEnteryBtn",(b=k("PlatformEnteryBtn"),E=P({type:s(g)}),b((I=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"btnType",I,r(e)),e.rewardEventType="",e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.btnType==g.Sidebar?this.rewardEventType=d.SidebarEntryReward:this.btnType==g.Desktop&&(this.rewardEventType="")},o.start=function(){this.InitBtn(),this.node.on(c.EventType.CLICK,this.OnClickBtn,this)},o.onEnable=function(){""!=this.rewardEventType&&f.message.on(this.rewardEventType,this.onEntryReward,this)},o.onDisable=function(){""!=this.rewardEventType&&f.message.off(this.rewardEventType,this.onEntryReward,this)},o.onEntryReward=function(){this.node.active=!1},o.InitBtn=function(){var t=this;this.node.active=!1,this.btnType==g.Sidebar?v.platformAPI.CheckEntryIsAvailable((function(e){e&&!y.platform.data.isReceiveSidebar&&(t.node.active=!0)})):this.btnType==g.Desktop&&v.platformAPI.CheckDesktopIsAvailable((function(e){e&&!y.platform.data.isReceiveDesktop&&(t.node.active=!0)}))},o.OnClickBtn=function(){this.btnType==g.Sidebar?v.platformAPI.CheckEntryIsAvailable((function(t){f.gui.open(h.SidebarPage)})):this.btnType==g.Desktop&&v.platformAPI.CheckDesktopIsAvailable((function(t){v.platformAPI.AddToDesktop()})),l.PlayEffect(u.UIClick)},e}(p)).prototype,"btnType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Sidebar}}),m=T))||m));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts","./WeChatAPI.ts","./DouYinAPI.ts","./AndroidAPI.ts","./IosAPI.ts","./GameEnum.ts","./OppoAPI.ts","./UmengMgr.ts","./VivoAPI.ts","./XiaoMiAPI.ts","./HuaWeiAPI.ts","./KsAPI.ts"],(function(t){var o,r,a,n,f,i,l,s,m,P,I,p,A,e,_,u;return{setters:[function(t){o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,n=t.sys},function(t){f=t.BaseAPI},function(t){i=t.WeChatAPI},function(t){l=t.DouYinAPI},function(t){s=t.AndroidAPI},function(t){m=t.IosAPI},function(t){P=t.PlatformType},function(t){I=t.OppoAPI},function(t){p=t.UmengMgr},function(t){A=t.VivoAPI},function(t){e=t.XiaoMiAPI},function(t){_=t.HuaWeiAPI},function(t){u=t.KsAPI}],execute:function(){var c,h;r._RF.push({},"06375dqUi1Eoal9VJaPBINR","PlatformMgr",void 0);var w=a.ccclass;a.property;r._RF.push({},"167938d+dZGAboZGNs5fwSX","PlatformMgr",void 0);t("PlatformMgr",w("PlatformMgr")(((h=function(){function t(){this._platformAPI=null}var r=t.prototype;return r.Init=function(){this.GetPlatform()},r.GetPlatform=function(){console.log("初始化渠道平台SDK"),n.platform==n.Platform.DESKTOP_BROWSER||n.platform==n.Platform.MOBILE_BROWSER?(this._platformAPI=new f,this._platformAPI.platform=P.浏览器):window.ks?(this._platformAPI=new u,this._platformAPI.platform=P.快手):n.platform==n.Platform.HUAWEI_QUICK_GAME?(this._platformAPI=new _,this._platformAPI.platform=P.华为):window.tt?(this._platformAPI=new l,this._platformAPI.platform=P.抖音):n.platform==n.Platform.OPPO_MINI_GAME?(this._platformAPI=new I,this._platformAPI.platform=P.Oppo):n.platform==n.Platform.VIVO_MINI_GAME?(this._platformAPI=new A,this._platformAPI.platform=P.Vivo):n.platform==n.Platform.XIAOMI_QUICK_GAME?(this._platformAPI=new e,this._platformAPI.platform=P.XiaoMi):window.wx?(this._platformAPI=new i,this._platformAPI.platform=P.微信):n.platform==n.Platform.ANDROID?(this._platformAPI=new s,this._platformAPI.platform=P.Android):n.platform==n.Platform.IOS?(this._platformAPI=new m,this._platformAPI.platform=P.Ios):(this._platformAPI=new f,this._platformAPI.platform=P.浏览器),p.Instance.init(t.currPlatform),this._platformAPI.InitGame(),console.log("当前渠道:"+this._platformAPI.platform+",",this._platformAPI)},o(t,null,[{key:"Instance",get:function(){return this._inst||(this._inst=new t),this._inst}},{key:"platformAPI",get:function(){return this.Instance._platformAPI}},{key:"currPlatform",get:function(){return this.platformAPI.platform}}]),t}())._inst=void 0,c=h))||c);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){var e,n,o;return{setters:[function(t){e=t.cclegacy,n=t.sys,o=t.native}],execute:function(){e._RF.push({},"d089c6K/TJPdbmKrAtBzIEr","PlatformUtil",void 0),e._RF.push({},"c08229jnmdPP5vR721N6GG9","PlatformUtil",void 0);t("PlatformUtil",function(){function t(){}var e=t.prototype;return e.getNetworkType=function(){return n.getNetworkType()},e.getBatteryLevel=function(){return n.getBatteryLevel()},e.openURL=function(t){n.openURL(t)},e.copyText=function(t){o.copyTextToClipboard(t)},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/Priority.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var i,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy},function(t){s=t.BranchNode}],execute:function(){o._RF.push({},"1a425UY4glMYZeyn/jlA8PC","Priority",void 0),o._RF.push({},"f7555DSpj9LbYpRDi8/UKdN","Priority",void 0);t("Priority",function(t){function o(){return t.apply(this,arguments)||this}i(o,t);var s=o.prototype;return s.success=function(){t.prototype.success.call(this),this._control.success()},s.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},o}(s));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyPolicyPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts"],(function(t){var i,e,o,n,r,c,s,l,a,h,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,s=t.ScrollView,l=t.Node,a=t.UITransform},function(t){h=t.oops},function(t){u=t.GameComponent}],execute:function(){var p,g,y,d,f,P,v;r._RF.push({},"008deyaaFhBYaBMxp8e5wZX","PrivacyPolicyPage",void 0);var m=c.ccclass,x=c.property;r._RF.push({},"ece5daPUV1IVZFgI1j/wfmv","PrivacyPolicyPage",void 0);t("PrivacyPolicyPage",(p=m("PrivacyPolicyPage"),g=x(s),y=x(l),p((P=i((f=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,o(i,"scrollView",P,n(i)),o(i,"content",v,n(i)),i.richTextList=[],i.contentHight=0,i.loadID=0,i.loadPosY=0,i}e(i,t);var r=i.prototype;return r.start=function(){this.setButton();for(var t=0;t<this.content.children.length;t++){var i=this.content.children[t];this.richTextList.push(i)}this.contentHight=this.content.getComponent(a).height,this.loadID=0,this.richTextList[0].active=!0,this.loadPosY=this.richTextList[0].getComponent(a).height,this.scrollView.node.on("scrolling",this.onScrolling,this)},r.onScrolling=function(t){var i=t.getScrollOffset(),e=t.getMaxScrollOffset(),o=0;e.y>0&&(o=i.y/e.y),o+.05>=this.loadPosY/this.contentHight&&(this.loadID+=1,this.loadID<this.richTextList.length&&(this.richTextList[this.loadID].active=!0,this.loadPosY+=this.richTextList[this.loadID].getComponent(a).height))},r.CloseBtn=function(){h.gui.removeByNode(this.node)},i}(u)).prototype,"scrollView",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(f.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/ProtocolPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameUIConfig.ts","./GameMgr.ts"],(function(o){var t,n,e,i,c,r,a,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){i=o.oops},function(o){c=o.GameComponent},function(o){r=o.ArchiveManager},function(o){a=o.UIID},function(o){s=o.GameMgr}],execute:function(){var u;n._RF.push({},"cace4mTMGVErblNI7eI3ihJ","ProtocolPage",void 0);var g=e.ccclass;e.property;n._RF.push({},"fef12q+fgNLPYPLB6RogtQy","ProtocolPage",void 0);o("ProtocolPage",g("ProtocolPage")(u=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.start=function(){this.setButton()},e.SureBtn=function(){r.user.data.isAgreeProtocol=!0,r.user.Save(),i.gui.removeByNode(this.node),s.Instance.LoginSuccess()},e.CloseBtn=function(){void 0!==window.qg&&window.qg.exitApplication?window.qg.exitApplication():console.warn("当前平台不支持退出应用接口")},e.PrivacyPolicyBtn=function(){console.log("点击隐私政策"),i.gui.open(a.PrivacyPolicyPage)},n}(c))||u);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/QuickTween.ts",["cc","./Util.ts"],(function(){var t,o,n,i,e,r,u,l,s,a;return{setters:[function(s){t=s.cclegacy,o=s.Node,n=s.tween,i=s.Vec3,e=s.easing,r=s.Sprite,u=s.Color,l=s.Camera},function(t){s=t.calcPunchData,a=t.calcShakeData}],execute:function(){t._RF.push({},"59ea9shjElPDb6G/uTLGB3A","QuickTween",void 0),t._RF.push({},"20531fqbcBMdYAOqZjdFtlj","QuickTween",void 0),o.prototype.qtPosition=function(t,o,i){return n(this).to(o,{position:t},i)},o.prototype.qtPositionX=function(t,o,e){var r=this.position;return n(this).to(o,{position:new i(t,r.y,r.z)},e)},o.prototype.qtPositionY=function(t,o,e){var r=this.position;return n(this).to(o,{position:new i(r.x,t,r.z)},e)},o.prototype.qtPositionZ=function(t,o,e){var r=this.position;return n(this).to(o,{position:new i(r.x,r.y,t)},e)},o.prototype.qtWorldPosition=function(t,o,i){return n(this).to(o,{worldPosition:t},i)},o.prototype.qtWorldPositionX=function(t,o,e){var r=this.worldPosition;return n(this).to(o,{worldPosition:new i(t,r.y,r.z)},e)},o.prototype.qtWorldPositionY=function(t,o,e){var r=this.worldPosition;return n(this).to(o,{worldPosition:new i(r.x,t,r.z)},e)},o.prototype.qtWorldPositionZ=function(t,o,e){var r=this.worldPosition;return n(this).to(o,{worldPosition:new i(r.x,r.y,t)},e)},o.prototype.qtRotation=function(t,o,i){return n(this).to(o,{eulerAngles:t},i)},o.prototype.qtRotationQuat=function(t,o,i){return n(this).to(o,{rotation:t},i)},o.prototype.qtScale=function(t,o,e){var r=t;return t instanceof i||(r=new i(t,t,t)),n(this).to(o,{scale:r},e)},o.prototype.qtScaleX=function(t,o,e){var r=this.scale;return n(this).to(o,{scale:new i(t,r.y,r.z)},e)},o.prototype.qtScaleY=function(t,o,e){var r=this.scale;return n(this).to(o,{scale:new i(r.x,t,r.z)},e)},o.prototype.qtScaleZ=function(t,o,e){var r=this.scale;return n(this).to(o,{scale:new i(r.x,r.y,t)},e)},o.prototype.qtPunchPosition=function(t,o,i){var e,r,u=null!=(e=null==i?void 0:i.vibrato)?e:3,l=null!=(r=null==i?void 0:i.elasticity)?r:.5,a=s(this.position.clone(),t,o,u,l),p=a.tos,c=a.durations,h=n(this);return p.forEach((function(t,o){var e,r=c[o];0===o?e={onStart:i.onStart}:o===p.length-1&&(e={onComplete:i.onComplete}),h.then(n().to(r,{position:t},e))})),h.union()},o.prototype.qtPunchRotation=function(t,o,i){var e,r,u=null!=(e=null==i?void 0:i.vibrato)?e:3,l=null!=(r=null==i?void 0:i.elasticity)?r:.5,a=s(this.rotation.clone(),t,o,u,l),p=a.tos,c=a.durations,h=n(this);return p.forEach((function(t,o){var e,r=c[o];0===o?e={onStart:i.onStart}:o===p.length-1&&(e={onComplete:i.onComplete}),h.then(n().to(r,{eulerAngles:t},e))})),h.union()},o.prototype.qtPunchScale=function(t,o,i){var e,r,u=null!=(e=null==i?void 0:i.vibrato)?e:3,l=null!=(r=null==i?void 0:i.elasticity)?r:.5,a=s(this.scale.clone(),t,o,u,l),p=a.tos,c=a.durations,h=n(this);return p.forEach((function(t,o){var e,r=c[o];0===o?e={onStart:i.onStart}:o===p.length-1&&(e={onComplete:i.onComplete}),h.then(n().to(r,{scale:t},e))})),h.union()},o.prototype.qtJumpPosition=function(t,o,r,u,l){var s=new i,a=n(this),p=2*r;this.jumpY=0;var c=0,h=n().to(u/p,{jumpY:o},{onStart:function(t){c=t.position.y,t.jumpY=0},onUpdate:function(t,o){s.set(t.position),s.y=c+t.jumpY,t.position=s},onComplete:function(t){t.jumpY=0},easing:"quadOut"}).to(u/p,{jumpY:o},{onStart:function(t){c=t.position.y},onUpdate:function(t,o){s.set(t.position),s.y=c-t.jumpY,t.position=s},onComplete:function(t){t.jumpY=0},easing:"quadIn"}).union().repeat(r);this.jumpOffsetY=0;var f=0,d=n().to(u,{jumpOffsetY:t.y-this.position.y},{onStart:function(o){f=t.y-o.position.y,o.jumpOffsetY=0},onUpdate:function(t,o){var n=e.quadOut(o)*f;s.set(t.position),s.y+=n,t.position=s},onComplete:function(t){t.jumpOffsetY=0},easing:"quadOut"});this.jumpX=this.position.x,this.jumpZ=this.position.z;var v=n().to(u,{jumpX:t.x,jumpZ:t.z},{onStart:l.onStart,onUpdate:function(t,o){s.set(t.position),s.x=t.jumpX,s.z=t.jumpZ,t.position=s,null==l.onUpdate||l.onUpdate()},onComplete:function(t){t.jumpX=t.position.x,t.jumpZ=t.position.z,null==l.onComplete||l.onComplete()}});return a.parallel(h,d,v),a},o.prototype.qtShakePosition=function(t,o,e){var r,u,l,s,p=null!=(r=null==e?void 0:e.vibrato)?r:10,c=null!=(u=null==e?void 0:e.randomness)?u:90,h=null==(l=null==e?void 0:e.fadeOut)||l,f=!1;t instanceof i?(s=t,f=!0):s=new i(t,t,t);var d=a(this.position.clone(),o,s,p,c,!1,f,h),v=d.tos,m=d.durations,y=n(this);return v.forEach((function(t,o){var i,r=m[o];0===o?i={onStart:e.onStart}:o===v.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(r,{position:t},i))})),y.union()},o.prototype.qtShakeRotation=function(t,o,e){var r,u,l,s,p=null!=(r=null==e?void 0:e.vibrato)?r:10,c=null!=(u=null==e?void 0:e.randomness)?u:90,h=null==(l=null==e?void 0:e.fadeOut)||l,f=!1;t instanceof i?(s=t,f=!0):s=new i(t,t,t);var d=a(this.eulerAngles.clone(),o,s,p,c,!1,f,h),v=d.tos,m=d.durations,y=n(this);return v.forEach((function(t,o){var i,r=m[o];0===o?i={onStart:e.onStart}:o===v.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(r,{eulerAngles:t},i))})),y.union()},o.prototype.qtShakeScale=function(t,o,e){var r,u,l,s,p=null!=(r=null==e?void 0:e.vibrato)?r:10,c=null!=(u=null==e?void 0:e.randomness)?u:90,h=null==(l=null==e?void 0:e.fadeOut)||l,f=!1;t instanceof i?(s=t,f=!0):s=new i(t,t,t);var d=a(this.scale.clone(),o,s,p,c,!1,f,h),v=d.tos,m=d.durations,y=n(this);return v.forEach((function(t,o){var i,r=m[o];0===o?i={onStart:e.onStart}:o===v.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(r,{scale:t},i))})),y.union()},r.prototype.qtColor=function(t,o,i){return n(this).to(o,{color:t},i)},r.prototype.qtOpacity=function(t,o,i){var e=this,r=this.color.clone(),l=new u;return n(this).to(o,{color:new u(r.r,r.g,r.b,t)},{onStart:i.onStart,onUpdate:function(o,n){var u=r.a+(t-r.a)*n;l.set(r.r,r.g,r.b,u),e.color=l,null==i.onUpdate||i.onUpdate()},onComplete:i.onComplete})},l.prototype.qtShakePosition=function(t,o,e){var r,u,l,s,p=null!=(r=null==e?void 0:e.vibrato)?r:10,c=null!=(u=null==e?void 0:e.randomness)?u:90,h=null==(l=null==e?void 0:e.fadeOut)||l,f=!1;t instanceof i?(s=t,f=!0):s=new i(t,t,t);var d=a(this.node.position.clone(),o,s,p,c,!0,f,h),v=d.tos,m=d.durations,y=n(this.node);return v.forEach((function(t,o){var i,r=m[o];0===o?i={onStart:e.onStart}:o===v.length-1&&(i={onComplete:e.onComplete}),y.then(n().to(r,{position:t},i))})),y.union()},t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"3eb11xBigNDDJ8mPo65GbX2","RandomManager",void 0),e._RF.push({},"3e09eJBwfZBsLPqFszZLvMS","RandomManager",void 0),n("RandomManager",function(){function n(){this.random=null}var e=n.prototype;return e.setRandom=function(n){this.random=n},e.getRandom=function(){return this.random()},e.getRandomFloat=function(n,t){return void 0===n&&(n=0),void 0===t&&(t=1),this.getRandom()*(t-n)+n},e.getRandomInt=function(n,t,e){switch(void 0===e&&(e=1),n=Math.ceil(n),t=Math.floor(t),e){case 1:return Math.floor(this.getRandom()*(t-n))+n;case 2:return Math.floor(this.getRandom()*(t+1-n))+n;case 3:return Math.floor(this.getRandom()*(t-n-1))+n+1}return 0},e.getRandomByMinMaxList=function(n,t,e){for(var o=[],a=0;a<e;a++)o.push(this.getRandomInt(n,t));return o},e.getRandomByObjectList=function(n,t){for(var e=n.slice(),o=[],a=0;a<t;a++){var r=this.getRandomInt(0,e.length,1);o.push(e.splice(r,1)[0])}return o},e.getRandomBySumList=function(n,t){for(var e=t,o=0,a=[],r=0;r<n;r++)o=this.getRandomInt(0,e,3),r==n-1?o=e:e-=o,a.push(o);return a},t(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n,this._instance.setRandom(Math.random)),this._instance}}]),n}())._instance=void 0,e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/RecordBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ToastMgr.ts","./GameEvent.ts","./PlatformMgr.ts"],(function(t){var i,e,n,o,r,s,a,c,u,h,d,p,l,m,R;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.UIOpacity,u=t.Tween,h=t.tween},function(t){d=t.GameComponent},function(t){p=t.ToastMgr},function(t){l=t.GameEvent,m=t.SDKEvent},function(t){R=t.PlatformMgr}],execute:function(){var f,y,P,v,b,A,g,S,w;r._RF.push({},"d16b1ch1I5ByJOZaAh982cU","RecordBtn",void 0);var _=s.ccclass,G=s.property;r._RF.push({},"ec0f2aZN/5C8bBgDEm5RYYR","RecordBtn",void 0);t("RecordBtn",(f=_("RecordBtn"),y=G(a),P=G(a),v=G(c),f((g=i((A=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"runNode",g,o(i)),n(i,"pauseNode",S,o(i)),n(i,"redPointOpacity",w,o(i)),i.isShow=!1,i.curt=0,i._opacityAnim={o:255},i}e(i,t);var r=i.prototype;return r.onLoad=function(){R.platformAPI.GetIsCanRecorder()?this.isShow=!0:this.isShow=!1,this.node.active=!1,this.on(l.GameStart,this.onRecordStart.bind(this),this),this.on(m.RecordStart,this.onRecordStart.bind(this),this),this.on(l.GameOver,this.onRecordEnd.bind(this),this),this.on(m.RecordEnd,this.onRecordEnd.bind(this),this),this.on(l.GamePause,this.onGamePause.bind(this),this),this.on(l.GameResume,this.onGameResume.bind(this),this)},r.onEnable=function(){this.ShowRedPoinAnim()},r.onDisable=function(){u.stopAllByTarget(this._opacityAnim)},r.ShowRedPoinAnim=function(){u.stopAllByTarget(this._opacityAnim),this._opacityAnim.o=255,this.redPointOpacity.opacity=this._opacityAnim.o,h(this._opacityAnim).repeatForever(h(this._opacityAnim).to(.3,{o:0}).to(.3,{o:255})).start()},r.RecorderRun=function(){this.runNode.active=!0,this.pauseNode.active=!1},r.RecorderPause=function(){this.runNode.active=!1,this.pauseNode.active=!0},r.OnClickRun=function(){this.isShow&&(R.platformAPI.ResumeRecorder(),this.RecorderRun())},r.OnClickPause=function(){this.isShow&&(R.platformAPI.PauseRecorder(),this.curt<3&&p.AddMessage("录屏时间少于3秒"),this.RecorderPause())},r.onRecordStart=function(){this.isShow&&(this.node.active=!0),this.RecorderRun()},r.onRecordEnd=function(){this.node.active=!1},r.onGameResume=function(){this.OnClickRun()},r.onGamePause=function(){this.OnClickPause()},r.update=function(t){this.redPointOpacity.node.active&&(this.redPointOpacity.opacity=this._opacityAnim.o,this.curt+=t)},i}(d)).prototype,"runNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(A.prototype,"pauseNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(A.prototype,"redPointOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A))||b));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotBreath.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Tool.ts"],(function(e){var t,o,n,r,i,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Vec3,i=e.Component},function(e){c=e.oops},function(e){s=e.Mathf}],execute:function(){var u;o._RF.push({},"ccd75jepENM6LHuCPiNU6U5","RedDotBreath",void 0);var a=n.ccclass;n.property;o._RF.push({},"497d7MoLjRDNYEha6WYJwLG","RedDotBreath",void 0);e("RedDotBreath",a("RedDotBreath")(u=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.update=function(){var e=c.timer.getTime()/1e3;this.node.eulerAngles=new r(0,0,-20+s.PingPong(50*e,40)),this.node.scale=new r(.9+s.PingPong(10*e,.2),1.1-s.PingPong(e,.2),1)},o}(i))||u);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconShaking.ts","./RedDotManager.ts"],(function(t){var e,n,i,r,o,a,h,s,u,c,d,l,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,h=t.CCString,s=t.CCBoolean,u=t.Node,c=t.Label,d=t.Component},function(t){l=t.IconShaking},function(t){b=t.RedDotManager}],execute:function(){var f,D,p,R,m,g,P,I,v,w,S,y,k;o._RF.push({},"e6673jJGBFKE7/Fv+vl/Bcj","RedDotItem",void 0);var z=a.ccclass,N=a.property;o._RF.push({},"9e0f1zTZlxMaJz+6HFQ4C9N","RedDotItem",void 0);t("RedDotItem",(f=z("RedDotItem"),D=N(h),p=N(s),R=N(u),m=N(c),g=N(l),f((v=e((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"redDotPath",v,r(e)),i(e,"showNumber",w,r(e)),i(e,"redDotIcon",S,r(e)),i(e,"numberText",y,r(e)),i(e,"btnShaking",k,r(e)),e.redDotNumber=0,e}n(e,t);var o=e.prototype;return o.onLoad=function(){var t=this;this.schedule((function(){t.RefreshRedDot()}),60)},o.start=function(){this.SetRedDotPath(this.redDotPath)},o.onDestroy=function(){null!=this.redDotPath&&""!=this.redDotPath&&b.Instance.UnbindViewRefreshCallback(this.redDotPath)},o.SetRedDotPath=function(t){var e=this;this.HideReddot(),this.redDotPath=t,null!=this.redDotPath&&""!=this.redDotPath&&(b.Instance.BindViewRefreshCallback(this.redDotPath,(function(t){e.ViewRefresh(t)})),b.Instance.Refresh(this.redDotPath))},o.RefreshRedDot=function(){null!=this.redDotPath&&""!=this.redDotPath&&b.Instance.Refresh(this.redDotPath)},o.ViewRefresh=function(t){this.redDotNumber=t,null!=this.redDotIcon&&(this.redDotNumber>0?(this.ShowReddot(),null!=this.numberText&&(this.numberText.string=this.redDotNumber.toString(),this.showNumber?this.numberText.node.active=!0:this.numberText.node.active=!1)):this.HideReddot())},o.HideReddot=function(){this.redDotIcon.active=!1,this.btnShaking&&(this.btnShaking.enabled=!1)},o.ShowReddot=function(){this.redDotIcon.active=!0,this.btnShaking&&(this.btnShaking.enabled=!0)},e}(d)).prototype,"redDotPath",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(I.prototype,"showNumber",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=e(I.prototype,"redDotIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(I.prototype,"numberText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"btnShaking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=I))||P));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Dictionary.ts","./RedDotNodeNames.ts"],(function(t){var e,n,i,a,s,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.oops},function(t){s=t.default},function(t){o=t.RedDotNodeNames}],execute:function(){var h,l;n._RF.push({},"6a9d81A1DpGHocdNek9/2UA","RedDotManager",void 0);var r=i.ccclass;i.property;n._RF.push({},"3ba79CawfdN6bqXA3T8kP+0","RedDotManager",void 0);t("RedDotManager",r("RedDotManager")(((l=function(){function t(){this.m_RootNode=new u(o.Root),this.m_RootStack=[]}var n=t.prototype;return n.PushRoot=function(t){var e=this._GetNode(t);null==e?a.log.logBusiness("RedDotManager.PushRoot >>无效路径:"+t):this.m_RootStack.push(e)},n.PopRoot=function(){this.m_RootStack.length>0?this.m_RootStack.pop():a.log.logBusiness("RedDotManager.PopRoot >>入栈与出栈不匹配")},n.RegisterPath=function(t,e){var n=this._SplitPath(t);if(null!=n)for(var i=this._GetCurrentRoot(),a=0,s=n.length;a<s;a++)i=this._GetOrAddNode(n[a],i),a==s-1&&(i.DataRefreshFunc=e)},n.UnregisterPath=function(t){var e=this._GetNode(t);null!=e&&(e.ChildMap.Remove(e.Name),null!=e.Parent&&e.Parent.RefreshData(),e.Dispose())},n.ClearPath=function(t){var e=this._GetNode(t);null!=e&&e.ChildMap.Remove(e.Name)},n.BindViewRefreshCallback=function(t,e){var n=this._GetNode(t);null!=n&&(n.ViewRefreshFunc=e)},n.UnbindViewRefreshCallback=function(t){var e=this._GetNode(t);null!=e&&(e.ViewRefreshFunc=null)},n.Refresh=function(t){var e=this._GetNode(t);if(null!=e)for(e.RefreshData(),e.NoticeRefreshView();e&&e.Parent!=this.m_RootNode;)(e=e.Parent)&&e.RefreshSelf();else a.log.logBusiness("刷新红点失败，未注册"+t)},n._GetCurrentRoot=function(){return this.m_RootStack.length>0?this.m_RootStack[this.m_RootStack.length-1]:this.m_RootNode},n._SplitPath=function(t){var e=null;do{if(null===t||""===t){a.log.logBusiness("RedDotManager._SplitPath >>路径为空:"+t);break}var n=t.split("/");if(0==n.length){a.log.logBusiness("RedDotManager._SplitPath >>无效路径："+t);break}e=n}while(0);return e},n._GetOrAddNode=function(t,e){var n=e.ChildMap,i=n.get(t);return null==i&&(i=new u(t,e),n.Add(t,i)),i},n._GetNode=function(t){var e=null;do{var n=this._SplitPath(t);if(null==n)break;var i=this._GetCurrentRoot().ChildMap.get(n[0]);if(null==i)break;for(var a=1,s=n.length;a<s&&null!=i;a++)i=i.ChildMap.get(n[a]);null!=i&&(e=i)}while(0);return e},e(t,null,[{key:"Instance",get:function(){return null==this._inst&&(this._inst=new t),this._inst}}]),t}())._inst=void 0,h=l))||h);var u=function(){function t(t,e){void 0===e&&(e=null),this._name="",this._parent=null,this._childMap=new s,this.DataRefreshFunc=null,this.ViewRefreshFunc=null,this.m_nValue=0,this.Name=t,this.Parent=e,this.ChildMap=new s}var n=t.prototype;return n.Dispose=function(){this.ChildMap.forEach((function(t){t&&t.Dispose()})),null!=this.Parent&&this.Parent.ChildMap.Remove(this.Name),this.Name="",this.Parent=null,this.ChildMap.clear(),this.DataRefreshFunc=null,this.ViewRefreshFunc=null},n.RefreshData=function(){this._RefreshData(this),0==this.ChildMap.Count()&&null!=this.DataRefreshFunc&&(this.m_nValue=this.DataRefreshFunc.call(this)?1:0)},n.NoticeRefreshView=function(){this._NoticeRefreshView(this)},n.RefreshSelf=function(){var t,e,n=this;this.ChildMap.Count()>0?(this.m_nValue=0,this.ChildMap.forEach((function(t){t&&(n.m_nValue+=t.m_nValue)}))):this.m_nValue=null!=(e=this.DataRefreshFunc)&&e.call(this)?1:0;null==(t=this.ViewRefreshFunc)||t.call(this,this.m_nValue)},n._RefreshData=function(t){var e=this;this.m_nValue=0,this.ChildMap.forEach((function(t){t&&(t.RefreshData(),e.m_nValue+=t.m_nValue)}))},n._NoticeRefreshView=function(t){var e;this.ChildMap.forEach((function(t){t&&t.NoticeRefreshView()})),null==(e=this.ViewRefreshFunc)||e.call(this,this.m_nValue)},e(t,[{key:"Name",get:function(){return this._name},set:function(t){this._name=t}},{key:"Parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"ChildMap",get:function(){return this._childMap},set:function(t){this._childMap=t}}]),t}();n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotNodeNames.ts",["cc"],(function(e){var o,t;return{setters:[function(e){o=e.cclegacy,t=e._decorator}],execute:function(){var n,a;o._RF.push({},"a1b424GTwtOmI+Nt4kM+baS","RedDotNodeNames",void 0);var c=t.ccclass;t.property;o._RF.push({},"6b987NtVQhKNrH4nbItTcRH","RedDotNodeNames",void 0);e("RedDotNodeNames",c("RedDotNodeNames")(((a=function(){}).Root="Root",a.TurtleCountReward=(a.Home="Home")+"/TurtleCountReward",a.GameSignin=a.Home+"/GameSignin",a.GashaponMachine=a.Home+"/GashaponMachine",a.Achievement=a.Home+"/Achievement",a.Rankings=a.Home+"/Rankings",a.Turntable=a.Home+"/Turntable",n=a))||n);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RedDotSystem.ts",["cc","./Oops.ts","./ArchiveManager.ts","./RedDotManager.ts","./RedDotNodeNames.ts"],(function(e){var t,n,s,o,r,a;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){s=e.oops},function(e){o=e.ArchiveManager},function(e){r=e.RedDotManager},function(e){a=e.RedDotNodeNames}],execute:function(){var i;t._RF.push({},"896a7++BwdFVojPa6g01bA0","RedDotSystem",void 0);var c=n.ccclass;n.property;t._RF.push({},"c032eHOF9JBQIreLxR5gYCe","RedDotSystem",void 0);e("RedDotSystem",c("RedDotSystem")(i=function(){function e(){}return e.RegisterPath=function(){s.log.logBusiness("初始红点"),e.RegisterHome()},e.UnregisterPath=function(){r.Instance.UnregisterPath(a.Home)},e.RegisterHome=function(){r.Instance.RegisterPath(a.Home,null),e.RegisterGameCheckIn(),e.RegisterTurntable()},e.RegisterGameCheckIn=function(){r.Instance.RegisterPath(a.GameSignin,(function(){var e=o.signin.data.signInDay-1;return!o.signin.data.loggedList.includes(e)}))},e.RegisterTurntable=function(){r.Instance.RegisterPath(a.Turntable,(function(){return o.turntable.data.turntableCount>0}))},e}())||i);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8b7b8nBxHBHHI6Jc84SJgRn","RegexUtil",void 0),t._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);e("RegexUtil",function(){function e(){}return e.isDoubleWord=function(e){return/[^\x00-\xff]/.test(e)},e}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,s,o,a,l,u,d,i;return{setters:[function(e){n=e.createClass,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.assetManager,a=e.error,l=e.warn,u=e.Asset,d=e.js,i=e.resources}],execute:function(){s._RF.push({},"402339MlVZElZxmpU1/wz7s","ResLoader",void 0),s._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);var c=e("ResLoader",function(){function e(){this.defaultBundleName="resources",this.cdn=!1,this.bundles=new Map}var s=e.prototype;return s.init=function(e){for(var n in this.cdn=e.enable,e.packages)this.bundles.set(n,e.packages[n])},s.loadRemote=function(e){var n=null,r=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):r=arguments.length<=1?void 0:arguments[1],o.loadRemote(e,n,r)},s.loadBundle=function(e,n){return new Promise((function(r,t){o.loadBundle(e,{version:n},(function(e,n){if(e)return a(e);r(n)}))}))},s.removeBundle=function(e){var n=o.bundles.get(e);n&&(n.releaseAll(),o.removeBundle(n))},s.preload=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.preload=!0,this.loadByArgs(o)},s.preloadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.preload(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.preloadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,o.preload=!0,this.loadByArgs(o)},s.load=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,this.loadByArgs(o)},s.loadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.load(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.loadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,this.loadByArgs(o)},s.release=function(e,n){null==n&&(n=this.defaultBundleName);var r=o.getBundle(n);if(r){var t=r.get(e);t&&this.releasePrefabtDepsRecursively(t)}},s.releaseDir=function(e,n){var r=this;void 0===n&&(n=this.defaultBundleName);var t=o.getBundle(n);if(t){var s=t.getDirWithPath(e);s&&s.map((function(e){r.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&o.removeBundle(t)}},s.releasePrefabtDepsRecursively=function(e){if(e instanceof u)e.decRef();else{var n=o.assets.get(e);n&&n.decRef()}},s.get=function(e,n,r){return void 0===r&&(r=this.defaultBundleName),o.getBundle(r).get(e,n)},s.parseLoadResArgs=function(e,n,r,t){var s=e,o=n,a=r,l=t;if(void 0===t){var i=d.isChildClassOf(n,u);r?(l=r,i&&(a=null)):void 0!==r||i||(l=n,a=null,o=null),void 0===r||i||(a=n,o=null)}return{paths:s,type:o,onProgress:a,onComplete:l}},s.loadByBundleAndArgs=function(e,n){n.dir?n.preload?e.preloadDir(n.paths,n.type,n.onProgress,n.onComplete):e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):n.preload?e.preload(n.paths,n.type,n.onProgress,n.onComplete):e.load(n.paths,n.type,n.onProgress,n.onComplete)},s.loadByArgs=function(){var e=r(t().mark((function e(n){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.bundle){e.next=13;break}if(!(r=o.bundles.get(n.bundle))){e.next=6;break}this.loadByBundleAndArgs(r,n),e.next=11;break;case 6:return s=this.cdn?this.bundles.get(n.bundle):"",e.next=9,this.loadBundle(n.bundle,s);case 9:(r=e.sent)&&this.loadByBundleAndArgs(r,n);case 11:e.next=14;break;case 13:this.loadByBundleAndArgs(i,n);case 14:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.dump=function(){o.assets.forEach((function(e,n){console.log(o.assets.get(n))})),console.log("当前资源总数:"+o.assets.count)},n(e,[{key:"maxConcurrency",get:function(){return o.downloader.maxConcurrency},set:function(e){o.downloader.maxConcurrency=e}},{key:"maxRequestsPerFrame",get:function(){return o.downloader.maxRequestsPerFrame},set:function(e){o.downloader.maxRequestsPerFrame=e}},{key:"maxRetryCount",get:function(){return o.downloader.maxRetryCount},set:function(e){o.downloader.maxRetryCount=e}},{key:"retryInterval",get:function(){return o.downloader.retryInterval},set:function(e){o.downloader.retryInterval=e}}]),e}());e("resLoader",new c);s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./JsonUtil.ts","./ViewUtil.ts","./GameComponent.ts","./GameEnum.ts"],(function(e){var t,r,n,a,i,s,o,u,c,f,p;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e._decorator,i=e.SpriteFrame,s=e.isValid},function(e){o=e.oops},function(e){u=e.JsonUtil},function(e){c=e.ViewUtil},function(e){f=e.GameComponent},function(e){p=e.Bundle}],execute:function(){var l;n._RF.push({},"fc4daiyy3NKu6byuTRW+qnx","ResMgr",void 0);var d=a.ccclass;a.property;n._RF.push({},"866494WVetFyZUrpUOOU0RS","ResMgr",void 0);e("ResMgr",d("ResMgr")(l=function(){function e(){}return e.ensureSpriteFramePath=function(e){var t=e.split("/").filter((function(e){return""!==e}));return"spriteFrame"!==t[t.length-1]&&t.push("spriteFrame"),t.join("/")},e.SetSprite=function(){var n=t(r().mark((function t(n,a,i,o){var u,c,l,d,v,m;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=p.imageTest),void 0===o&&(o=null),u=o,i instanceof f?(u=i,c=p.imageTest):c=i,!u){t.next=10;break}return l=e.ensureSpriteFramePath(a),t.next=8,u.setSprite(n,l,c);case 8:t.next=15;break;case 10:return v=null!=(d=c)?d:p.imageTest,t.next=13,e.LoadSpriteAsync(a,v);case 13:(m=t.sent)&&s(n)&&(n.spriteFrame=m);case 15:case"end":return t.stop()}}),t)})));return function(e,t,r,a){return n.apply(this,arguments)}}(),e.LoadSpriteAsync=function(t,r){void 0===r&&(r=p.imageTest);var n=e.ensureSpriteFramePath(t);return o.res.loadAsync(r,n,i)},e.CreatePrefabNode=function(e,t,r){void 0===t&&(t=p.prefabTest),void 0===r&&(r=null);var n,a=r;return t instanceof f?(a=t,n=p.prefabTest):n=t,a?a.createPrefabNode(e,n):c.createPrefabNode(e,n)},e.CreatePrefabNodeAsync=function(e,t,r){void 0===t&&(t=p.prefabTest),void 0===r&&(r=null);var n,a=r;return t instanceof f?(a=t,n=p.prefabTest):n=t,a?a.createPrefabNodeAsync(e,n):c.createPrefabNodeAsync(e,n)},e.GetTableData=function(e){return Object.values(u.get(e))},e}())||l);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/ReturnHomePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameUIConfig.ts","./PlatformMgr.ts","./MusicMgr.ts"],(function(e){var t,o,n,r,i,u,c,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator},function(e){r=e.oops},function(e){i=e.GameComponent},function(e){u=e.UIID},function(e){c=e.PlatformMgr},function(e){a=e.MusicMgr,s=e.EffectType}],execute:function(){var f;o._RF.push({},"ae304E7rZVCK7pPZ1YMZOkw","ReturnHomePageView",void 0);var p=n.ccclass;n.property;o._RF.push({},"4a7ac8/iFFCyKXBBTTvr3fV","ReturnHomePageView",void 0);e("ReturnHomePageView",p("ReturnHomePageView")(f=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.start=function(){this.setButton()},n.CloseBtn=function(){r.gui.open(u.SetupPage,{gameLevel:!0}),r.gui.removeByNode(this.node,!0),a.PlayEffect(s.UIClick)},n.SureBtn=function(){c.platformAPI.EndRecorder(),r.gui.removeByNode(this.node,!0),r.gui.remove(u.SetupPage,!0),r.gui.replace(u.GameLevelScene,u.HomeScene),a.PlayEffect(s.UIClick)},o}(i))||f);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RevivePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./GameEvent.ts","./AdsManager.ts","./PlatformMgr.ts","./ShareManager.ts","./UmengMgr.ts","./GameMgr.ts","./MusicMgr.ts"],(function(e){var t,n,i,r,a,o,s,c,u,v,l,h,f,d,p,g,m,B,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node},function(e){c=e.oops},function(e){u=e.GameComponent},function(e){v=e.UmengEventID},function(e){l=e.GameEvent,h=e.SDKEvent},function(e){f=e.AdsManager},function(e){d=e.PlatformMgr},function(e){p=e.ShareManager},function(e){g=e.UmengMgr},function(e){m=e.GameMgr},function(e){B=e.MusicMgr,R=e.EffectType}],execute:function(){var y,S,E,M,P,w,A;a._RF.push({},"0e3dcV36utAorGyBXn0EGO5","RevivePage",void 0);var G=o.ccclass,I=o.property;a._RF.push({},"30e895lWQtATKkoRC+R9FJ7","RevivePage",void 0);e("RevivePage",(y=G("RevivePage"),S=I(s),E=I(s),y((w=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).reviveType=0,t.isHaveRecorder=!1,i(t,"shareBtn",w,r(t)),i(t,"adsBtn",A,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.dispatchEvent(l.GamePause),this.reviveType=0,0==this.reviveType?this.ShowAdsBtn():this.ShowShareBtn(),this.setButton()},a.ShowAdsBtn=function(){this.adsBtn.active=!0,this.shareBtn.active=!1},a.ShowShareBtn=function(){this.adsBtn.active=!1,this.shareBtn.active=!0,this.dispatchEvent(h.RecordEnd),d.platformAPI.EndRecorder(),this.on(h.RecordSaved,this.onRecordSaved.bind(this),this)},a.onRecordSaved=function(){this.isHaveRecorder=!0},a.CloseBtn=function(){c.gui.removeByNode(this.node),m.levelView.GameFail(),g.Instance.TrackEventByID(v.lose,m.levelView.currLevel+1),B.PlayEffect(R.UIClick)},a.ShareBtn=function(){var e=this;p.ShareGame("",(function(t){t&&e.ReviveSuccess()}),1),B.PlayEffect(R.UIClick)},a.MistakeTouchBtn=function(){this.AdsBtn()},a.AdsBtn=function(){var e=this;f.Instance.ShowVideoAds((function(){e.ReviveSuccess(),g.Instance.TrackEventByID(v.revive,m.levelView.currLevel+1)})),B.PlayEffect(R.UIClick)},a.ReviveSuccess=function(){c.gui.removeByNode(this.node),m.levelView.ReviveSuccess(),this.dispatchEvent(h.RecordStart),d.platformAPI.StartRecorder()},t}(u)).prototype,"shareBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"adsBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=P))||M));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/RewardInfo.ts",["cc","./List2.ts","./GameEnum.ts"],(function(t){var e,r,i,n,a;return{setters:[function(t){e=t.cclegacy,r=t._decorator},function(t){i=t.default},function(t){n=t.RewardQuality,a=t.ItemType}],execute:function(){e._RF.push({},"8ae55Tsj9xOxa2zywBQTyJp","RewardInfo",void 0);r.ccclass,r.property;e._RF.push({},"6f38940PntBVr8cfLjkTp9H","RewardInfo",void 0);t("RewardInfo",(function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=n.白),this.type=a.货币,this.part=0,this.id=0,this.count=1,this.quality=n.白,this.type=t.type,this.part=t.part,this.id=t.id,this.count=e,this.quality=r})),t("RewardData",function(){function t(){}return t.ParseList=function(t){var e=new i;console.log("奖励数据：",t);for(var r,n=t.replace(/[【】]/g,(function(t){return"【"===t?"[":"]"})).replace(/，/g,","),a=/\[([^\]]*?)\]/g;r=a.exec(n);){var s=r[1].trim();if(s){var u=s.split(",").map((function(t){return t.trim()})).filter((function(t){return""!==t}));if(u.length<3||u.length>5)console.error("奖励格式错误: 需要3-5个字段，实际 "+u.length+" 个 ("+s+")");else{var o={type:this.ParseNumber(u[0],"type"),part:this.ParseNumber(u[1],"part"),id:this.ParseNumber(u[2],"id"),count:u.length>=4?this.ParseNumber(u[3],"count"):1,quality:u.length>=5?this.ParseNumber(u[4],"quality"):0};e.Add(o)}}}return e},t.ParseNumber=function(t,e){var r=Number(t);return isNaN(r)?(console.error("字段 "+e+" 不是有效数字: "+t),0):r},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/RewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ResMgr.ts","./ItemInfo.ts"],(function(t){var e,n,r,i,o,a,c,s,u,l,p,f,h,m,d,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,u=t.Sprite,l=t.Label,p=t.Tween,f=t.Vec3,h=t.tween},function(t){m=t.GameComponent},function(t){d=t.ResMgr},function(t){I=t.ItemInfo}],execute:function(){var g,w,b,y,v,R,L,B,_;c._RF.push({},"9d7429AkT5OIIocPGBQaeQ9","RewardItem",void 0);var F=s.ccclass,S=s.property;c._RF.push({},"4a371KX8ftK7LeD409XhGbN","RewardItem",void 0);t("RewardItem",(g=F("RewardItem"),w=S(u),b=S(u),y=S(l),g((L=e((R=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).rewardInfo=null,e.itemInfo=null,r(e,"bg",L,i(e)),r(e,"icon",B,i(e)),r(e,"count",_,i(e)),e}n(e,t);var c=e.prototype;return c.InitItem=function(t){this.rewardInfo=t,this.itemInfo=new I(this.rewardInfo),this.count.string="x"+this.rewardInfo.count,this.LoadIcon(),this.LoadBg()},c.onDisable=function(){p.stopAllByTarget(this.bg.node),this.bg.node.scale=new f(1,1,1),this.icon.spriteFrame=null,this.bg.spriteFrame=null},c.ZoomInAndOut=function(t,e,n,r){h(this.bg.node).to(t,{scale:e}).to(n,{scale:r}).start()},c.LoadIcon=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.SetSprite(this.icon,this.itemInfo.iconPath);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.LoadBg=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.SetSprite(this.bg,"common/itemBg/ItemBg_"+this.rewardInfo.quality);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(m)).prototype,"bg",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(R.prototype,"count",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=R))||v));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/RewardPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameMgr.ts","./MusicMgr.ts","./AwaitDelay.ts","./List2.ts","./ItemArchive.ts","./GameEnum.ts","./RewardItem.ts"],(function(t){var e,n,r,i,a,o,s,c,u,l,f,p,d,h,w,g,m,v,y,R,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Layout,l=t.Node,f=t.Vec3},function(t){p=t.oops},function(t){d=t.GameComponent},function(t){h=t.GameMgr},function(t){w=t.MusicMgr,g=t.EffectType},function(t){m=t.AwaitDelay},function(t){v=t.default},function(t){y=t.ItemArchive},function(t){R=t.Bundle},function(t){b=t.RewardItem}],execute:function(){var I,L,P,A,x,T,C;s._RF.push({},"6a92eBzL7hOBbVUwY52di+p","RewardPage",void 0);var D=c.ccclass,E=c.property;s._RF.push({},"d59dbQRbnxKZYSnSAcJp9Hv","RewardPage",void 0);t("RewardPage",(I=D("RewardPage"),L=E(u),P=E(l),I((T=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).rewardList=new v,r(e,"layout",T,i(e)),r(e,"listParent",C,i(e)),e}n(e,t);var s=e.prototype;return s.onLoad=function(){this.setButton()},s.CloseBtn=function(){this.node.active=!1,w.PlayEffect(g.UIClick)},s.ShowPage=function(t){this.rewardList=t,this.node.active=!0,this.CreateItem()},s.CreateItem=function(){var t=a(o().mark((function t(){var e,n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.rewardList.length)){t.next=15;break}return this.layout.startAxis=e<5?u.AxisDirection.VERTICAL:u.AxisDirection.HORIZONTAL,n=this.rewardList[e],t.next=6,p.pool.loadAndShow("pages/common/reward/RewardItem",this.listParent,{bundleName:R.prefabTest});case 6:return r=t.sent,null!=(i=r.getComponent(b))&&i.InitItem(n),null!=i&&i.ZoomInAndOut(.01,new f(2,2,2),.2,new f(1,1,1)),t.next=12,m.WaitingTime(.15);case 12:e++,t.next=1;break;case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onDisable=function(){h.rewardEff.ShowItemFlying(this.rewardList);for(var t=this.listParent.children.length-1;t>=0;t--){var e=this.listParent.children[t];p.pool.put(e)}this.TriggerEvent(this.rewardList),this.rewardList=new v},s.TriggerEvent=function(){var t=a(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.WaitingTime(.2);case 2:for(n=0;n<e.length;n++)r=e[n],y.TriggerEvent(r,r.count);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}(d)).prototype,"layout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(x.prototype,"listParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=x))||A));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/RoomRefrenceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ResMgr.ts"],(function(e){var r,t,n,o,i,c,a,s,u,l,p,m;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator,u=e.CCInteger,l=e.Sprite},function(e){p=e.GameComponent},function(e){m=e.ResMgr}],execute:function(){var f,R,h,v,g,y,I;a._RF.push({},"026deQsCkJGiKtJXObsZYEs","RoomRefrenceItem",void 0);var d=s.ccclass,b=s.property;a._RF.push({},"898b3aLfpNEwZj/itIfp0Yj","RoomRefrenceItem",void 0);e("RoomRefrenceItem",(f=d("RoomRefrenceItem"),R=b(u),h=b(l),f((y=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,n(r,"currLevel",y,o(r)),n(r,"itemImage",I,o(r)),r}t(r,e);var a=r.prototype;return a.SetLevel=function(e){this.currLevel=e},a.ShowRoom=function(){var e=i(c().mark((function e(r){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="scenes/home/roomRefrence/Room_",t+=this.currLevel,t+="_"+(r?"Finish":"Null"),e.next=5,m.SetSprite(this.itemImage,t,this);case 5:null!=(n=this.itemImage.spriteFrame)&&n.addRef();case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}(),r}(p)).prototype,"currLevel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=r(g.prototype,"itemImage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/RoomSetRefrence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ArchiveManager.ts","./List2.ts","./RoomRefrenceItem.ts"],(function(e){var o,t,n,r,c,i,a;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,r=e.Component},function(e){c=e.ArchiveManager},function(e){i=e.default},function(e){a=e.RoomRefrenceItem}],execute:function(){var s;t._RF.push({},"a3ba1RCeatPRYhFYrZptlWt","RoomSetRefrence",void 0);var u=n.ccclass;n.property;t._RF.push({},"7daedwR4kFDnoM0jgiGpd/O","RoomSetRefrence",void 0);e("RoomSetRefrence",u("RoomSetRefrence")(s=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).roomItemList=new i,o}return o(t,e),t.prototype.onLoad=function(){for(var e=0;e<this.node.children.length;e++){var o=this.node.children[e].getComponent(a);if(o){this.roomItemList.Add(o);var t=c.gameLevel.data.unlockLevel>o.currLevel;o.ShowRoom(t)}}},t}(r))||s);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/Root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameQueryConfig.ts","./Oops.ts","./AudioManager.ts","./EventMessage.ts","./MessageManager.ts","./ResLoader.ts","./StorageManager.ts","./TimerManager.ts","./GameManager.ts","./LayerManager.ts","./StorageSecurityCrypto.ts"],(function(e){var n,t,i,o,a,s,r,u,c,g,f,l,p,m,d,h,y,E,v,M,S,w,R,C,G,b,A,_,L;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,u=e._decorator,c=e.Node,g=e.director,f=e.game,l=e.Game,p=e.sys,m=e.screen,d=e.Component,h=e.JsonAsset},function(e){y=e.GameConfig},function(e){E=e.GameQueryConfig},function(e){v=e.version,M=e.oops},function(e){S=e.AudioManager},function(e){w=e.EventMessage},function(e){R=e.message},function(e){C=e.resLoader},function(e){G=e.StorageManager},function(e){b=e.TimerManager},function(e){A=e.GameManager},function(e){_=e.LayerManager},function(e){L=e.StorageSecurityCrypto}],execute:function(){var N,H,O,T,F;r._RF.push({},"7312aGgivRLmYHnCKW30+/6","Root",void 0);var D=u.property;r._RF.push({},"90b9cOmlmBCnpCpEpgvdrQr","Root",void 0);var I=!1;e("Root",(N=D({type:c,tooltip:"游戏层"}),H=D({type:c,tooltip:"界面层"}),T=n((O=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(n,"game",T,o(n)),i(n,"gui",F,o(n)),n.persist=null,n}t(n,e);var r=n.prototype;return r.onLoad=function(){I||(I=!0,console.log("Oops Framework "+v),this.enabled=!1,this.initModule(),this.iniStart(),this.loadConfig().then())},r.initModule=function(){this.persist=new c("OopsFrameworkPersistNode"),g.addPersistRootNode(this.persist),M.config.query=new E,M.res=C,M.message=R,M.timer=this.persist.addComponent(b),M.game=new A(this.game),M.gui=new _},r.loadConfig=function(){var e=a(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="config",e.next=3,M.res.loadAsync(n,h);case 3:(t=e.sent)?(M.config.game=new y(t),M.storage=new G,M.storage.init(new L),M.audio=this.persist.addComponent(S),M.audio.load(),M.res.defaultBundleName=M.config.game.bundleDefault,M.res.init(M.config.game.data.bundle),M.gui.mobileSafeArea=M.config.game.mobileSafeArea,M.gui.initLayer(this.gui,t.json.gui),f.frameRate=M.config.game.frameRate,this.enabled=!0,this.init(),this.run(),M.res.release(n)):this.loadConfig().then();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e){M.ecs.execute(e)},r.iniStart=function(){},r.initGui=function(){},r.initEcsSystem=function(){},r.run=function(){},r.init=function(){this.initGui(),this.initEcsSystem(),M.ecs.init(),f.on(l.EVENT_SHOW,this.onShow,this),f.on(l.EVENT_HIDE,this.onHide,this),p.isMobile||(m.on("window-resize",(function(){M.message.dispatchEvent(w.GAME_RESIZE)}),this),m.on("fullscreen-change",(function(){M.message.dispatchEvent(w.GAME_FULL_SCREEN)}),this)),m.on("orientation-change",(function(){M.message.dispatchEvent(w.GAME_ORIENTATION)}),this)},r.onShow=function(){console.log("oops进入前台"),M.timer.load(),M.audio.resumeAll(),g.resume(),f.resume(),M.message.dispatchEvent(w.GAME_SHOW)},r.onHide=function(){console.log("oops进入后台"),M.timer.save(),M.audio.pauseAll(),g.pause(),f.pause(),M.message.dispatchEvent(w.GAME_HIDE)},n}(d)).prototype,"game",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(O.prototype,"gui",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){var o,n,r,i,e;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,i=t.toRadian},function(t){e=t.Vec3Util}],execute:function(){o._RF.push({},"c1f700hqBRC9KE7WjNZbLyE","RotateUtil",void 0),o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var i=new n;n.rotateAround(i,t.getRotation(),o.normalize(),r),t.setRotation(i)},t.rotateAroundTarget=function(t,o,i,e){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,i,e),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,i,e),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=e.z.multiplyScalar(o),c=e.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,i(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RotationNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,n,r,a,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Vec3,c=e.Quat,p=e.Component}],execute:function(){var u,l,d,h,f,R;r._RF.push({},"e3ee1RVVJVLgbDhxEiPwC7b","RotationNode",void 0);var y=a.ccclass,b=a.property;r._RF.push({},"342cc+KQTVG0qiT31gR7HHP","RotationNode",void 0);e("RotationNode",(u=y("RotationNode"),l=b(s),u((f=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"axis",f,n(t)),o(t,"speed",R,n(t)),t._tempQuat=new c,t}return i(t,e),t.prototype.update=function(e){var t=this.speed*e*Math.PI/180,i=s.normalize(new s,this.axis);c.fromAxisAngle(this._tempQuat,i,t),this.node.rotate(this._tempQuat)},t}(p)).prototype,"axis",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,1)}}),R=t(h.prototype,"speed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),d=h))||d));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/RtToModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,o,n,a,l,s,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Camera,s=e.MeshRenderer,c=e.RenderTexture,u=e.view,p=e.gfx,d=e.Component}],execute:function(){var h,f,m,y,R,g,b;n._RF.push({},"11b51doVtdJqaL/iLLO0WO7","RtToModel",void 0);var v=a.ccclass,w=a.property;n._RF.push({},"dbd7dMQYutDs7I7uj+3zIiU","RtToModel",void 0);e("RtToModel",(h=v("RtToModel"),f=w(l),m=w(s),h((g=t((R=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"camara",g,o(t)),i(t,"model",b,o(t)),t.rt=new c,t}r(t,e);var n=t.prototype;return n.start=function(){var e=u.getVisibleSize(),t=new p.ColorAttachment,r=new p.DepthStencilAttachment,i=new p.RenderPassInfo([t],r);this.rt.reset({width:e.width,height:e.height,passInfo:i}),this.camara.targetTexture=this.rt,this.model.material.setProperty("mainTexture",this.rt)},n.onDestroy=function(){this.rt.destroy()},t}(d)).prototype,"camara",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(R.prototype,"model",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=R))||y));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/RtToSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,h,a,p,u,c,l,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,h=t.Camera,a=t.Sprite,p=t.Node,u=t.RenderTexture,c=t.UITransform,l=t.gfx,f=t.SpriteFrame,T=t.Component}],execute:function(){var d,y,v,m,g,E,b,R,C,S,_;n._RF.push({},"7e26c+Mhe9AGaCVpsabctrL","RtToSprite",void 0);var w=s.ccclass,A=s.property;n._RF.push({},"f608cdDWBNEKLILVNBcQYvf","RtToSprite",void 0);t("RtToSprite",(d=w("RtToSprite"),y=A({type:h,tooltip:"渲染模型的三维摄像机"}),v=A({type:a,tooltip:"显示模型的二维精灵组件"}),m=A({tooltip:"是否触摸控制旋转"}),g=A({type:p,tooltip:"三维模型",visible:function(){return!0===this.rotation}}),d((R=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"camera",R,r(e)),o(e,"sprite",C,r(e)),o(e,"rotation",S,r(e)),o(e,"model",_,r(e)),e.rt=new u,e.touched=!1,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this.sprite.getComponent(c);this.refreshRenderTexture(t.width,t.height),this.rotation&&(this.sprite.node.on(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.on(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.on(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},n.onTouchStart=function(t){this.touched=!0},n.onTouchMove=function(t){if(this.touched){var e=this.model.eulerAngles,i=t.touch.getDelta().x;e.y+=-i,this.model.eulerAngles=e}},n.onTouchEnd=function(t){this.touched=!1},n.refreshRenderTexture=function(t,e){var i=new l.ColorAttachment,o=new l.DepthStencilAttachment,r=new l.RenderPassInfo([i],o);this.rt.reset({width:t,height:e,passInfo:r});var n=this.sprite.spriteFrame,s=new f;s.reset({originalSize:n.originalSize,rect:n.rect,offset:n.offset,isRotate:n.rotated,borderTop:n.insetTop,borderLeft:n.insetLeft,borderBottom:n.insetBottom,borderRight:n.insetRight}),this.camera.targetTexture=this.rt,s.texture=this.rt,this.sprite.spriteFrame=s},n.onDestroy=function(){this.rotation&&(this.sprite.node.off(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.off(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.off(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.off(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.rt.destroy()},e}(T)).prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=e(b.prototype,"model",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/seedrandom.min.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("default",(function(t,r){var a,l=[];if((!0===r?{entropy:!0}:r||{}).entropy)a=[t,c([])];else if(null==t)try{var f=new Uint8Array(n);(globalThis.crypto||globalThis.msCrypto).getRandomValues(f),a=c(f)}catch(t){var g;a=[+new Date,globalThis,null==(g=globalThis.navigator)?void 0:g.plugins,globalThis.screen]}else a=t;s(h(a,3),l);var v=new u(l),p=function(){for(var t=v.g(6),r=i,a=0;t<e;)t=(t+a)*n,r*=n,a=v.g(1);for(;t>=o;)t/=2,r/=2,a>>>=1;return(t+a)/r};return p.int32=function(){return 0|v.g(4)},p.quick=function(){return v.g(4)/4294967296},p.double=p,p.state=function(){return(r={}).i=(t=v).i,r.j=t.j,r.S=t.S.slice(),r;var t,r},s(c(v.S),[]),p})),r._RF.push({},"75b9bZa9xRBi4zYPrNVzIKI","seedrandom.min",void 0);var n=256,i=Math.pow(n,6),e=Math.pow(2,52),o=2*e,a=255,u=function(){function t(t){this.i=0,this.j=0,this.S=[];for(var r=t.length?t:[0],i=this.S,e=0;e<n;e++)i[e]=e;for(var o=0,u=0;u<n;u++){var s=i[u];o=a&o+r[u%r.length]+s,i[u]=i[o],i[o]=s}this.g(n)}return t.prototype.g=function(t){for(var r=0,i=this.i,e=this.j,o=this.S,u=0;u<t;u++){var s=o[i=a&i+1];e=a&e+s,o[i]=o[e],o[e]=s,r=r*n+o[a&o[i]+s]}return this.i=i,this.j=e,r},t}();function s(t,r){for(var n=0,i=t+"",e=0;e<i.length;e++)r[a&e]=a&(n^=19*r[a&e])+i.charCodeAt(e);return c(r)}function c(t){return String.fromCharCode.apply(0,t)}function h(t,r){var n=[],i=typeof t;if(r&&"object"===i)for(var e in t)try{n.push(h(t[e],r-1))}catch(t){}return n.length?n:"string"===i?t:t+"\0"}r._RF.pop()}}}));

System.register("chunks:///_virtual/SeedRandom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RandomManager.ts","./seedrandom.min.ts"],(function(n){var t,e,o,s;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.RandomManager},function(n){s=n.default}],execute:function(){e._RF.push({},"61f01QFjGpMDrOsZj5BwgcA","SeedRandom",void 0),e._RF.push({},"9b02bnNwwZEWq9Ft59BRCIB","SeedRandom",void 0);n("SeedRandom",function(){function n(n){this.rm=void 0,this.sr=void 0,this.sr=s(n),this.rm=new o,this.rm.setRandom(this.sr)}return n.prototype.destroy=function(){this.rm=null,this.sr=null},t(n,[{key:"random",get:function(){return this.rm}}]),n}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/SelectLevelPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameEvent.ts","./TableLevelData.ts","./MusicMgr.ts","./ResMgr.ts","./List2.ts","./Tool.ts","./LevelNumberItem.ts"],(function(e){var t,s,i,n,o,a,r,h,l,c,u,f,v,m,p,g,D,I,S,L,T,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,h=e._decorator,l=e.Label,c=e.Node,u=e.lerp,f=e.Vec3},function(e){v=e.oops},function(e){m=e.GameComponent},function(e){p=e.ArchiveManager},function(e){g=e.TouchEvents},function(e){D=e.TableLevelData},function(e){I=e.MusicMgr,S=e.EffectType},function(e){L=e.ResMgr},function(e){T=e.default},function(e){b=e.default},function(e){d=e.LevelNumberItem}],execute:function(){var P,y,x,M,N,R,w,k,X;r._RF.push({},"d2431cvhgxE6oxFvVgJJbej","SelectLevelPage",void 0);var z=h.ccclass,C=h.property;r._RF.push({},"e7fcdG7ymhET6V1MyK4+xHG","SelectLevelPage",void 0);e("SelectLevelPage",(P=z("SelectLevelPage"),y=C(l),x=C(c),M=C(c),P((w=t((R=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).levelDatas=[],i(t,"titleLabel",w,n(t)),i(t,"roomSetParent",k,n(t)),i(t,"levelParent",X,n(t)),t.setIDList=new Map,t.levelNumItemList=new T,t.selectSetID=0,t.isTouchDrag=!1,t.targetX=0,t.moveSpeed=10,t.lastTouchX=0,t}s(t,e);var r=t.prototype;return r.start=function(){this.InitPage(),this.setButton()},r.InitPage=function(){var e=o(a().mark((function e(){var t,s,i,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.levelDatas=L.GetTableData(D.TableName),t=p.gameLevel.data.unlockLevel>=this.levelDatas.length?this.levelDatas.length-1:p.gameLevel.data.unlockLevel,this.selectSetID=this.levelDatas[t].setID,s=0;s<this.levelDatas.length;s++)i=this.levelDatas[s],this.setIDList.has(i.setID)?this.setIDList.get(i.setID).push(s):this.setIDList.set(i.setID,[s]);n=0;case 5:if(!(n<this.setIDList.size)){e.next=13;break}return e.next=8,L.CreatePrefabNodeAsync("pages/home/selectlevel/RoomSetRefrence/RoomSetRefrence_"+n,this);case 8:(o=e.sent)&&o.setParent(this.roomSetParent);case 10:n++,e.next=5;break;case 13:this.on(g.TouchStart,this.onTouchStart,this),this.on(g.TouchMove,this.onTouchMove,this),this.on(g.TouchEnd,this.onTouchEnd,this),this.targetX=-542*this.selectSetID,this.RefreshSetInfo();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e){if(!this.isTouchDrag){var t=this.roomSetParent.position.x,s=u(t,this.targetX,e*this.moveSpeed);this.roomSetParent.position=new f(s,this.roomSetParent.position.y,0),Math.abs(s-this.targetX)<.1&&(this.roomSetParent.position=new f(this.targetX,this.roomSetParent.position.y,0))}},r.CloseBtn=function(){v.gui.removeByNode(this.node),I.PlayEffect(S.UIClick)},r.onTouchStart=function(e,t){this.isTouchDrag=!1,this.lastTouchX=t.x},r.onTouchMove=function(e,t,s){if(this.isTouchDrag=!0,this.isTouchDrag||Math.abs(s.x-this.lastTouchX)>5&&(this.isTouchDrag=!0),this.isTouchDrag){var i=s.x-t.x,n=this.roomSetParent.position.x+i,o=-542*(this.setIDList.size-1),a=Math.max(o,Math.min(n,0));this.roomSetParent.position=new f(a,this.roomSetParent.position.y,0)}},r.onTouchEnd=function(e,t,s){if(this.isTouchDrag){var i=this.roomSetParent.position.x,n=Math.round(-i/542);this.selectSetID=Math.max(0,Math.min(n,this.setIDList.size-1)),this.targetX=-542*this.selectSetID}else t.x>0?this.selectSetID=Math.min(this.selectSetID+1,this.setIDList.size-1):this.selectSetID=Math.max(this.selectSetID-1,0),this.targetX=-542*this.selectSetID;this.isTouchDrag=!1,this.RefreshSetInfo()},r.RefreshSetInfo=function(){var e=o(a().mark((function e(){var t,s,i,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.titleLabel.string="第"+b.NumberToChinese(this.selectSetID+1)+"套",t=this.setIDList.get(this.selectSetID),s=this.levelNumItemList.Count;case 3:if(!(s<t.length)){e.next=12;break}return e.next=6,L.CreatePrefabNodeAsync("pages/home/selectlevel/LevelNumberItem",this);case 6:(i=e.sent).setParent(this.levelParent),this.levelNumItemList.Add(i.getComponent(d)),s++,e.next=3;break;case 12:for(n=0;n<this.levelNumItemList.length;n++)o=this.levelNumItemList[n],n<t.length?(o.node.active=!0,o.InitLevel(t[n])):o.node.active=!1;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(m)).prototype,"titleLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(R.prototype,"roomSetParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(R.prototype,"levelParent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=R))||N));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Selector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){o._RF.push({},"2c6a5uh1oRLaJkgBJ2ql41b","Selector",void 0),o._RF.push({},"90470XqT/FGHo/PRQktLcYy","Selector",void 0);t("Selector",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var c=o.prototype;return c.success=function(){t.prototype.success.call(this),this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},c._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},o}(c));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/Sequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){e._RF.push({},"0acfaGj9QBMDYdUVx7fdkGz","Sequence",void 0),e._RF.push({},"1ef80bgYZBPXqCDIpzHpbBJ","Sequence",void 0);t("Sequence",function(t){function e(n){return t.call(this,n)||this}n(e,t);var c=e.prototype;return c.success=function(){t.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._control.fail()},c._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(c));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/SetupPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DelegateComponent.ts","./Oops.ts","./GameComponent.ts","./GameEnum.ts","./GameEvent.ts","./GameUIConfig.ts","./PlatformMgr.ts","./UmengMgr.ts","./MusicMgr.ts","./AwaitDelay.ts"],(function(e){var i,t,n,r,o,a,l,u,c,s,f,g,p,m,h,b,d,v,y,B,w,P,S,R,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.UITransform,s=e.Slider,f=e.Sprite,g=e.Node,p=e.Vec3},function(e){m=e.DelegateComponent},function(e){h=e.oops},function(e){b=e.GameComponent},function(e){d=e.PlatformType,v=e.UmengEventID},function(e){y=e.GameEvent},function(e){B=e.UIID},function(e){w=e.PlatformMgr},function(e){P=e.UmengMgr},function(e){S=e.MusicMgr,R=e.EffectType},function(e){I=e.AwaitDelay}],execute:function(){var U,C,E,M,z,L,V,D,G,H,T,k,_,A,F,N,x,j,W,Y,O,X,Z,q,J;l._RF.push({},"5d6adYfXeBLcZeyGwtyrgnh","SetupPageView",void 0);var K=u.ccclass,Q=u.property;l._RF.push({},"91505CW5YdMd6Dnmjm/Uyev","SetupPageView",void 0);e("SetupPageView",(U=K("SetupPageView"),C=Q(c),E=Q(c),M=Q(s),z=Q(f),L=Q(s),V=Q(f),D=Q(g),G=Q(f),H=Q(g),T=Q(g),k=Q(g),U((F=i((A=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"contentUI",F,r(i)),n(i,"listUI",N,r(i)),n(i,"effectSlider",x,r(i)),n(i,"effectBar",j,r(i)),n(i,"musicSlider",W,r(i)),n(i,"musicBar",Y,r(i)),n(i,"vibrationHandle",O,r(i)),n(i,"vibrationBar",X,r(i)),n(i,"gameClueBtn",Z,r(i)),n(i,"gameLevelBtn",q,r(i)),n(i,"protocolLabel",J,r(i)),i}t(i,e);var l=i.prototype;return l.start=function(){var e;w.currPlatform==d.抖音?this.protocolLabel.active=!1:this.protocolLabel.active=!0,this.RefreshPage(),this.effectSlider.node.on("slide",this.EffectSliderChanging,this),this.musicSlider.node.on("slide",this.MusicSliderChanging,this),this.setButton(),this.gameLevelBtn.active=null==(e=this.getComponent(m))?void 0:e.vp.params.gameLevel,this.RefreshLayout(),P.Instance.TrackEventByID(v.setting)},l.RefreshLayout=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.WaitingTime(.01);case 2:this.contentUI.width=this.listUI.width+144,this.contentUI.height=this.listUI.height+188;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.RefreshPage=function(){this.effectSlider.progress=h.audio.volumeEffect,this.effectBar.fillRange=h.audio.volumeEffect,this.musicSlider.progress=h.audio.volumeMusic,this.musicBar.fillRange=h.audio.volumeMusic,this.vibrationHandle.position=S.isVibration?new p(20,0,0):new p(-20,0,0),this.vibrationBar.fillRange=S.isVibration?1:0},l.EffectSliderChanging=function(){this.effectBar.fillRange=this.effectSlider.progress,h.audio.volumeEffect=this.effectBar.fillRange},l.MusicSliderChanging=function(){this.musicBar.fillRange=this.musicSlider.progress,h.audio.volumeMusic=this.musicBar.fillRange},l.SwitchVibration=function(){S.isVibration=!S.isVibration,this.vibrationHandle.position=S.isVibration?new p(20,0,0):new p(-20,0,0),this.vibrationBar.fillRange=S.isVibration?1:0},l.CloseBtn=function(){h.gui.removeByNode(this.node),this.dispatchEvent(y.GameResume),S.PlayEffect(R.UIClick)},l.ReturnHomeBtn=function(){h.gui.open(B.ReturnHomePage),h.gui.removeByNode(this.node,!1),S.PlayEffect(R.UIClick)},l.AgainBtn=function(){h.gui.open(B.AgainGamePage),h.gui.removeByNode(this.node,!1),S.PlayEffect(R.UIClick)},l.PrivacyPolicyBtn=function(){console.log("点击隐私政策"),h.gui.open(B.PrivacyPolicyPage)},i}(b)).prototype,"contentUI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(A.prototype,"listUI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(A.prototype,"effectSlider",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(A.prototype,"effectBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(A.prototype,"musicSlider",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(A.prototype,"musicBar",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(A.prototype,"vibrationHandle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(A.prototype,"vibrationBar",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(A.prototype,"gameClueBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(A.prototype,"gameLevelBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(A.prototype,"protocolLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/ShareManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEnum.ts","./PlatformMgr.ts"],(function(e){var n,r,t,a,o,i;return{setters:[function(e){n=e.createClass},function(e){r=e.cclegacy,t=e._decorator},function(e){a=e.oops},function(e){o=e.GetShareTitle},function(e){i=e.PlatformMgr}],execute:function(){var s,c;r._RF.push({},"79eecMpAAZF8LnnLPW/VWOa","ShareManager",void 0);var u=t.ccclass;t.property;r._RF.push({},"832c4rTmm9P2L4QgJFNde4w","ShareManager",void 0);e("ShareManager",u("ShareManager")(((c=function(){function e(){}return e.ShareGame=function(e,n,r){if(void 0===e&&(e=""),void 0===n&&(n=null),void 0===r&&(r=-1),""==e&&(e=o()),1==r||-1==r&&i.platformAPI.isShaderVideo&&a.random.getRandomFloat(0,100)<50){var t=o();i.platformAPI.ShareVideo(e,t,n)}else i.platformAPI.ShareAppMessage(e,n)},n(e,null,[{key:"Instance",get:function(){return null==this._inst&&(this._inst=new e),this._inst}}]),e}())._inst=void 0,s=c))||s);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/ShareVideoPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./MusicMgr.ts","./ToastMgr.ts","./ItemArchive.ts","./GameEnum.ts","./GameGeneralConfig.ts","./RewardInfo.ts","./ShareManager.ts"],(function(e){var n,t,o,i,a,r,c,s,u,f,h,l,d,p,C,g;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.find,a=e.Button},function(e){r=e.GameComponent},function(e){c=e.MusicMgr,s=e.EffectType},function(e){u=e.ToastMgr},function(e){f=e.ItemArchive},function(e){h=e.GetShareTitle,l=e.ItemType,d=e.MoneyType},function(e){p=e.GameGeneralConfig},function(e){C=e.RewardInfo},function(e){g=e.ShareManager}],execute:function(){var S;t._RF.push({},"d80ffl4u8lHIqhbfH+2gMG6","ShareVideoPage",void 0);var y=o.ccclass;o.property;t._RF.push({},"558ecjmEONAnZEK0pEQcdoK","ShareVideoPage",void 0);e("ShareVideoPage",y("ShareVideoPage")(S=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onLoad=function(){var e=i("CloseBtn",this.node);null==e||e.on(a.EventType.CLICK,this.OnClickCloseBtn,this);var n=i("ContentUI/ShareBtn",this.node);null==n||n.on(a.EventType.CLICK,this.OnClickShare,this)},o.OnClickShare=function(){var e=this;console.log("点击分享录屏"),g.ShareGame(h(),(function(n){n&&e.ShareReward()})),c.PlayEffect(s.UIClick)},o.ShareReward=function(){u.AddMessage("分享成功"),f.AddRewarwdList(new C({type:l.货币,part:0,id:d.金币},p.Share_RewardCoin)),this.OnClickCloseBtn()},o.OnClickCloseBtn=function(){this.node.destroy(),c.PlayEffect(s.UIClick)},t}(r))||S);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/SidebarPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./ItemInfo.ts","./PlatformMgr.ts","./RewardInfo.ts","./GameMgr.ts","./MusicMgr.ts"],(function(e){var t,n,i,r,o,a,c,l,u,f,s,d,p,v,m,g,b,y,h,B,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.Node},function(e){u=e.oops},function(e){f=e.GameComponent},function(e){s=e.ArchiveManager},function(e){d=e.ItemType,p=e.MoneyType},function(e){v=e.SDKEvent},function(e){m=e.GameGeneralConfig},function(e){g=e.ItemInfo},function(e){b=e.PlatformMgr},function(e){y=e.RewardInfo},function(e){h=e.GameMgr},function(e){B=e.MusicMgr,w=e.EffectType}],execute:function(){var E,I,P,S,R,M,C,G,A,_,L;o._RF.push({},"8f11e1LG3BAC6wuhEMdZ9yV","SidebarPage",void 0);var k=a.ccclass,z=a.property;o._RF.push({},"d4cb8/AYk5P2Z1wET2nEMR/","SidebarPage",void 0);e("SidebarPage",(E=k("SidebarPage"),I=z(c),P=z(l),S=z(l),R=z(l),E((G=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"coinLabel",G,r(t)),i(t,"gotoBtn",A,r(t)),i(t,"receiveBtn",_,r(t)),i(t,"receivedBtn",L,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.gotoBtn.active=!1,this.receiveBtn.active=!1,this.receivedBtn.active=!1,this.coinLabel.string="x"+m.Share_RewardCoin,b.platformAPI.CheckEntryIsAvailable((function(t){t||u.gui.removeByNode(e.node)})),b.platformAPI.sidebarEntry?s.platform.data.isReceiveSidebar?this.receivedBtn.active=!0:this.receiveBtn.active=!0:this.gotoBtn.active=!0,this.setButton()},o.CloseBtn=function(){u.gui.removeByNode(this.node),B.PlayEffect(w.UIClick)},o.GotoBtn=function(){u.gui.removeByNode(this.node),b.platformAPI.JumpToEntry(),B.PlayEffect(w.UIClick)},o.ReceiveBtn=function(){if(b.platformAPI.sidebarEntry&&!s.platform.data.isReceiveSidebar){s.platform.data.isReceiveSidebar=!0,s.platform.Save();var e=new g(d.货币,0,p.金币),t=new y(e,m.Share_RewardCoin);e.add(m.Share_RewardCoin),h.rewardEff.ShowItemFlying(t),u.message.dispatchEvent(v.SidebarEntryReward)}u.gui.removeByNode(this.node),B.PlayEffect(w.UIClick)},t}(f)).prototype,"coinLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"gotoBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(C.prototype,"receiveBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(C.prototype,"receivedBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SignInArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var t,i,n,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){a=e.GameStorageConfig},function(e){r=e.ArchiveBase}],execute:function(){var s;i._RF.push({},"f70fe8kzRpBfp5j+wGQkWli","SignInArchive",void 0);var o=n.ccclass;n.property;i._RF.push({},"59e40sqb1NJ2aEOVPQl/hSK","SignInArchive",void 0);e("SignInArchive",o("SignInArchive")(s=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).key=a.SignInArchive,t.defaultData={signInDay:0,dayBoxStage:0,dayBoxReceiveList:[0,0,0,0,0],loggedList:[]},t.data=t.defaultData,t}t(i,e);var n=i.prototype;return n.DailyRefresh=function(){this.data.signInDay+=1,8==this.data.signInDay&&(this.data.signInDay=1,this.data.loggedList=[]),this.Save()},n.WeeklyRefresh=function(){this.Save()},i}(r))||s);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SigninItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ItemArchive.ts","./ArchiveManager.ts","./GameEnum.ts","./AdsManager.ts","./UmengMgr.ts","./RewardInfo.ts","./RewardItem.ts","./MusicMgr.ts","./List2.ts"],(function(e){var t,i,n,r,a,s,o,c,u,d,l,f,h,g,p,m,I,w,v,y,b,L,B,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,u=e.Label,d=e.Node},function(e){l=e.GameComponent},function(e){f=e.ItemArchive},function(e){h=e.ArchiveManager},function(e){g=e.ItemType,p=e.MoneyType,m=e.UmengEventID,I=e.Bundle},function(e){w=e.AdsManager},function(e){v=e.UmengMgr},function(e){y=e.RewardData},function(e){b=e.RewardItem},function(e){L=e.MusicMgr,B=e.EffectType},function(e){R=e.default}],execute:function(){var D,P,S,M,A,k,x,z,N,T,_,C,E;o._RF.push({},"d060bKB47pB155GNR5Qdf9I","SigninItem",void 0);var G=c.ccclass,F=c.property;o._RF.push({},"784b6oQZ45B0JHzVkCljPeb","SigninItem",void 0);e("SigninItem",(D=G("SigninItem"),P=F(u),S=F(d),M=F(d),A=F(d),k=F(d),D((N=t((z=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).signinPage=null,t.id=0,t.signInData=null,t.rewardInfoList=new R,n(t,"titleLabel",N,r(t)),n(t,"currDayBox",T,r(t)),n(t,"finishNode",_,r(t)),n(t,"repairSinginBtn",C,r(t)),n(t,"rewardItemParent",E,r(t)),t.rewardItemList=new R,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.setButton()},o.InitItem=function(){var e=a(s().mark((function e(t,i){var n,r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.id=t,this.signInData=i,this.titleLabel.string=this.signInData.name,this.rewardInfoList=y.ParseList(this.signInData.rewardList),n=this.rewardItemList.length;case 5:if(!(n<this.rewardInfoList.length)){e.next=14;break}return e.next=8,this.createPrefabNodeAsync("pages/common/reward/RewardItem",I.prefabTest);case 8:(r=e.sent).setParent(this.rewardItemParent),this.rewardItemList.Add(r.getComponent(b)),n++,e.next=5;break;case 14:for(a=0;a<this.rewardItemList.length;a++)o=this.rewardItemList[a],a<this.rewardInfoList.Count?(o.node.active=!0,o.InitItem(this.rewardInfoList[a])):o.node.active=!1;this.RefreshItem();case 16:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}(),o.RefreshItem=function(){this.currDayBox.active=!1,this.finishNode.active=!1,this.repairSinginBtn.active=!1,this.id<=this.signinPage.currWeekday&&(this.signinPage.currWeekday==this.id?(this.currDayBox.active=!0,this.finishNode.active=h.signin.data.loggedList.includes(this.id)):h.signin.data.loggedList.includes(this.id)?this.finishNode.active=!0:this.repairSinginBtn.active=!0)},o.RepairSinginBtn=function(){var e=this;w.Instance.ShowVideoAds((function(){f.AddRewarwdList(e.rewardInfoList),h.signin.data.loggedList.push(e.id),h.signin.Save(),e.RefreshItem();var t=e.rewardInfoList,i=t.some((function(e){return e.type===g.货币&&e.id===p.金币})),n=t.some((function(e){return e.type===g.货币&&e.id===p.体力}));i&&v.Instance.TrackEventByID(m.role_video),n&&v.Instance.TrackEventByID(m.vit_video)})),L.PlayEffect(B.UIClick)},t}(l)).prototype,"titleLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"currDayBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"finishNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(z.prototype,"repairSinginBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"rewardItemParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=z))||x));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SignInPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./ArchiveManager.ts","./GameEnum.ts","./TableSignInData.ts","./AdsManager.ts","./PlatformMgr.ts","./UmengMgr.ts","./RedDotManager.ts","./RedDotNodeNames.ts","./MusicMgr.ts","./ResMgr.ts","./AwaitDelay.ts","./DateUtils.ts","./List2.ts","./SigninItem.ts"],(function(e){var n,t,i,o,s,a,r,c,u,g,l,f,h,d,I,m,v,y,D,p,w,T,k,R,b,B,C,P,M,S,A;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,u=e.Label,g=e.Node,l=e.find},function(e){f=e.oops},function(e){h=e.GameComponent},function(e){d=e.ItemArchive},function(e){I=e.ArchiveManager},function(e){m=e.UmengEventID,v=e.ItemType,y=e.MoneyType},function(e){D=e.TableSignInData},function(e){p=e.AdsManager},function(e){w=e.PlatformMgr},function(e){T=e.UmengMgr},function(e){k=e.RedDotManager},function(e){R=e.RedDotNodeNames},function(e){b=e.MusicMgr,B=e.EffectType},function(e){C=e.ResMgr},function(e){P=e.AwaitDelay},function(e){M=e.DateUtils},function(e){S=e.default},function(e){A=e.SigninItem}],execute:function(){var L,N,W,E,U,_,V;r._RF.push({},"12b8ehioZtPmpwwIDVAiH65","SignInPageView",void 0);var G=c.ccclass,F=c.property;r._RF.push({},"5df54BQt41JrZ4qZZhyW77g","SignInPageView",void 0);e("SignInPageView",(L=G("SignInPageView"),N=F(u),W=F(g),L((_=n((U=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(n=e.call.apply(e,[this].concat(s))||this).currWeekday=0,n.countDownsTimer=void 0,i(n,"countDownsLabel",_,o(n)),n.signInData=null,n.signInItem=new S,i(n,"btnParent",V,o(n)),n.isClickClose=!1,n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.signInData=C.GetTableData(D.TableName);var e=l("ContentUI/BtnList",this.node);if(e)for(var n=0;n<e.children.length;n++){var t=e.children[n].getComponent(A);t&&(t.signinPage=this,this.signInItem.Add(t))}this.setButton()},r.start=function(){var e=I.signin.data.signInDay-1;this.currWeekday=e,console.log("今日第：",this.currWeekday+1,"天"),this.InitPage(),this.ShowCountDown(),this.CountDownTimeout()},r.onDisable=function(){this.countDownsTimer&&clearTimeout(this.countDownsTimer),k.Instance.Refresh(R.GameSignin)},r.CountDownTimeout=function(){var e=this;this.countDownsTimer=setTimeout((function(){e.ShowCountDown(),e.CountDownTimeout()}),2e4)},r.ShowCountDown=function(){var e=I.Instance.calculateMsToNextDay();this.countDownsLabel.string="下次签到倒计时："+M.CountdownFormat(e/1e3,"h时m分")},r.InitPage=function(){for(var e=0;e<this.signInItem.length;e++){var n=this.signInItem[e];e<this.signInData.length?(n.node.active=!0,n.InitItem(e,this.signInData[e])):n.node.active=!1}this.RefreshBtn()},r.RefreshBtn=function(){this.btnParent.active=!I.signin.data.loggedList.includes(this.currWeekday)},r.ReceiveBtn=function(){this.signInItem[this.currWeekday]&&(this.ReceiveSuccess(1),T.Instance.TrackEventByID(m.sign)),b.PlayEffect(B.UIClick)},r.MistakeTouchBtn=function(){this.DoubleReceiveBtn()},r.DoubleReceiveBtn=function(){var e=this;this.signInItem[this.currWeekday]?p.Instance.ShowVideoAds({success:function(){e.ReceiveSuccess(2);var n=e.signInItem[e.currWeekday].rewardInfoList,t=n.some((function(e){return e.type===v.货币&&e.id===y.金币})),i=n.some((function(e){return e.type===v.货币&&e.id===y.体力}));t&&T.Instance.TrackEventByID(m.role_video),i&&T.Instance.TrackEventByID(m.vit_video),T.Instance.TrackEventByID(m.sign_video),f.gui.removeByNode(e.node)},fail:function(){e.isClickClose&&f.gui.removeByNode(e.node)},cancel:function(){f.gui.removeByNode(e.node)}}):f.gui.removeByNode(this.node),b.PlayEffect(B.UIClick)},r.ReceiveSuccess=function(e){d.AddRewarwdList(this.signInItem[this.currWeekday].rewardInfoList,{multiple:e}),I.signin.data.loggedList.push(this.currWeekday),I.signin.Save(),this.RefreshBtn(),this.signInItem[this.currWeekday].RefreshItem()},r.CloseBtn=function(){f.gui.removeByNode(this.node),b.PlayEffect(B.UIClick)},r.CheckClose=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.WaitingTime(.1);case 2:w.platformAPI.isPlayingAds||f.gui.removeByNode(this.node);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n}(h)).prototype,"countDownsLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(U.prototype,"btnParent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=U))||E));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonModuleComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts"],(function(n){var e,o,t;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy},function(n){t=n.ecs}],execute:function(){var i;o._RF.push({},"d46d6wyYO9CuIkFALfYxeAw","SingletonModuleComp",void 0),o._RF.push({},"17a56vOVQFMMarANxr6JvP7","SingletonModuleComp",void 0);var l=n("SingletonModuleComp",t.register("SingletonModule")(i=function(n){function o(){for(var e,o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=n.call.apply(n,[this].concat(t))||this).initialize=null,e.account=null,e}return e(o,n),o.prototype.reset=function(){},o}(t.Comp))||i);n("smc",t.getSingleton(l));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SpineFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){var i,t,n,s,o,r,a,p,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.sp,p=e.Component},function(e){l=e.oops}],execute:function(){var h,c,u;o._RF.push({},"96fd8XgZ2FLa5JKSVd8Tssu","SpineFinishedRelease",void 0);var d=r.ccclass,f=r.property;o._RF.push({},"9589eKB/RZKXpxoYhz5SyC7","SpineFinishedRelease",void 0);e("SpineFinishedRelease",d("SpineFinishedRelease")((u=i((c=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"isDestroy",u,s(i)),i.spine=void 0,i.resPath=null,i}t(i,e);var o=i.prototype;return o.setResPath=function(e){this.resPath=e},o.onLoad=function(){var e=this;this.spine=this.getComponent(a.Skeleton),this.spine.setCompleteListener(this.onSpineComplete.bind(this)),this.resPath?l.res.load(this.resPath,a.SkeletonData,(function(i,t){i?console.error("加载【"+e.resPath+"】的 SPINE 资源不存在"):(e.spine.skeletonData=t,e.spine.setAnimation(0,"animation",!1))})):this.spine.setAnimation(0,"animation",!1)},o.onSpineComplete=function(){this.isDestroy?this.node.destroy():this.node.removeFromParent()},i}(p)).prototype,"isDestroy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=c))||h);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/StateArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(t){var e,a,r,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator},function(t){c=t.GameStorageConfig},function(t){i=t.ArchiveBase}],execute:function(){var n;a._RF.push({},"52d4cm6bARD6LJIVTUkhwOG","StateArchive",void 0);var o=r.ccclass;r.property;a._RF.push({},"f286cqaU6pMaKu44zRlHTZT","StateArchive",void 0);t("StateArchive",o("StateArchive")(n=function(t){function a(){for(var e,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).key=c.StateArchive,e.defaultData={lastLoginTime:0,staminaLastUpdateTime:0},e.data=e.defaultData,e}return e(a,t),a}(i))||n);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/StateRecoveryManager.ts",["cc","./ArchiveManager.ts","./GameEnum.ts","./GameGeneralConfig.ts","./ItemInfo.ts"],(function(a){var e,t,n,r,i,o,c;return{setters:[function(a){e=a.cclegacy,t=a._decorator},function(a){n=a.ArchiveManager},function(a){r=a.ItemType,i=a.MoneyType},function(a){o=a.GameGeneralConfig},function(a){c=a.ItemInfo}],execute:function(){var s;e._RF.push({},"b868fd6uXRBeoPc0mzbjzcu","StateRecoveryManager",void 0);var m=t.ccclass;t.property;e._RF.push({},"15453fQhq1LFaXmDLvIEdYv","StateRecoveryManager",void 0);a("StateRecoveryManager",m("StateRecoveryManager")(s=function(){function a(){}return a.updateStamina=function(){var a=Date.now();a<=n.state.data.staminaLastUpdateTime&&(n.state.data.staminaLastUpdateTime=a-1,n.state.Save());var e=(a-n.state.data.staminaLastUpdateTime)/1e3,t=Math.floor(e/o.Stamina_RecoveryTime);if(t>0){var s=new c(r.货币,0,i.体力);if(s.count>=o.Max_Stamina)return;n.state.data.staminaLastUpdateTime+=t*o.Stamina_RecoveryTime*1e3,s.count=Math.min(o.Max_Stamina,t+s.count),n.state.Save()}},a}())||s);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/StorageBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./GameEvent.ts","./GameMgr.ts","./MusicMgr.ts","./ToastMgr.ts"],(function(o){var t,n,e,i,s,a,l,c,r,u,h,p,g,d,x,O,f,B;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){s=o.cclegacy,a=o._decorator,l=o.Animation,c=o.Node,r=o.Label,u=o.Vec3,h=o.Input},function(o){p=o.oops},function(o){g=o.GameComponent},function(o){d=o.GameLevelEvent},function(o){x=o.GameMgr},function(o){O=o.MusicMgr,f=o.EffectType},function(o){B=o.ToastMgr}],execute:function(){var S,v,b,T,C,m,y,w,E;s._RF.push({},"ed16aEnMLpCurYVpBSTp/Ba","StorageBox",void 0);var U=a.ccclass,A=a.property;s._RF.push({},"aba45tuOUNG2K5QoBEwG1Ib","StorageBox",void 0);o("StorageBox",(S=U("StorageBox"),v=A(l),b=A(c),T=A(r),S((y=t((m=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=o.call.apply(o,[this].concat(s))||this,e(t,"boxAni",y,i(t)),t.isOpen=!1,t.isOpening=!1,e(t,"handGuide",w,i(t)),t.showTime=0,t.countLimit=0,e(t,"numLabel",E,i(t)),t.canTakenOutCount=0,t.unplacedCount=0,t}n(t,o);var s=t.prototype;return s.onLoad=function(){this.node.active=!1,this.on(d.ShowStorageBox,this.ShowBox,this)},s.PlaceItemRight=function(){this.UpdatePlaceLimit()},s.ShowBox=function(o,t){var n,e,i,s,a,l;console.log("[StorageBox] ShowBox called, boxAni=",this.boxAni,"boxEntityCount=",x.levelView.data.boxEntityCount),console.log("[StorageBox] StoragePoint worldPos=",null==t||null==(n=t.x)?void 0:n.toFixed(0),null==t||null==(e=t.y)?void 0:e.toFixed(0),null==t||null==(i=t.z)?void 0:i.toFixed(0)),console.log("[StorageBox] parent=",null==(s=this.node.parent)?void 0:s.name,"parent worldPos=",null==(a=this.node.parent)?void 0:a.worldPosition),this.node.active=!0;var c=new u(t.x,t.y,t.z);this.node.worldPosition=c,console.log("[StorageBox] after set, node localPos=",this.node.position.x.toFixed(0),this.node.position.y.toFixed(0)),console.log("[StorageBox] after set, node worldPos=",this.node.worldPosition.x.toFixed(0),this.node.worldPosition.y.toFixed(0)),this.isOpen=!1,this.isOpening=!1,null==(l=this.boxAni)||l.play("StorageBoxInit"),this.numLabel.string=x.levelView.data.boxEntityCount.toString(),this.countLimit=0,this.UpdatePlaceLimit()},s.onEnable=function(){console.log("[StorageBox] onEnable - registering touch events"),this.node.on(h.EventType.TOUCH_START,this.onTouchDown,this),this.node.on(h.EventType.TOUCH_END,this.onTouchUp,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchUp,this),this.handGuide.active=!0,this.on(d.PlaceItemRight,this.PlaceItemRight,this)},s.onDisable=function(){this.node.off(h.EventType.TOUCH_START,this.onTouchDown,this),this.node.off(h.EventType.TOUCH_END,this.onTouchUp,this),this.node.off(h.EventType.TOUCH_CANCEL,this.onTouchUp,this),this.off(d.PlaceItemRight)},s.CreateItem=function(){console.log("[StorageBox] CreateItem - canTakenOut=",this.canTakenOutCount,"unplaced=",this.unplacedCount,"boxEntityCount=",x.levelView.data.boxEntityCount),this.canTakenOutCount<=0&&0!=this.unplacedCount?(console.log("[StorageBox] -> Blocked: finish current items first"),B.AddMessage("请完成当前物品的收纳\n再来领取新物品哦")):(p.message.dispatchEvent(d.ClickStorageBox,this.node.worldPosition),x.levelView.data.boxEntityCount<=0&&(this.node.active=!1),this.numLabel.string=x.levelView.data.boxEntityCount.toString(),this.UpdatePlaceLimit(),O.PlayEffect(f.UIClick))},s.UpdatePlaceLimit=function(){var o=x.levelView.data.totalCount-x.levelView.data.boxEntityCount;this.canTakenOutCount=this.countLimit-o,this.unplacedCount=o-x.levelView.data.placeCount,console.log("取出数量限制：",this.canTakenOutCount),this.canTakenOutCount<=0?this.unplacedCount<=0?(this.countLimit=o+5,this.handGuide.active=!0):this.handGuide.active=!1:this.handGuide.active=!0},s.onTouchDown=function(){var o;(console.log("[StorageBox] onTouchDown - isOpening=",this.isOpening,"isOpen=",this.isOpen),this.isOpening)||(null==(o=this.boxAni)||o.play("StorageBoxDown"))},s.OpenBox=function(){var o=this;if(console.log("[StorageBox] OpenBox - boxAni=",this.boxAni),this.isOpening=!0,this.boxAni){var t=this.boxAni.getState("StorageBoxOpen");console.log("[StorageBox] StorageBoxOpen clip state=",t,"duration=",null==t?void 0:t.duration),t&&t.duration>0?(this.boxAni.play("StorageBoxOpen"),this.boxAni.once(l.EventType.FINISHED,(function(){console.log("[StorageBox] StorageBoxOpen FINISHED"),o.unschedule(o.openBoxFallback),o.isOpen=!0,o.isOpening=!1,o.onTouchUp()})),this.scheduleOnce(this.openBoxFallback,2)):(console.log("[StorageBox] clip StorageBoxOpen not found or 0 duration, fallback"),this.isOpen=!0,this.isOpening=!1,this.onTouchUp())}else console.log("[StorageBox] No boxAni, fallback direct open"),this.isOpen=!0,this.isOpening=!1,this.onTouchUp()},s.openBoxFallback=function(){console.log("[StorageBox] FALLBACK: animation FINISHED never fired, force open"),this.isOpen=!0,this.isOpening=!1,this.onTouchUp()},s.onTouchUp=function(){var o;(console.log("[StorageBox] onTouchUp - isOpen=",this.isOpen,"isOpening=",this.isOpening),this.isOpen||this.isOpening)?this.isOpen&&!this.isOpening?(console.log("[StorageBox] -> CreateItem()"),this.CreateItem(),null==(o=this.boxAni)||o.play("StorageBoxUp")):console.log("[StorageBox] -> STUCK: isOpen=",this.isOpen,"isOpening=",this.isOpening):(console.log("[StorageBox] -> OpenBox()"),this.OpenBox())},t}(g)).prototype,"boxAni",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(m.prototype,"handGuide",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(m.prototype,"numLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env.ts"],(function(e){var t,r,n,o;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy,n=e.sys},function(e){o=e.PREVIEW}],execute:function(){r._RF.push({},"15c39+G2Q5NjJOyceHkbcT8","StorageManager",void 0),r._RF.push({},"ed226gLF85Oyr+WhA9TJZLX","StorageManager",void 0);e("StorageManager",function(){function e(){this.id=null,this.iss=null}var r=e.prototype;return r.init=function(e){this.iss=e},r.setUser=function(e){this.id=e},r.set=function(e,t){var r=this.getKey(e);if(null!=e){if(this.encrypted&&(r=this.iss.encryptKey(r)),null==t)return console.warn("存储的值为空，则直接移除该存储"),void this.remove(e);if("function"!=typeof t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(e){return void console.error("解析失败，str = "+t)}else"number"==typeof t?t+="":"boolean"==typeof t&&(t=String(t));this.encrypted&&(t=this.iss.encrypt(t)),n.localStorage.setItem(r,t)}else console.error("储存的值不能为方法")}else console.error("存储的key不能为空")},r.get=function(e,t){if(void 0===t&&(t=""),null==e)return console.error("存储的key不能为空"),null;var r=this.getKey(e);this.encrypted&&(r=this.iss.encryptKey(r));var o=n.localStorage.getItem(r);return o?(null!=o&&""!==o&&this.encrypted&&(o=this.iss.decrypt(o)),o):t},r.getNumber=function(e,t){void 0===t&&(t=0);var r=this.get(e);return"0"===r?Number(r):Number(r)||t},r.getBoolean=function(e){return"true"===this.get(e).toLowerCase()},r.getJson=function(e,t){var r=this.get(e);return r&&JSON.parse(r)||t},r.remove=function(e){if(null!=e){var t=this.getKey(e);this.encrypted&&(t=this.iss.encryptKey(t)),n.localStorage.removeItem(t)}else console.error("存储的key不能为空")},r.clear=function(){n.localStorage.clear()},r.getKey=function(e){return null==this.id||""==this.id?e:this.id+"_"+e},t(e,[{key:"encrypted",get:function(){return!o}}]),e}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/StoragePoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts"],(function(o){var t,n,e,i,r,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Component},function(o){r=o.oops},function(o){s=o.GameLevelEvent}],execute:function(){var c;n._RF.push({},"0941830Kc9LwaJyKV4kvvSH","StoragePoint",void 0);var a=e.ccclass;e.property;n._RF.push({},"0fc66dlT1ZOy42VoAHoipjJ","StoragePoint",void 0);o("StoragePoint",a("StoragePoint")(c=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.InitPoint=function(){r.message.dispatchEvent(s.ShowStorageBox,this.node.worldPosition)},n}(i))||c);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/StorageSecurityCrypto.ts",["cc","./Oops.ts","./EncryptUtil.ts"],(function(t){var r,e,i;return{setters:[function(t){r=t.cclegacy},function(t){e=t.oops},function(t){i=t.EncryptUtil}],execute:function(){r._RF.push({},"9f9a7rcY4dOt7b3T3b9LQ30","StorageSecurityCrypto",void 0),r._RF.push({},"fbbbdioMCNOmI7KMEU46FfN","StorageSecurityCrypto",void 0);t("StorageSecurityCrypto",function(){function t(){this._key=null,this._iv=null;var t=e.config.game.localDataKey,r=e.config.game.localDataIv;i.initCrypto(t,r),this._key=i.md5(t),this._iv=i.md5(r)}var r=t.prototype;return r.decrypt=function(t){return i.aesDecrypt(t,this._key,this._iv)},r.encrypt=function(t){return i.aesEncrypt(t,this._key,this._iv)},r.encryptKey=function(t){return i.md5(t)},t}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageSecuritySimple.ts",["cc","./Oops.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.oops}],execute:function(){t._RF.push({},"66a28xuAD5FBar93cQrBXSB","StorageSecuritySimple",void 0),t._RF.push({},"386e3+fu+RJB5VSgow0kwS4","StorageSecuritySimple",void 0);e("StorageSecuritySimple",function(){function e(){this.secretkey=null;var e=r.config.game.localDataKey,t=r.config.game.localDataIv;this.secretkey=e+t}var t=e.prototype;return t.encrypt=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^this.secretkey.charCodeAt(r%this.secretkey.length));return t},t.decrypt=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^this.secretkey.charCodeAt(r%this.secretkey.length));return t},t.encryptKey=function(e){return this.encrypt(e)},e}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/StrengthBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MusicMgr.ts","./StateRecoveryManager.ts","./DateUtils.ts","./ArchiveManager.ts","./GameEnum.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./ItemCountBox.ts"],(function(t){var e,n,i,o,a,s,r,c,u,h,l,f,p,m,g,d,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Label},function(t){c=t.oops},function(t){u=t.MusicMgr,h=t.EffectType},function(t){l=t.StateRecoveryManager},function(t){f=t.DateUtils},function(t){p=t.ArchiveManager},function(t){m=t.ItemType,g=t.MoneyType},function(t){d=t.GameGeneralConfig},function(t){y=t.UIID},function(t){S=t.ItemCountBox}],execute:function(){var v,x,D,b,B;a._RF.push({},"4ce251H1JxHebf6j8oYQm9Q","StrengthBox",void 0);var R=s.ccclass,C=s.property;a._RF.push({},"58382xIxVBGEKCIkiidfLvn","StrengthBox",void 0);t("StrengthBox",(v=R("StrengthBox"),x=C(r),v((B=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"timeLabel",B,o(e)),e.isFull=!1,e.lastTime=0,e.coundDown=0,e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.itemType=m.货币,this.itemPart=0,this.itemID=g.体力,t.prototype.onLoad.call(this),this.setGameShow()},a.onEnable=function(){t.prototype.onEnable.call(this),this.UpdateTime(),this.schedule(this.UpdateTime,1)},a.onGameShow=function(){this.RefreshStrength()},a.onDisable=function(){t.prototype.onDisable.call(this),this.unschedule(this.UpdateTime)},a.UpdateTime=function(){this.isFull||(this.coundDown-=1,this.coundDown<=0?this.RefreshStrength():this.timeLabel.string=f.CountdownFormat(this.coundDown,"m:s"))},a.RefreshStrength=function(){l.updateStamina(),this.RefreshBox()},a.RefreshBox=function(){if(this.itemInfo.count>=d.Max_Stamina)this.isFull=!0,this.timeLabel.string="已满";else{this.isFull=!1;var t=(Date.now()-p.state.data.staminaLastUpdateTime)/1e3;this.coundDown=d.Stamina_RecoveryTime-t}},a.CountChange=function(e){t.prototype.CountChange.call(this,e),this.RefreshBox()},a.AddBtn=function(){c.gui.open(y.BuyStrength),u.PlayEffect(h.UIClick)},e}(S)).prototype,"timeLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=b))||D));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4d71fWpvepANaH4qIGmgcLC","StringFormat",void 0),e._RF.push({},"85fe8Gc6h5Ava+JsdbBs8cR","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",o=0,c="";if(n&&(r=n[0]),i&&(o=parseInt(i[0])),"number"==typeof t)switch(r){case"int":c=this.int(t);break;case"fix":c=this.fix(t,o);break;case"kmbt":c=this.KMBT(t);break;case"per":c=this.per(t,o);break;case"sep":c=this.sep(t)}else{switch(r){case"limit":c=this.limit(t,o)}c=t}return c},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){var r;void 0===i&&(i=2);var o="";for(r=0;r<e.length;r++)if(t<e[r]){o=r>0?(t/e[r-1]).toFixed(i):t.toFixed(0);break}return o+n[r]},t}()));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"b5fc7POkKlDP76h3qblsl4S","StringUtil",void 0),t._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);r("StringUtil",function(){function r(){}return r.guid=function(){for(var r="",t=1;t<=32;t++)r+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(r+="-");return r},r.numberTotPermil=function(r){return r.toLocaleString()},r.numberToThousand=function(r,t){void 0===t&&(t=2);var n=1e3;if(r<n)return r.toString();var o=Math.floor(Math.log(r)/Math.log(n));return(r/Math.pow(n,o)).toFixed(t)+["","K","M","G"][o]},r.numberToTenThousand=function(r,t){void 0===t&&(t=2);var n=1e4;if(r<n)return r.toString();var o=Math.floor(Math.log(r)/Math.log(n));return(r/Math.pow(n,o)).toFixed(t)+["","万","亿","万亿"][o]},r.stringToArray1=function(r){return""==r?[]:r.split(",")},r.stringToArray2=function(r){return""==r?[]:r.split("|")},r.stringToArray3=function(r){return""==r?[]:r.split(":")},r.stringToArray4=function(r){return""==r?[]:r.split(";")},r.sub=function(r,t,n){void 0===n&&(n=!1);var o=/[^\x00-\xff]/g;if(r.replace(o,"mm").length<=t)return r;for(var e=Math.floor(t/2);e<r.length;e++)if(r.substr(0,e).replace(o,"mm").length>=t)return n?r.substr(0,e)+"...":r.substr(0,e);return r},r.stringLen=function(r){for(var t=0,n=r.length,o=-1,e=0;e<n;e++)t+=(o=r.charCodeAt(e))>=0&&o<=128?1:2;return t},r.IsEmpty=function(r){return null==r||null==r||0==r.length},r.substitute=function(r){if(null==r)return"";for(var t,n=arguments.length,o=new Array(n>1?n-1:0),e=1;e<n;e++)o[e-1]=arguments[e];var i=o.length;1==i&&o[0]instanceof Array?i=(t=o[0]).length:t=o;for(var u=0;u<i;u++)r=r.replace(new RegExp("\\{"+u+"\\}","g"),t[u]);return r},r}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/TableItemData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var e,a,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){a._RF.push({},"47fc8pgH0NII61u8Pa9yA/Q","TableItemData",void 0),a._RF.push({},"66a2bSzhRtJiqHzrCe9EF/v","TableItemData",void 0),t("TableItemData",function(){function t(){this.data=void 0,this.itemType=0,this.itemPart=0,this.itemID=0}return t.prototype.init=function(e,a,n){var s=i.get(t.TableName);this.data=s[e][a][n],this.itemType=e,this.itemPart=a,this.itemID=n},e(t,[{key:"TypeName",get:function(){return this.data.TypeName}},{key:"itemName",get:function(){return this.data.itemName}},{key:"itemDesc",get:function(){return this.data.itemDesc}}]),t}()).TableName="ItemData",a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/TableLanguage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){n._RF.push({},"73d85suF3lDg7lqCB1gHLSV","TableLanguage",void 0),n._RF.push({},"74f4fgFfZxHnqCfURfaciMV","TableLanguage",void 0),t("TableLanguage",function(){function t(){this.data=void 0,this.id=null}return t.prototype.init=function(e){var n=a.get(t.TableName);this.data=n[e],this.id=e},e(t,[{key:"zh",get:function(){return this.data.zh}},{key:"en",get:function(){return this.data.en}}]),t}()).TableName="Language",n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/TableLevelData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(e){var t,a,i;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy},function(e){i=e.JsonUtil}],execute:function(){a._RF.push({},"cbc16KO4s9CDLvnhArrGA96","TableLevelData",void 0),a._RF.push({},"ee445xMRutH2qQaGEhF7hm4","TableLevelData",void 0),e("TableLevelData",function(){function e(){this.data=void 0,this.id=0}return e.prototype.init=function(t){var a=i.get(e.TableName);this.data=a[t],this.id=t},t(e,[{key:"setID",get:function(){return this.data.setID}},{key:"levelTime",get:function(){return this.data.levelTime}}]),e}()).TableName="LevelData",a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/TableMoreGameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(e){var t,a,n;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy},function(e){n=e.JsonUtil}],execute:function(){a._RF.push({},"0be49dCOFxDv6eFedRmsHKX","TableMoreGameData",void 0),a._RF.push({},"72812vmqRJI5aee7bcJg4fc","TableMoreGameData",void 0),e("TableMoreGameData",function(){function e(){this.data=void 0,this.id=0}return e.prototype.init=function(t){var a=n.get(e.TableName);this.data=a[t],this.id=t},t(e,[{key:"gameName",get:function(){return this.data.gameName}},{key:"unlockType",get:function(){return this.data.unlockType}}]),e}()).TableName="MoreGameData",a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/TableNineGridBoxData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var i,e,a;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){a=t.JsonUtil}],execute:function(){e._RF.push({},"950ae8zfGVKlYVAXrLpxNIX","TableNineGridBoxData",void 0),e._RF.push({},"fff5504JVpPd6+f3V0p35E+","TableNineGridBoxData",void 0),t("TableNineGridBoxData",function(){function t(){this.data=void 0,this.id=0}return t.prototype.init=function(i){var e=a.get(t.TableName);this.data=e[i],this.id=i},i(t,[{key:"rewardList",get:function(){return this.data.rewardList}}]),t}()).TableName="NineGridBoxData",e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/TablePromptWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var i,e,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.JsonUtil}],execute:function(){e._RF.push({},"7d054PEWClAl5J3v//1cXIB","TablePromptWindow",void 0),e._RF.push({},"1e3d7uann5MRokAL2wULm9y","TablePromptWindow",void 0),t("TablePromptWindow",function(){function t(){this.data=void 0,this.id=0,this.id1=0,this.id2=0}return t.prototype.init=function(i,e,o){var r=n.get(t.TableName);this.data=r[i][e][o],this.id=i,this.id1=e,this.id2=o},i(t,[{key:"title",get:function(){return this.data.title}},{key:"describe",get:function(){return this.data.describe}},{key:"array",get:function(){return this.data.array}},{key:"hp",get:function(){return this.data.hp}}]),t}()).TableName="PromptWindow",e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/TableSignInData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var n,a,i;return{setters:[function(t){n=t.createClass},function(t){a=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){a._RF.push({},"f5201iYKENL/oKimY2S71FZ","TableSignInData",void 0),a._RF.push({},"c8ff6LrSUdIB47V6P8G3JLL","TableSignInData",void 0),t("TableSignInData",function(){function t(){this.data=void 0,this.id=0}return t.prototype.init=function(n){var a=i.get(t.TableName);this.data=a[n],this.id=n},n(t,[{key:"name",get:function(){return this.data.name}},{key:"rewardList",get:function(){return this.data.rewardList}}]),t}()).TableName="SignInData",a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/TableSignInDayBoxData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var a,n,i;return{setters:[function(t){a=t.createClass},function(t){n=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){n._RF.push({},"f9746bamFxDbIkras3w82EU","TableSignInDayBoxData",void 0),n._RF.push({},"a9f09+7+bVDjYQDYifIU7Mk","TableSignInDayBoxData",void 0),t("TableSignInDayBoxData",function(){function t(){this.data=void 0,this.stage=0,this.id=0}return t.prototype.init=function(a,n){var e=i.get(t.TableName);this.data=e[a][n],this.stage=a,this.id=n},a(t,[{key:"day",get:function(){return this.data.day}},{key:"rewardList",get:function(){return this.data.rewardList}}]),t}()).TableName="SignInDayBoxData",n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/TableTurntableData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonUtil.ts"],(function(t){var a,e,i;return{setters:[function(t){a=t.createClass},function(t){e=t.cclegacy},function(t){i=t.JsonUtil}],execute:function(){e._RF.push({},"37c905gg39CvasaiPOca8d3","TableTurntableData",void 0),e._RF.push({},"f4256fun/tAl4ReFtMyERi6","TableTurntableData",void 0),t("TableTurntableData",function(){function t(){this.data=void 0,this.stage=0}return t.prototype.init=function(a){var e=i.get(t.TableName);this.data=e[a],this.stage=a},a(t,[{key:"rewardList",get:function(){return this.data.rewardList}},{key:"weight",get:function(){return this.data.weight}},{key:"probability",get:function(){return this.data.probability}}]),t}()).TableName="TurntableData",e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/TakeOutPlaceItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Vec3Util.ts","./ECS.ts","./ZoomInNode.ts","./NodeComp.ts","./GameMgr.ts","./PlaceItemIdle.ts"],(function(e){var t,o,n,a,s,r,i,l,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3},function(e){a=e.oops},function(e){s=e.Vec3Util},function(e){r=e.ecs},function(e){i=e.ZoomInNodeComp},function(e){l=e.NodeComp},function(e){c=e.GameMgr},function(e){u=e.PlaceItemIdleComp}],execute:function(){var d,p;o._RF.push({},"b6ffdX+spND/LsKn5nIyPMN","TakeOutPlaceItem",void 0),o._RF.push({},"802e9UWTRxItJ32apIwPjYN","TakeOutPlaceItem",void 0);var m=e("TakeOutPlaceItemComp",r.register("TakeOutPlaceItem")(d=function(e){function o(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).duration=.5,t.elapsed=0,t.startPos=new n(0,0,0),t.midwayPos=new n(0,0,0),t.targetPos=new n(0,0,0),t.onComplete=null,t}return t(o,e),o.prototype.reset=function(){this.elapsed=0,this.startPos=new n(0,0,0),this.midwayPos=new n(0,0,0),this.targetPos=new n(0,0,0),this.onComplete=null},o}(r.Comp))||d);e("TakeOutPlacelItemSystem",r.register("TakeOutPlacelItem")(p=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var d=o.prototype;return d.filter=function(){return r.allOf(m,l)},d.entityEnter=function(e){var t=e.get(m),o=e.get(l),s=o.node.worldScale.clone();o.node.setParent(c.levelView.waitingPlaceNode),o.node.position=t.startPos,o.node.scale=new n(.3*s.x,.3*s.y,.3*s.z),o.node.eulerAngles=new n(0,0,25),o.node.active=!0,t.targetPos=new n(a.random.getRandomFloat(-250,250),425,0),t.midwayPos=new n(t.startPos.x+(t.targetPos.x-t.startPos.x)/2,800,0);var r=e.add(i);r.startScale=new n(.3*s.x,.3*s.y,.3*s.z),r.targetScale=s,r.duration=.7*t.duration},d.update=function(e){var t=e.get(m),o=e.get(l);if(!(t.elapsed>=t.duration)){t.elapsed+=this.dt;var n=Math.min(t.elapsed/t.duration,1);o.node.position=s.bezierTwo(n,t.startPos,t.midwayPos,t.targetPos),n>=1&&(null==t.onComplete||t.onComplete(),e.remove(m),e.add(u))}},o}(r.ComblockSystem))||p);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/Task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.BTreeNode}],execute:function(){t._RF.push({},"ee980LLX99PKoNCNaUZmSnE","Task",void 0),t._RF.push({},"95087QhEU1G1LWnM2D7haTQ","Task",void 0);e("Task",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.run=function(e){},t}(o));t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"4f639ABEeVDaomZ2sRrG2BC","Timer",void 0),s._RF.push({},"6021fct1uhJsImEuhdFWC0f","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./Timer.ts"],(function(e){var t,i,n,s,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.game,s=e.Component},function(e){r=e.StringUtil},function(e){o=e.Timer}],execute:function(){i._RF.push({},"4df4de09qZGwZcU9e0W2l/8","TimerManager",void 0),i._RF.push({},"73600VLsIBLOKhOhd7td4P8","TimerManager",void 0);e("TimerManager",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).times={},t.date_s=new Date,t.date_s_start=new Date,t.polymeric_s=0,t.date_c=new Date,t}t(i,e);var s=i.prototype;return s.update=function(e){for(var t in this.times){var i=this.times[t];i.timer.update(e)&&i.object[i.field]>0&&(i.object[i.field]--,0==i.object[i.field]?this.onTimerComplete(i):i.onSecond&&i.onSecond.call(i.object))}},s.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.target,e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},s.register=function(e,t,i,n,s){var a=new o;a.step=1;var m={};return m.id=r.guid(),m.timer=a,m.object=e,m.field=t,m.onSecond=n,m.onComplete=s,m.target=i,this.times[m.id]=m,m.id},s.unRegister=function(e){this.times[e]&&delete this.times[e]},s.setServerTime=function(e){this.polymeric_s=this.getTime(),this.date_s_start.setTime(e)},s.getServerTime=function(){return this.date_s_start.getTime()+this.getTime()-this.polymeric_s},s.getServerDate=function(){return this.date_s.setTime(this.getServerTime()),this.date_s},s.getClientTime=function(){return Date.now()},s.getClientDate=function(){return this.date_c.setTime(this.getClientTime()),this.date_c},s.getTime=function(){return n.totalTime},s.save=function(){for(var e in this.times)this.times[e].startTime=this.getTime()},s.load=function(){for(var e in this.times){var t=Math.floor((this.getTime()-(this.times[e].startTime||this.getTime()))/1e3),i=this.times[e];i.object[i.field]=i.object[i.field]-t,i.object[i.field]<=0?(i.object[i.field]=0,this.onTimerComplete(i)):this.times[e].startTime=null}},i}(s));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"208aevM9nJGVoNYX6gAaY0Y","TimeUtils",void 0),r._RF.push({},"c2070jsq0FDcaTrFhyA8yzm","TimeUtils",void 0);e("TimeUtil",function(){function e(){}return e.daysBetween=function(e,t){null==t&&(t=+new Date);var n=new Date(e).toLocaleDateString(),r=new Date(t).toLocaleDateString(),i=new Date(n).getTime(),a=new Date(r).getTime();return Math.abs(i-a)/864e5},e.secsBetween=function(e,t){var n=Math.abs(t-e)/1e3;return Math.floor(n)+1},e.sleep=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/TipsManager.ts",["cc","./Oops.ts","./GameUIConfig.ts"],(function(o){var e,n,t,c,r;return{setters:[function(o){e=o.cclegacy,n=o.tween,t=o.Vec3},function(o){c=o.oops},function(o){r=o.UIID}],execute:function(){e._RF.push({},"1784dlOMb5PWZdfUuLj5L1m","TipsManager",void 0),e._RF.push({},"9748eriEcJOp6OSdnZ/qhs5","TipsManager",void 0);var i=o("tips",new(function(){function o(){}var e=o.prototype;return e.alert=function(o,e,n,t){var f={title:n||"common_prompt_title",content:o,okWord:t||"common_prompt_ok",okFunc:e,needCancel:!1};c.gui.open(r.Alert,f,i.getPopCommonEffect())},e.confirm=function(o,e,n,t,f){var m={title:t||"common_prompt_title",content:o,okWord:f||"common_prompt_ok",cancelWord:"common_prompt_cancal",okFunc:e,cancelFunc:n,needCancel:!0};c.gui.open(r.Confirm,m,i.getPopCommonEffect())},e.getPopCommonEffect=function(o){var e={onAdded:function(o,e){o.setScale(.1,.1,.1),n(o).to(.2,{scale:new t(1,1,1)}).start()},onBeforeRemove:function(o,e){n(o).to(.2,{scale:new t(.1,.1,.1)}).call(e).start()}};if(o){if(o&&o.onAdded){var c=o.onAdded;o.onAdded=function(o,n){c(o,n),e.onAdded(o,n)}}if(o&&o.onBeforeRemove){var r=o.onBeforeRemove;o.onBeforeRemove=function(o,n){r(o,n),e.onBeforeRemove(o,n)}}return o}return e},o}()));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/ToastMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AwaitDelay.ts","./List2.ts"],(function(t){var e,s,n,a,i,r,o,c;return{setters:[function(t){e=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator},function(t){r=t.oops},function(t){o=t.AwaitDelay},function(t){c=t.default}],execute:function(){var u,h;a._RF.push({},"9e003WYJy5Mv4Xlv1kpswS4","ToastMgr",void 0),a._RF.push({},"b46bbrWqPBNWZxhvhmh6fsd","ToastMgr",void 0);var g=i.ccclass;i.property,t("ToastMgr",g("ToastMgr")(((h=function(){function t(){this.currShow=!1,this.messageList=new c,this.addTime=0}return t.AddMessage=function(e,s){t.Instance.messageList&&t.Instance.messageList.Count>0&&e==t.Instance.messageList[t.Instance.messageList.length-1].content&&Date.now()-t.Instance.addTime<=150||(t.Instance.messageList.Add({content:e,useI18n:s}),t.Instance.addTime=Date.now(),t.Instance.currShow||t.Instance.ShowMessage())},t.prototype.ShowMessage=function(){var t=s(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.messageList.Count>0)){t.next=7;break}return(e=this.messageList.shift())&&(this.currShow=!0,r.gui.toast(e.content,e.useI18n)),t.next=5,o.WaitingTime(.15);case 5:t.next=0;break;case 7:this.currShow=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e(t,null,[{key:"Instance",get:function(){return this._inst||(this._inst=new t),this._inst}}]),t}())._inst=void 0,u=h))||u);a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/Tool.ts",["cc","./Oops.ts","./Vec3Util.ts","./GameEnum.ts","./PlatformMgr.ts"],(function(n){var t,e,o,r,c,a,u,i,f,x,s,l;return{setters:[function(n){t=n.cclegacy,e=n._decorator,o=n.Mat4,r=n.Vec4,c=n.Vec3,a=n.view,u=n.Vec2,i=n.sys},function(n){f=n.oops},function(n){x=n.Vec3Util},function(n){s=n.PlatformType},function(n){l=n.PlatformMgr}],execute:function(){t._RF.push({},"6af0ffZIsJAUblGuv9ASnfZ","Tool",void 0),t._RF.push({},"cc7b5lrdDRGFpOBl0cMfkzo","Tool",void 0);e.ccclass,e.property,n("default",function(){function n(){}return n.WorldToLocal=function(n,t){var e=t.getWorldMatrix(),a=new o;o.invert(a,e);var u=new r(n.x,n.y,n.z);u.w=1;var i=c.transformMat4(new c,u,a);return new c(i.x,i.y,i.z)},n.GenerateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var t=f.random.getRandomInt(0,16);return("x"===n?t:3&t|8).toString(16)}))},n.WeightRandom=function(n){for(var t=0,e=0,o=0;o<n.Count;o++)e+=n[o];for(var r=f.random.getRandomFloat(0,e),c=0,a=0;a<n.Count;a++)if(r<(c+=n[a])){t=a;break}return t},n.WorldPosToTopLeft=function(n){var t=a.getVisibleSize(),e=n.x/t.width,o=1-n.y/t.height,r=l.platformAPI.GetWindowSize(),c=r.x*e,i=r.y*o;return new u(c,i)},n.CheckClickNodeRange=function(n,t,e){var o=new u(t.x-e.x/2,t.y+e.y/2),r=new u(t.x+e.x/2,t.y-e.y/2);return n.x>=o.x&&n.x<=r.x&&n.y>=r.y&&n.y<=o.y},n.CheckNearToTarget=function(n,t,e){return n instanceof u&&(n=new c(n.x,n.y,0)),t instanceof u&&(t=new c(t.x,t.y,0)),x.distance(n,t)<=e},n.NumberToChinese=function(n){var t=["〇","一","二","三","四","五","六","七","八","九","十"];if(n>10&&n<20)return"十"+t[n-10];if(n>=20&&n<100){var e=n%10;return t[Math.floor(n/10)]+"十"+(e>0?t[e]:"")}return t[n]||n.toString()},n}()),n("Mathf",function(){function n(){}return n.Vec3Add=function(n,t){return new c(n.x+t.x,n.y+t.y,n.z+t.z)},n.Vec3Sub=function(n,t){return new c(n.x-t.x,n.y-t.y,n.z-t.z)},n.PingPong=function(n,t){return(n%=2*t)<t?n:2*t-n},n}()),n("WebRequest",function(){function n(){}return n.Post=function(n,t,e){if(l.currPlatform==s.微信)window.wx.request({url:n,data:t,header:{"Content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){null==e||e(n.data)}});else if(i.platform==i.Platform.DESKTOP_BROWSER){var o=new URLSearchParams;for(var r in t)t.hasOwnProperty(r)&&o.append(r,t[r]);fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o}).then((function(n){if(!n.ok)throw new Error("Network response was not ok "+n.statusText);return console.log("服务器返回:",n),n.json()})).then((function(n){null==e||e(n)})).catch((function(t){t instanceof SyntaxError&&t.message.startsWith("Unexpected token")?console.error("服务器返回了非JSON格式的响应:",t):console.error("获取"+n+"错误:",t)}))}},n}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/TouchLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameEvent.ts","./AwaitDelay.ts"],(function(t){var e,i,s,h,o,n,a,c,r,p,u,T,_;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){h=t.cclegacy,o=t._decorator,n=t.Input,a=t.Component,c=t.size,r=t.Vec2,p=t.UITransform},function(t){u=t.oops},function(t){T=t.TouchEvents},function(t){_=t.AwaitDelay}],execute:function(){var v;h._RF.push({},"bab26etW7FKsrfSg0vT18VE","TouchLayer",void 0),h._RF.push({},"57da6ItmJxNEYNQVbbh3TtJ","TouchLayer",void 0);var f=o.ccclass;o.property,t("TouchLayer",f("TouchLayer")(v=function(t){function h(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return(e=t.call.apply(t,[this].concat(s))||this).isEnableTouch=!0,e._halfCvsSize=c(),e.isDrap=!1,e._tmpV1=new r(0,0),e._tmpV2=new r(0,0),e}e(h,t);var o=h.prototype;return o.start=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.WaitingTime(.01);case 2:(e=this.node.getComponent(p))&&(this._halfCvsSize.set(e.contentSize),this._halfCvsSize.width*=.5,this._halfCvsSize.height*=.5,console.log("画布尺寸：",e.contentSize)),this.node.on(n.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(n.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(n.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(T.SetTouchEnable,this.onSetTouchState,this);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onDestroy=function(){t.prototype.destroy.call(this),this.node.off(n.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(n.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(n.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.onSetTouchState=function(t){void 0===t&&(t=!0),this.isEnableTouch=t,console.log(t?"开启":"关闭","触摸")},o.onTouchStart=function(t){this.isEnableTouch&&(this.isDrap=!1,t.getUILocation(this._tmpV1),this._tmpV2=this._tmpV1,this._tmpV1.x-=this._halfCvsSize.width,this._tmpV1.y-=this._halfCvsSize.height,u.message.dispatchEvent(T.TouchStart,this._tmpV1),u.message.dispatchEvent(T.TouchStartObj,t))},o.onTouchMove=function(t){this.isEnableTouch&&(this.isDrap=!0,this._tmpV1=this._tmpV2.clone(),t.getUILocation(this._tmpV2),this._tmpV2.x-=this._halfCvsSize.width,this._tmpV2.y-=this._halfCvsSize.height,u.message.dispatchEvent(T.TouchMove,this._tmpV1,this._tmpV2),u.message.dispatchEvent(T.TouchMoveObj,t))},o.onTouchEnd=function(t){this.isEnableTouch&&(this.isDrap&&(this.isDrap=!1,t.getUIStartLocation(this._tmpV1),t.getUILocation(this._tmpV2),this._tmpV1.x-=this._halfCvsSize.width,this._tmpV1.y-=this._halfCvsSize.height,this._tmpV2.x-=this._halfCvsSize.width,this._tmpV2.y-=this._halfCvsSize.height),u.message.dispatchEvent(T.TouchEnd,this._tmpV1,this._tmpV2),u.message.dispatchEvent(T.TouchEndObj,t))},h}(a))||v);h._RF.pop(),h._RF.pop()}}}));

System.register("chunks:///_virtual/TurntableArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(t){var e,r,a,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,a=t._decorator},function(t){n=t.GameStorageConfig},function(t){o=t.ArchiveBase}],execute:function(){var c;r._RF.push({},"bab43JagFpD+6mjrSHZySsm","TurntableArchive",void 0),r._RF.push({},"31dcali83BH6aJdUUOBweoo","TurntableArchive",void 0);var u=a.ccclass;a.property,t("TurntableArchive",u("TurntableArchive")(c=function(t){function r(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).key=n.TurntableArchive,e.defaultData={turntableCount:10,totalCount:0},e.data=e.defaultData,e}return e(r,t),r.prototype.DailyRefresh=function(){this.data.turntableCount=10},r}(o))||c);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/TurntableGridItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ItemInfo.ts","./RewardInfo.ts","./ResMgr.ts"],(function(e){var t,r,n,i,o,a,u,p,c,s,l,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Sprite,p=e.Label},function(e){c=e.GameComponent},function(e){s=e.ItemInfo},function(e){l=e.RewardData},function(e){f=e.ResMgr}],execute:function(){var m,I,b,d,h,y,g;o._RF.push({},"060cdCD/L1Pxa679Zfrwpse","TurntableGridItem",void 0),o._RF.push({},"b87372vDixIXrPwdTN3MyAp","TurntableGridItem",void 0);var v=a.ccclass,w=a.property;e("TurntableGridItem",(m=v("TurntableGridItem"),I=w(u),b=w(p),m((y=t((h=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).itemInfo=null,n(t,"propIcon",y,i(t)),n(t,"propNumber",g,i(t)),t}return r(t,e),t.prototype.RefreshItem=function(e){this.itemInfo=e;var t=l.ParseList(this.itemInfo.rewardList)[0];f.SetSprite(this.propIcon,new s(t).iconPath),this.propNumber.string="x"+t.count},t}(c)).prototype,"propIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"propNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/TurntablePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ItemArchive.ts","./ArchiveManager.ts","./GameEnum.ts","./TableTurntableData.ts","./AdsManager.ts","./UmengMgr.ts","./RedDotManager.ts","./RedDotNodeNames.ts","./RewardInfo.ts","./MusicMgr.ts","./ResMgr.ts","./ToastMgr.ts","./List2.ts","./Tool.ts","./TurntableGridItem.ts"],(function(t){var e,n,i,a,r,s,o,u,l,c,f,d,h,b,g,p,m,v,T,y,I,w,B,P,A,L,C,M,R,x,D,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,l=t.Node,c=t.Label,f=t.Vec3,d=t.tween},function(t){h=t.oops},function(t){b=t.GameComponent},function(t){g=t.ItemArchive},function(t){p=t.ArchiveManager},function(t){m=t.ItemType,v=t.MoneyType,T=t.UmengEventID},function(t){y=t.TableTurntableData},function(t){I=t.AdsManager},function(t){w=t.UmengMgr},function(t){B=t.RedDotManager},function(t){P=t.RedDotNodeNames},function(t){A=t.RewardData},function(t){L=t.MusicMgr,C=t.EffectType},function(t){M=t.ResMgr},function(t){R=t.ToastMgr},function(t){x=t.default},function(t){D=t.default},function(t){k=t.TurntableGridItem}],execute:function(){var E,N,_,z,U,G,S,F,W,O,V,j,H;o._RF.push({},"0a2d2TeZLtKqJXfyrHz/WCZ","TurntablePage",void 0),o._RF.push({},"3961b92tjVClaXvWkhyieWQ","TurntablePage",void 0);var X=u.ccclass,Z=u.property;t("TurntablePage",(E=X("TurntablePage"),N=Z(l),_=Z(l),z=Z(l),U=Z(c),G=Z(l),E((W=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).itemList=new x,e.infoList=[],i(e,"itemParent",W,a(e)),i(e,"freeBtn",O,a(e)),i(e,"adsBtn",V,a(e)),i(e,"countText",j,a(e)),e.isTurntable=!1,e.rewardIndex=0,e.rotNumuber=0,e.maxAngle=0,e.currentAngle=0,e.rotSpeed=720,e.isAds=!1,i(e,"tipsPage",H,a(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){for(var t=0;t<this.itemParent.children.length;t++){var e=this.itemParent.children[t];this.itemList.Add(e.getComponent(k))}this.infoList=M.GetTableData(y.TableName)},o.start=function(){var t=r(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.itemList.length;e++)e<this.infoList.length?(this.itemList[e].node.active=!0,this.itemList[e].RefreshItem(this.infoList[e])):this.itemList[e].node.active=!1;this.countText.string="今日剩余次数："+p.turntable.data.turntableCount,p.turntable.data.turntableCount>=10?(this.freeBtn.active=!0,this.adsBtn.active=!1):(this.freeBtn.active=!1,this.adsBtn.active=!0),this.setButton();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.CloseBtn=function(){this.isTurntable||(h.gui.removeByNode(this.node),B.Instance.Refresh(P.Turntable),L.PlayEffect(C.UIClick))},o.FreeBtn=function(){this.isTurntable||(p.turntable.data.turntableCount>0?(this.isAds=!1,this.StartTurntable()):R.AddMessage("抽取次数不足"),L.PlayEffect(C.UIClick))},o.MistakeTouchBtn=function(){this.AdsBtn()},o.AdsBtn=function(){var t=this;this.isTurntable||(p.turntable.data.turntableCount>0?I.Instance.ShowVideoAds((function(){t.isAds=!0,t.StartTurntable()})):R.AddMessage("抽取次数不足"),L.PlayEffect(C.UIClick))},o.StartTurntable=function(){var t=this;this.isTurntable=!0,p.turntable.data.turntableCount-=1,p.turntable.data.totalCount+=1,p.turntable.Save(),this.countText.string="今日剩余次数："+p.turntable.data.turntableCount,this.freeBtn.active=!1,this.adsBtn.active=!1;for(var e=new x,n=0;n<this.infoList.length;n++)e.push(this.infoList[n].weight);p.turntable.data.totalCount%10==0?this.rewardIndex=h.random.getRandomFloat(0,100)<50?2:7:this.rewardIndex=D.WeightRandom(e),this.rotNumuber=h.random.getRandomInt(4,7),this.maxAngle=360*this.rotNumuber+this.rewardIndex*(360/this.infoList.length),this.itemParent.eulerAngles=new f(0,0,0),d(this.itemParent).to(10,{eulerAngles:new f(0,0,this.maxAngle)},{easing:"circOut"}).call((function(){t.RewardProp(t.infoList[t.rewardIndex])})).start()},o.RewardProp=function(t){console.log("最终奖励："+this.rewardIndex+"_",t),this.isTurntable=!1,p.turntable.data.turntableCount>=10?(this.freeBtn.active=!0,this.adsBtn.active=!1):(this.freeBtn.active=!1,this.adsBtn.active=!0);var e=A.ParseList(t.rewardList);if(g.AddRewarwdList(e),this.isAds){var n=e.some((function(t){return t.type===m.货币&&t.id===v.金币})),i=e.some((function(t){return t.type===m.货币&&t.id===v.体力}));n&&w.Instance.TrackEventByID(T.role_video),i&&w.Instance.TrackEventByID(T.vit_video)}var a=10-p.turntable.data.turntableCount;w.Instance.TrackEventByID(T.turn,a)},o.OpenTipsBtn=function(){this.tipsPage.active=!0,L.PlayEffect(C.UIClick)},o.CloseTipsBtn=function(){this.tipsPage.active=!1,L.PlayEffect(C.UIClick)},e}(b)).prototype,"itemParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"freeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"adsBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"countText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"tipsPage",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=F))||S));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIAnimations.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,o,s,a,h,r,c,l,u,m,p,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,h=i.Enum,r=i.v3,c=i.Tween,l=i.Widget,u=i.UITransform,m=i.tween,p=i.UIOpacity,y=i.Component}],execute:function(){var d,_,f,g,T,b,v,A,w,P,C,O,S,I,D;s._RF.push({},"a6c3dQJ+OBAUolgXa70aIz8","UIAnimations",void 0),s._RF.push({},"294f6Gp3tZL54Z4UhFK7L8G","UIAnimations",void 0);var B=a.ccclass,R=a.property,z=function(i){return i[i.None=0]="None",i[i.Top=1]="Top",i[i.Bottom=2]="Bottom",i[i.Left=3]="Left",i[i.Right=4]="Right",i[i.Center_zoomOut=5]="Center_zoomOut",i[i.Center_zoomIn=6]="Center_zoomIn",i}(z||{}),k=function(i){return i[i.SineIn=0]="SineIn",i[i.SineOut=1]="SineOut",i[i.SineInOut=2]="SineInOut",i[i.BackIn=3]="BackIn",i[i.BackOut=4]="BackOut",i[i.BackInOut=5]="BackInOut",i}(k||{});i("UIAnimtions",(d=B("UIAnimtions"),_=R({type:h(z)}),f=R({type:h(k),visible:function(){return this.enterDirection!=z.None}}),g=R({visible:function(){return this.enterDirection!=z.None&&this.enterDirection!=z.Center_zoomOut}}),T=R({visible:function(){return this.isDelayShowChildren}}),d((A=t((v=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return t=i.call.apply(i,[this].concat(s))||this,n(t,"enterDirection",A,o(t)),n(t,"easingType",w,o(t)),n(t,"moveDistRate",P,o(t)),n(t,"delayTime",C,o(t)),n(t,"animTime",O,o(t)),n(t,"isOpacityAnim",S,o(t)),n(t,"isDelayShowChildren",I,o(t)),n(t,"delayShowChildrenTime",D,o(t)),t._delayTween={a:0},t._initPos=r(),t._initScale=r(),t._cfg=["sineIn","sineOut","sineInOut","backIn","backOut","backInOut"],t._finishCb=null,t._cbTween={a:0},t._childrenRecs=[],t._toPos=r(),t._toScale=r(),t._uiOpacityCmp=null,t._opacity={opacity:255},t}e(t,i);var s=t.prototype;return s.onLoad=function(){this.init(),this.recordChildren(!0)},s.init=function(){this._initPos.set(this.node.position),this._initScale.set(this.node.scale)},s.recordChildren=function(i){if(void 0===i&&(i=!1),this._childrenRecs=[],this.isDelayShowChildren)for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t];this._childrenRecs.push({isActive:e.active,node:e}),i&&(e.active=!1)}},s.seDelayTime=function(i){this.delayTime=i},s.onEnable=function(){this.showAnim()},s.onDisable=function(){this.recordChildren(),c.stopAllByTarget(this._cbTween),c.stopAllByTarget(this._toPos),c.stopAllByTarget(this._toScale),c.stopAllByTarget(this._delayTween),c.stopAllByTarget(this._opacity)},s.setFinishAnim=function(i){this._finishCb=i},s.showAnim=function(){var i=this;if(c.stopAllByTarget(this._cbTween),c.stopAllByTarget(this._toPos),c.stopAllByTarget(this._toScale),this.enterDirection!=z.None){var t=this.node.getComponent(l);t?(t.enabled=!0,t.updateAlignment(),t.enabled=!1,this._toPos.set(this.node.position)):this._toPos.set(this._initPos);var e=this.node.getComponent(u);switch(this.enterDirection){case z.Top:this.topAnim(e);break;case z.Bottom:this.bottomAnim(e);break;case z.Left:this.leftAnim(e);break;case z.Right:this.rightAnim(e);break;case z.Center_zoomIn:this.centerZoomInAnim(e);break;case z.Center_zoomOut:this.centerZoomOutAnim(e)}}this.isOpacityAnim&&this.opacityAnim(),this._finishCb&&m(this._cbTween).delay(this.delayTime+this.animTime).call((function(){i._finishCb&&i._finishCb(),i._finishCb=null})).start(),c.stopAllByTarget(this._delayTween),this.isDelayShowChildren&&m(this._delayTween).delay(this.delayShowChildrenTime).call((function(){for(var t=0;t<i._childrenRecs.length;t++){var e=i._childrenRecs[t];e.node.active=e.isActive}})).start()},s.showAnimFinished=function(){},s.topAnim=function(i){var t=this,e=this._toPos.y;this._toPos.y+=i.height*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];m(this._toPos).delay(this.delayTime).to(this.animTime,{y:e},{easing:n,onUpdate:function(){t.node.setPosition(t._toPos)}}).call((function(){t.showAnimFinished()})).start()},s.bottomAnim=function(i){var t=this,e=this._toPos.y;this._toPos.y-=i.height*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];m(this._toPos).delay(this.delayTime).to(this.animTime,{y:e},{easing:n,onUpdate:function(){t.node.setPosition(t._toPos)}}).call((function(){t.showAnimFinished()})).start()},s.leftAnim=function(i){var t=this,e=this._toPos.x;this._toPos.x-=i.width*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];m(this._toPos).delay(this.delayTime).to(this.animTime,{x:e},{easing:n,onUpdate:function(){t.node.setPosition(t._toPos)}}).call((function(){t.showAnimFinished()})).start()},s.rightAnim=function(i){var t=this,e=this._toPos.x;this._toPos.x+=i.width*this.moveDistRate,this.node.setPosition(this._toPos);var n=this._cfg[this.easingType];m(this._toPos).delay(this.delayTime).to(this.animTime,{x:e},{easing:n,onUpdate:function(){t.node.setPosition(t._toPos)}}).call((function(){t.showAnimFinished()})).start()},s.centerZoomOutAnim=function(i){var t=this;this._toScale.set(0,0,0),this.node.setScale(this._toScale);var e=this._cfg[this.easingType];m(this._toScale).delay(this.delayTime).to(this.animTime,{x:1,y:1,z:1},{easing:e,onUpdate:function(){t.node.setScale(t._toScale)}}).call((function(){t.showAnimFinished()})).start()},s.centerZoomInAnim=function(i){var t=this;this._toScale.set(this.moveDistRate,this.moveDistRate,this.moveDistRate),this.node.setScale(this._toScale);var e=this._cfg[this.easingType];m(this._toScale).delay(this.delayTime).to(this.animTime,{x:1,y:1,z:1},{easing:e,onUpdate:function(){t.node.setScale(t._toScale)}}).call((function(){t.showAnimFinished()})).start()},s.opacityAnim=function(){var i=this;this._uiOpacityCmp||(this._uiOpacityCmp=this.node.getComponent(p),this._uiOpacityCmp||(this._uiOpacityCmp=this.node.addComponent(p))),c.stopAllByTarget(this._opacity),this._uiOpacityCmp&&(this._opacity.opacity=0,this._uiOpacityCmp.opacity=0,m(this._opacity).delay(this.delayTime).to(this.animTime,{opacity:255},{onUpdate:function(){i._uiOpacityCmp.opacity=i._opacity.opacity}}).start())},t}(y)).prototype,"enterDirection",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.None}}),w=t(v.prototype,"easingType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.BackInOut}}),P=t(v.prototype,"moveDistRate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),C=t(v.prototype,"delayTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(v.prototype,"animTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),S=t(v.prototype,"isOpacityAnim",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=t(v.prototype,"isDelayShowChildren",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(v.prototype,"delayShowChildrenTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=v))||b));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,i,n,o,r,a,u,c,p,s,l,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,p=t.AudioClip,s=t.game,l=t.EventHandler,f=t.Button},function(t){h=t.oops}],execute:function(){var d,v,y,_,m,E,g,b,T,w;u._RF.push({},"f479dOcfMdFzqE5fxvW1hPE","UIButton",void 0);var B=c.ccclass,I=c.property,F=c.menu;u._RF.push({},"86cefAWukVE77lEwgfFdYeD","UIButton",void 0);t("default",(d=B("UIButton"),v=F("OopsFramework/Button/UIButton （通用按钮）"),y=I({tooltip:"每次触发间隔"}),_=I({tooltip:"是否只触发一次"}),m=I({tooltip:"触摸音效",type:p}),d(E=v((b=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"interval",b,o(e)),n(e,"once",T,o(e)),n(e,"effect",w,o(e)),e._touchCount=0,e._touchEndTime=0,e}i(e,t);var u=e.prototype;return u._onTouchEnded=function(t){if(this._interactable&&this.enabledInHierarchy){if(this._pressed){if(this.once){if(this._touchCount>0)return void(t.propagationStopped=!0);this._touchCount++}this._touchEndTime&&s.totalTime-this._touchEndTime<this.interval?t.propagationStopped=!0:(this._touchEndTime=s.totalTime,l.emitEvents(this.clickEvents,t),this.node.emit(f.EventType.CLICK,this),this.playEffect())}this._pressed=!1,this._updateState(),t&&(t.propagationStopped=!0)}},u.playEffect=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.effect&&h.audio.playEffect(this.effect);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"interval",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),T=e(g.prototype,"once",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(g.prototype,"effect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=g))||E)||E));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UmengArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(t){var e,n,i,a,c,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,a=t._decorator},function(t){c=t.GameStorageConfig},function(t){s=t.ArchiveBase}],execute:function(){var r,o;i._RF.push({},"ebf07gP0i1GW5+3JOKEi8uN","UmengArchive",void 0);var u=a.ccclass;a.property;i._RF.push({},"91cd0GD0iBKtZBzp6lcn+S7","UmengArchive",void 0);t("UmengArchive",u("UmengArchive")(((o=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).key=c.UmengArchive,e.defaultData={},e.data=e.defaultData,e}return e(i,t),i.prototype.DailyRefresh=function(){this.data={},this.Save()},i.AddStatistics=function(t){this.Instance.data[t]=!0,this.Instance.Save()},i.GetStatistics=function(t){return!!this.Instance.data[t]},n(i,null,[{key:"Instance",get:function(){return this._inst||(this._inst=new i),this._inst}}]),i}(s))._inst=void 0,r=o))||r);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/UmengMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEnum.ts","./Oops.ts","./UmengArchive.ts"],(function(t){var e,n,i,o,s,u,a,c;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.sys},function(t){o=t.PlatformType,s=t.GetUmengEventName,u=t.DailyOnceEventIDs},function(t){a=t.oops},function(t){c=t.UmengArchive}],execute:function(){n._RF.push({},"6ef2et4MjZA55erIelhfZSP","UmengMgr",void 0),n._RF.push({},"45ec3ZWD5hASoPYEk+cuqFv","UmengMgr",void 0),t("UmengMgr",function(){function t(){this.uma=null}var n=t.prototype;return n.init=function(t){try{if(t===o.微信&&"undefined"!=typeof wx)this.uma=require("third/umeng/umtrack-wx-game"),this.uma.init({appKey:"683413b379267e021070430e",useOpenid:!1,autoGetOpenid:!1,debug:!1}),this.uma.resume(wx.getLaunchOptionsSync()),console.log("[友盟] 初始化微信统计");else{if(t!==o.抖音||"undefined"==typeof tt)return this.isQuickGamePlatform()&&"undefined"!=typeof qg&&"function"==typeof qg.getSystemInfoSync?(console.log("[平台检测] cc.sys.platform =",i.platform),this.uma=qg.uma,this.uma.init({appKey:"6853825379267e02108b43fc",useOpenid:!1,debug:!1}),this.uma.resume(qg.getLaunchOptionsSync()),void console.log("[友盟] 初始化快游戏统计")):void console.warn("[友盟] 当前平台不支持友盟统计");this.uma=require("third/umeng/umtrack-tt-game"),this.uma.init({appKey:"684bf63bbc47b67d8385d5b7",useOpenid:!1,autoGetOpenid:!1,debug:!1}),this.uma.resume(tt.getLaunchOptionsSync()),console.log("[友盟] 初始化抖音统计")}console.log("[UMENG] SDK init:",this.uma._inited)}catch(t){console.error("[友盟] 初始化失败:",t)}},n.isQuickGamePlatform=function(){return i.platform===i.Platform.OPPO_MINI_GAME||i.platform===i.Platform.VIVO_MINI_GAME||i.platform===i.Platform.HUAWEI_QUICK_GAME||i.platform===i.Platform.XIAOMI_QUICK_GAME},n.TrackEvent=function(t,e){this.uma&&"function"==typeof this.uma.trackEvent?e?this.uma.trackEvent(t,e):this.uma.trackEvent(t):console.warn("[友盟] 未初始化或 trackEvent 不可用: "+t)},n.TrackEventByID=function(t,e,n){var i=void 0,o=void 0;"number"==typeof e?(i=e,o=n):o=e;var r=s(t,i);if(this.uma&&this.uma._inited)if(u.includes(t)){if(c.GetStatistics(r))return void a.log.logBusiness("友盟统计","今日已统计过:"+r);this.TrackEvent(r,o),c.AddStatistics(r),a.log.logBusiness("友盟统计","每日统计:"+r)}else this.TrackEvent(r,o),a.log.logBusiness("友盟统计","发送统计:"+r);else console.warn("[友盟] SDK 未初始化完成，事件跳过")},e(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/UserArchive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStorageConfig.ts","./ArchiveBase.ts"],(function(e){var r,t,c,s,i;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator},function(e){s=e.GameStorageConfig},function(e){i=e.ArchiveBase}],execute:function(){var o;t._RF.push({},"563f2eDg7tEO6Kxf31ZK2Sg","UserArchive",void 0);var a=c.ccclass;c.property;t._RF.push({},"7787brgwYhBNpdDLf5IlXQx","UserArchive",void 0);e("UserArchive",a("UserArchive")(o=function(e){function t(){for(var r,t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return(r=e.call.apply(e,[this].concat(c))||this).key=s.UserArchive,r.defaultData={userID:0,userGUID:"",userName:"",isLogin:!1,isAgreeProtocol:!1},r.data=r.defaultData,r}return r(t,e),t}(i))||o);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/Util.ts",["cc"],(function(a){var n,r,t,e;return{setters:[function(a){n=a.cclegacy,r=a.Vec3,t=a.math,e=a.Quat}],execute:function(){function o(a,n){if(a.lengthSqr()>n*n){var t=new r;return r.normalize(t,a),t.multiplyScalar(n),t}return a}function i(a,n){var e=t.toRadian(a);return new r(n*Math.cos(e),n*Math.sin(e),0)}a({calcPunchData:function(a,n,e,i,c){t.clamp01(c);for(var u=n.length(),l=Math.max(Math.round(i*e),2),f=u/l,s=[],d=0,m=0;m<l;m++){var v=e*((m+1)/l);d+=v,s[m]=v}for(var h=e/d,g=s.map((function(a){return a*h})),p=[],x=0;x<l;x++){if(x<l-1)if(0===x)p[x]=r.add(new r,a,n);else if(x%2!=0){var R=o(n,u*c);R.negative(),p[x]=R.add(a)}else{var y=o(n,u);p[x]=y.add(a)}else p[x]=a;u-=f}return{tos:p,durations:g}},calcShakeData:function(a,n,c,u,l,f,s,d){for(var m=s?c.length():c.x,v=Math.max(Math.floor(u*n),2),h=m/v,g=[],p=0,x=0;x<v;x++){var R=d?n*((x+1)/v):n/v;p+=R,g[x]=R}for(var y=n/p,M=g.map((function(a){return a*y})),z=t.randomRange(0,360),F=[],S=0;S<v;S++)if(S<v-1){var _=new e;if(S>0&&(z=z-180+t.randomRange(-l,l)),s){var w=i(z,m);r.transformQuat(w,w,_),w.x=o(w,c.x).x,w.y=o(w,c.y).y,w.z=o(w,c.z).z,w.normalize().multiplyScalar(m),F[S]=w.add(a),d&&(m-=h),c=o(c,m)}else{if(f)F[S]=i(z,m).add(a);else{e.fromAxisAngle(_,r.UP,t.randomRange(-l,l));var A=i(z,m);r.transformQuat(A,A,_),F[S]=A.add(a)}d&&(m-=h)}}else F[S]=a;return{tos:F,durations:M}},clampLength:o,vec3FromAngle:i}),n._RF.push({},"95f89Ya6npIaplcAGstjkiq","Util",void 0),n._RF.push({},"c427cVKhMtD6bQgnjxsaj+g","Util",void 0),n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/UVOffsetBg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,n,r,s,a,c,l,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,c=e.Vec3,l=e.UITransform,h=e.Component}],execute:function(){var p,d,u,f,m,y,v,z,_;r._RF.push({},"5aecez6UhlLR5sFZtm61Nfj","UVOffsetBg",void 0);var g=s.ccclass,S=s.property;r._RF.push({},"36c5cz4E8pMwoXizTlPuFGw","UVOffsetBg",void 0);e("UVOffsetBg",(p=g("UVOffsetBg"),d=S(a),u=S(a),p((y=i((m=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,o(i,"parentNode",y,n(i)),o(i,"moveNode",v,n(i)),o(i,"speed",z,n(i)),o(i,"direction",_,n(i)),i._originPos=new c,i._parentSize=new c,i._moveSize=new c,i}t(i,e);var r=i.prototype;return r.start=function(){if(this.moveNode&&this.parentNode){var e=this.parentNode.getComponent(l),i=this.moveNode.getComponent(l);this._parentSize.set(e.width,e.height,0),this._moveSize.set(i.width,i.height,0),this.direction.normalize();var t=new c(0,0,0);this.direction.x>0?t.x=this._parentSize.x/2-this._moveSize.x/2:this.direction.x<0&&(t.x=-this._parentSize.x/2+this._moveSize.x/2),this.direction.y>0?t.y=this._parentSize.y/2-this._moveSize.y/2:this.direction.y<0&&(t.y=-this._parentSize.y/2+this._moveSize.y/2),this.moveNode.setPosition(t),this._originPos.set(t)}},r.update=function(e){if(this.moveNode){var i=this.direction.clone().multiplyScalar(this.speed*e);this.moveNode.setPosition(this.moveNode.position.clone().add(i));var t=this.moveNode.position,o=this._moveSize.clone().multiplyScalar(.5),n=this._parentSize.clone().multiplyScalar(.5),r=!1;(this.direction.x>0&&t.x-o.x>-n.x||this.direction.x<0&&t.x+o.x<n.x)&&(r=!0),this.direction.y>0&&t.y-o.y>-n.y&&(r=!0),this.direction.y<0&&t.y+o.y<n.y&&(r=!0),r&&this.moveNode.setPosition(this._originPos)}},i}(h)).prototype,"parentNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(m.prototype,"moveNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(m.prototype,"speed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),_=i(m.prototype,"direction",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(1,1,0)}}),f=m))||f));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(n){var e,r,t,u,a;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n.Vec3,u=n.Mat4},function(n){a=n.MathUtil}],execute:function(){r._RF.push({},"66f001iOjpL655hbg7hTDaM","Vec3Util",void 0),r._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.progress=function(n,e,r){var u=new t;return u.x=a.progress(n.x,e.x,r),u.y=a.progress(n.y,e.y,r),u.z=a.progress(n.z,e.z,r),u},n.add=function(n,e){var r=new t;return t.add(r,n,e),r},n.sub=function(n,e){var r=new t;return t.subtract(r,n,e),r},n.mul=function(n,e){var r=new t;return t.multiplyScalar(r,n,e),r},n.div=function(n,e){var r=new t;return r.x=n.x/e,r.y=n.y/e,r.z=n.z/e,r},n.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new t(n.x,n.y,n.z).normalize()},n.direction=function(n,e){var r=new t;return t.subtract(r,e,n),r.normalize()},n.distance=function(n,e){return t.distance(n,e)},n.lerp=function(n,e,r){return this.bezierOne(r,n,e)},n.slerp=function(n,e,r){if(r<=0)return n;if(r>=1)return e;var u=this.rotateTo(n,e,t.angle(n,e)/Math.PI*180*r),a=e.length()*r+n.length()*(1-r);return u.normalize().multiplyScalar(a)},n.rotateTo=function(n,e,r){if(0==t.angle(n,e))return e;var a=new t;t.cross(a,n,e),a.normalize();var i=r*Math.PI/180,l=new u;return l.rotate(i,a),new t(n.x*l.m00+n.y*l.m04+n.z*l.m08,n.x*l.m01+n.y*l.m05+n.z*l.m09,n.x*l.m02+n.y*l.m06+n.z*l.m10)},n.bezierOne=function(n,e,r){n>1?n=1:n<0&&(n=0);var t=e.clone(),u=r.clone();return t.multiplyScalar(1-n).add(u.multiplyScalar(n))},n.bezierTwo=function(n,e,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=n*n,l=e.clone(),o=new t,c=r.clone(),y=u.clone();return o.add(l.multiplyScalar(a*a)),o.add(c.multiplyScalar(2*a*n)),o.add(y.multiplyScalar(i)),o},n.bezierThree=function(n,e,r,t,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=a*a,l=i*a,o=n*n,c=o*n,y=e.clone(),f=e.clone(),s=r.clone(),d=t.clone(),m=u.clone();return f.add(y.multiplyScalar(l)),f.add(s.multiplyScalar(3*i*n)),f.add(d.multiplyScalar(3*a*o)),f.add(m.multiplyScalar(c)),f},n.dot=function(n,e){return n.x*e.x+n.y*e.y+n.z*e.z},n.cross=function(n,e){var r=new t(1,0,0),u=new t(0,1,0),a=new t(0,0,1),i=new t(n.x,n.y,n.z),l=new t(e.x,e.y,e.z),o=r.multiplyScalar(i.y*l.z-l.y*i.z),c=u.multiplyScalar(l.x*i.z-i.x*l.z),y=a.multiplyScalar(i.x*l.y-l.x*i.y);return o.add(c).add(y)},n.angle=function(n,e){var r=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)},n.dirAngle=function(e,r){var t=n.cross(e,r);return n.angle(e,r)*Math.sign(n.dot(t.normalize(),n.cross(r.normalize(),e.normalize())))},e(n,null,[{key:"x",get:function(){return new t(1,0,0)}},{key:"y",get:function(){return new t(0,1,0)}},{key:"z",get:function(){return new t(0,0,1)}},{key:"left",get:function(){return new t(-1,0,0)}},{key:"right",get:function(){return new t(1,0,0)}},{key:"up",get:function(){return new t(0,1,0)}},{key:"down",get:function(){return new t(0,-1,0)}},{key:"forward",get:function(){return new t(0,0,1)}},{key:"back",get:function(){return new t(0,0,-1)}},{key:"one",get:function(){return new t(1,1,1)}},{key:"zero",get:function(){return new t(0,0,0)}}]),n}());r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.director},function(t){i=t.JsonOb}],execute:function(){e._RF.push({},"08f03RX3sFGt53fZwBFgwf8","ViewModel",void 0),e._RF.push({},"54f75k4X+RP0qaXOzrfZysL","ViewModel",void 0);var o="VC:";function r(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==0){console.error("["+a+"] not find in "+i+"."+e);break}r==o.length-1?t[a]=n:t=t[a]}}function a(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==0)return console.error("["+a+"] not find in "+i+"."+e),n;t=t[a]}return null==t&&(t=n),t}var s=function(){function t(t,e){this.$data=void 0,this._tag=null,this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=e}var e=t.prototype;return e._callback=function(t,e,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(n.emit(r,t,e,[this._tag].concat(i)),this.emitToRootPath&&n.emit(o+this._tag,t,e,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},e.setValue=function(t,e){r(this.$data,t,e,this._tag)},e.getValue=function(t,e){return a(this.$data,t,e,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=new Map,this.setObjValue=r,this.getObjValue=a}var e=t.prototype;return e.add=function(t,e,n){void 0===e&&(e="global"),void 0===n&&(n=!1);var i=new s(t,e),o=this._mvs.get(e);e.includes(".")?console.error("cant write . in tag:",e):o?console.error("already set VM tag:"+e):(i.emitToRootPath=n,this._mvs.set(e,i))},e.remove=function(t){this._mvs.delete(t)},e.get=function(t){return this._mvs.get(t)},e.addValue=function(t,e){var n=(t=t.trim()).split(".");n.length<2&&console.error("Cant find path:"+t);var i=this.get(n[0]);if(i){var o=n.slice(1).join(".");i.setValue(o,i.getValue(o)+e)}else console.error("Cant Set VM:"+n[0])},e.getValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(n[0]);if(i)return i.getValue(n.slice(1).join("."),e);console.error("Cant Get VM:"+n[0])}},e.setValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(n[0]);i?i.setValue(n.slice(1).join("."),e):console.error("Cant Set VM:"+n[0])}},e.bindPath=function(t,e,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?n.on(o+t,e,i,r):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本"):console.error(i.node.name,"节点绑定的路径为空")},e.unbindPath=function(t,e,i){"*"!==(t=t.trim()).split(".")[0]?n.off(o+t,e,i):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本")},e.inactive=function(){this._mvs.forEach((function(t){t.active=!1}))},e.active=function(){this._mvs.forEach((function(t){t.active=!1}))},t}()));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var n,t,o,r,a,i,c,u,l,f,s;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.UITransform,a=e.v3,i=e.Size,c=e.Prefab,u=e.instantiate,l=e.Animation,f=e.AnimationClip},function(e){s=e.resLoader}],execute:function(){o._RF.push({},"7b93eqnoLtL0pKZCl9jlt2a","ViewUtil",void 0),o._RF.push({},"f607cCjAEZHVKVZ/FyRs5bA","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.nodeTreeInfoLite=function(n,t){for(var o=t||new Map,r=n.children,a=0;a<r.length;a++){var i=r[a];i.name.indexOf(" ")<0&&o.set(i.name,i),e.nodeTreeInfoLite(i,o)}return o},e.findNodes=function(n,t,o){for(var r=o||[],a=t.children,i=0;i<a.length;i++){var c=a[i].name;n.test(c)&&r.push(a[i]),e.findNodes(n,a[i],r)}return r},e.calculateASpaceToBSpacePos=function(e,n,t){var o=e.getComponent(r).convertToWorldSpaceAR(t);return n.getComponent(r).convertToNodeSpaceAR(o)},e.calculateScreenPosToSpacePos=function(e,n){var t=e.getUILocation(),o=a(t.x,t.y);return n.getComponent(r).convertToNodeSpaceAR(o)},e.uniformScale=function(e,n,t,o){var r,a=t/e,c=o/n;return r=a<c?a:c,new i(Math.floor(e*r),Math.floor(n*r))},e.createPrefabNode=function(e,n){void 0===n&&(n=s.defaultBundleName);var t=s.get(e,c,n);return t?u(t):null},e.createPrefabNodeAsync=function(e,o){return void 0===o&&(o=s.defaultBundleName),new Promise(n(t().mark((function n(r,a){var i;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadAsync(o,e,c);case 2:(i=n.sent)?r(u(i)):(console.error("名为【"+e+"】的资源加载失败"),r(null));case 4:case"end":return n.stop()}}),n)}))))},e.addNodeAnimation=function(e,n,t,o){if(void 0===t&&(t=!0),void 0===o&&(o=!1),n&&n.isValid){var r=n.getComponent(l);null==r&&(r=n.addComponent(l));var a=s.get(e,f);if(a&&!(t&&r.getState(a.name)&&r.getState(a.name).isPlaying)){if(o)return r.defaultClip=a,void r.play();r.once(l.EventType.FINISHED,(function(){r.defaultClip&&r.play()}),this),r.getState(a.name)||r.createState(a,a.name),r.play(a.name)}}},e}());o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/VivoAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts"],(function(o){var n,t,i,e;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,i=o._decorator},function(o){e=o.BaseAPI}],execute:function(){var c;t._RF.push({},"289ad9RhnRED7ql+Huj/QoT","VivoAPI",void 0),t._RF.push({},"0f07fzJAqtCVKnGSdF41X+x","VivoAPI",void 0);var s=i.ccclass;i.property,o("VivoAPI",s("VivoAPI")(c=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var i=t.prototype;return i.InitGame=function(){this.api=window.qg,o.prototype.InitGame.call(this)},i.Gamelogin=function(){window.qg.getSystemInfoSync().platformVersionCode>=1063&&window.qg.login().then((function(o){o.data.token&&console.log("登录成功：",o.data.token)}),(function(o){console.log("登录失败"+JSON.stringify(o))}))},i.CheckDesktopIsAvailable=function(o){void 0===o&&(o=function(){}),null==o||o(!0)},i.AddToDesktop=function(o){window.qg.installShortcut({success:function(){console.log("创建成功")}})},t}(e))||c);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./VMEnv.ts"],(function(t){var n,e,i,a,h,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,a=t.log,h=t.Component},function(t){o=t.VM},function(t){r=t.VMEnv}],execute:function(){var s;e._RF.push({},"bd3f4gqC9dKtqNnF+PWp8VE","VMBase",void 0);var c=i.ccclass,d=i.help;e._RF.push({},"2f6f36IvUdPO7xynnVTPgzb","VMBase",void 0);t("VMBase",c(s=d("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037631&doc_id=2873565")(s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).VM=o,n.watchPath="",n.templateMode=!1,n.watchPathArr=[],n.templateValueArr=[],n}n(e,t);var i=e.prototype;return i.onLoad=function(){var t=this;if(!r.editor){for(var n=this.watchPath.split("."),e=1;e<n.length;e++)if("*"==n[e]){var i=this.node.parent.children.findIndex((function(n){return n===t.node}));i<=0&&(i=0),n[e]=i.toString();break}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var o=0;o<h.length;o++){for(var s=h[o].split("."),c=1;c<s.length;c++)if("*"==s[c]){var d=this.node.parent.children.findIndex((function(n){return n===t.node}));d<=0&&(d=0),s[c]=d.toString();break}this.watchPathArr[o]=s.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&a("可能未设置路径的节点:",this.node.parent.name+"."+this.node.name)}},i.onEnable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit())},i.onDisable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this))},i.setMultPathEvent=function(t){if(void 0===t&&(t=!0),!r.editor)for(var n=this.watchPathArr,e=0;e<n.length;e++){var i=n[e];t?this.VM.bindPath(i,this.onValueChanged,this):this.VM.unbindPath(i,this.onValueChanged,this)}},i.onValueInit=function(){},i.onValueChanged=function(t,n,e){},e}(h))||s)||s);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/VMCompsEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){var t,r,o,i,n,a,c,l,p,s,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.CCString,p=e.Enum,s=e.Node,u=e.log,h=e.Component},function(e){f=e.VMEnv}],execute:function(){var _,g,d,E,y,T,P,b,C,N,O,v,m,w,A,M,L,k,H,D,R,j,V;a._RF.push({},"503e6RUZHxDjIwD4ao+J1NB","VMCompsEdit",void 0);var z=c.ccclass,F=c.property,S=c.executeInEditMode,B=c.menu,W=c.help;a._RF.push({},"2359eFXKF5HFYS74K7Y17/U","VMCompsEdit",void 0);var x=function(e){return e[e.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",e[e.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",e[e.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",e[e.DELETE_COMPONENT=3]="DELETE_COMPONENT",e}(x||{});e("default",(_=B("OopsFramework/Mvvm/Edit-Comps （快速组件操作）"),g=W("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037632&doc_id=2873565"),d=F({type:[l]}),E=F({type:p(x)}),y=F({tooltip:"勾选后,会自动查找 find list 中填写的组件",visible:function(){return this.actionType===x.SEARCH_COMPONENT}}),T=F({tooltip:"勾选后,会批量激活 find list 中填写的组件",visible:function(){return this.actionType===x.ENABLE_COMPONENT}}),P=F({tooltip:"勾选后,会批量关闭 find list 中填写的组件",visible:function(){return this.actionType===x.ENABLE_COMPONENT}}),b=F({tooltip:"允许删除节点的组件,确定需要移除请勾选,防止误操作",visible:function(){return this.actionType===x.DELETE_COMPONENT}}),C=F({tooltip:"勾选后,会批量删除 find list 中填写的组件",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===x.DELETE_COMPONENT}}),N=F({tooltip:"勾选后,会批量替换掉指定的路径",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),O=F({tooltip:"匹配的路径,匹配规则: 搜索开头为 game的路径",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),v=F({tooltip:"替换的路径,将匹配到的路径替换",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),m=F({tooltip:"是否搜集绑定VM组件的节点?",visible:function(){return this.actionType===x.SEARCH_COMPONENT}}),w=F({type:[s],readonly:!0,tooltip:"收集到绑定了VM组件相关的节点，可以自己跳转过去",visible:function(){return this.canCollectNodes&&this.actionType===x.SEARCH_COMPONENT}}),z(A=S(A=_(A=g((L=t((M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"findList",L,i(t)),o(t,"actionType",k,i(t)),o(t,"allowDelete",H,i(t)),o(t,"targetPath",D,i(t)),o(t,"replacePath",R,i(t)),o(t,"canCollectNodes",j,i(t)),o(t,"collectNodes",V,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(!f.editor){var e=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",e)}},a.setComponents=function(e){var t=this,r=this.findList,o="搜索到当前节点下面的组件";switch(e){case 0:o="搜索到当前节点下面的组件";break;case 1:o="激活以下节点的组件";break;case 2:o="关闭以下节点的组件";break;case 3:o="删除以下节点的组件";break;case 4:o="替换以下节点的路径"}u(o),u("______________________"),r.forEach((function(r){t.searchComponent(r,e)})),u("______________________")},a.searchComponent=function(e,t){var r=this;void 0===t&&(t=0),this.collectNodes=[];var o=this.node.getComponentsInChildren(e);null==o||o.length<1||(u("["+e+"]:"),o.forEach((function(e){var o="";switch(t<=3&&(o=!0===e.templateMode?e.watchPathArr?":[Path:"+e.watchPathArr.join("|")+"]":"":e.watchPath?":[Path:"+e.watchPath+"]":""),u(r.getNodePath(e.node)+o),t){case 0:r.canCollectNodes&&-1===r.collectNodes.indexOf(e.node)&&r.collectNodes.push(e.node);break;case 1:e.enabled=!0;break;case 2:e.enabled=!1;break;case 3:e.node.removeComponent(e);break;case 4:var i=r.targetPath,n=r.replacePath;if(!0===e.templateMode)for(var a=0;a<e.watchPathArr.length;a++){var c=e.watchPathArr[a];e.watchPathArr[a]=r.replaceNodePath(c,i,n)}else e.watchPath=r.replaceNodePath(e.watchPath,i,n)}})))},a.replaceNodePath=function(e,t,r){for(var o=e.split("."),i=t.split("."),n=r.split("."),a=!0,c=0;c<i.length;c++)if(o[c]!==i[c]){a=!1;break}if(!0===a){for(var l=0;l<n.length;l++)o[l]=n[l];u(" 路径更新:",e,">>>",o.join("."))}return o.join(".")},a.getNodePath=function(e){for(var t=e,r=[];t;){var o=t.getParent();if(!o)break;r.push(t.name),t=o}return r.reverse().join("/")},n(t,[{key:"findTrigger",get:function(){return!1},set:function(e){this.setComponents(0)}},{key:"enableTrigger",get:function(){return!1},set:function(e){this.setComponents(1)}},{key:"disableTrigger",get:function(){return!1},set:function(e){this.setComponents(2)}},{key:"deleteTrigger",get:function(){return!1},set:function(e){this.setComponents(3)}},{key:"replaceTrigger",get:function(){return!1},set:function(e){this.setComponents(4)}}]),t}(h)).prototype,"findList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["VMBase","VMParent"]}}),k=t(M.prototype,"actionType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.SEARCH_COMPONENT}}),t(M.prototype,"findTrigger",[y],Object.getOwnPropertyDescriptor(M.prototype,"findTrigger"),M.prototype),t(M.prototype,"enableTrigger",[T],Object.getOwnPropertyDescriptor(M.prototype,"enableTrigger"),M.prototype),t(M.prototype,"disableTrigger",[P],Object.getOwnPropertyDescriptor(M.prototype,"disableTrigger"),M.prototype),H=t(M.prototype,"allowDelete",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"deleteTrigger",[C],Object.getOwnPropertyDescriptor(M.prototype,"deleteTrigger"),M.prototype),t(M.prototype,"replaceTrigger",[N],Object.getOwnPropertyDescriptor(M.prototype,"replaceTrigger"),M.prototype),D=t(M.prototype,"targetPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"game"}}),R=t(M.prototype,"replacePath",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"*"}}),j=t(M.prototype,"canCollectNodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(M.prototype,"collectNodes",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=M))||A)||A)||A)||A));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/VMCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./VMEnv.ts"],(function(t){var e,o,n,i,r,c,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Toggle},function(t){s=t.VMBase},function(t){l=t.VMEnv}],execute:function(){var p,h,u,m,f,d,g,C,V,_,y,b,v,w,P;r._RF.push({},"de9af4VEitACLDtSr3zV7iv","VMCustom",void 0);var M=c.ccclass,k=c.property,R=c.executeInEditMode,x=c.menu,z=c.help;r._RF.push({},"ce662fwsSVPLKpmHx+KocFu","VMCustom",void 0);var B=[["BhvFrameIndex","index",!1],["BhvGroupToggle","index",!1],["BhvRollNumber","targetValue",!1],["cc.Label","string",!1],["cc.RichText","string",!1],["cc.EditBox","string",!0],["cc.Slider","progress",!0],["cc.ProgressBar","progress",!1],["cc.Toggle","isChecked",!0]];t("VMCustom",(p=M("VMCustom"),h=x("OopsFramework/Mvvm/VM-Custom （自定义）"),u=z("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037634&doc_id=2873565"),m=k({tooltip:"激活controller,以开启双向绑定，否则只能接收消息"}),f=k({tooltip:"监视对象路径"}),d=k({tooltip:"绑定组件的名字"}),g=k({tooltip:"组件上需要监听的属性"}),C=k({tooltip:"刷新间隔频率(只影响脏检查的频率)",step:.01,range:[0,1],visible:function(){return!0===this.controller}}),p(V=R(V=h(V=u((y=e((_=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"controller",y,i(e)),n(e,"watchPath",b,i(e)),n(e,"componentName",v,i(e)),n(e,"componentProperty",w,i(e)),n(e,"refreshRate",P,i(e)),e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}o(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),l.editor||(this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState())},r.onRestore=function(){this.checkEditorComponent()},r.start=function(){this.onValueInit()},r.checkEditorComponent=function(){if(!l.editor)for(var t=0;t<B.length;t++){var e=B[t];if(this.node.getComponent(e[0])){""==this.componentName&&(this.componentName=e[0]),""==this.componentProperty&&(this.componentProperty=e[1]),null!==e[2]&&(this.controller=e[2]);break}}},r.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent?this._canWatchComponent=!0:console.error("需要监听的组件的属性不存在"):console.error("未设置需要监听的组件 的属性"):console.error("未设置需要监听的组件")},r.getComponentValue=function(){return this._watchComponent[this.componentProperty]},r.setComponentValue=function(t){"cc.Toggle"==this.componentName?this.node.getComponent(a).isChecked=t:this._watchComponent[this.componentProperty]=t},r.onValueInit=function(){l.editor||this.setComponentValue(this.VM.getValue(this.watchPath))},r.onValueController=function(t,e){this.VM.setValue(this.watchPath,t)},r.onValueChanged=function(t,e,o){this.setComponentValue(t)},r.update=function(t){if(!l.editor&&this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled){if(this._timer+=t,this._timer<this.refreshRate)return;this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},e}(s)).prototype,"controller",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=e(_.prototype,"watchPath",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(_.prototype,"componentName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(_.prototype,"componentProperty",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=e(_.prototype,"refreshRate",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),V=_))||V)||V)||V)||V));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/VMEnv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env.ts"],(function(n){var e,t,u;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy},function(n){u=n.EDITOR}],execute:function(){t._RF.push({},"6560e/T3zVPE4mLZTEulxCg","VMEnv",void 0),t._RF.push({},"fdf72Q91PdCXpPQ+62s1ufi","VMEnv",void 0);n("VMEnv",function(){function n(){}return e(n,null,[{key:"editor",get:function(){return u}}]),n}());t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/VMEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(e){var t,r,n,i,o,a,c,l,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.CCString,l=e.Enum,u=e.EventHandler},function(e){s=e.VMBase}],execute:function(){var p,f,h,b,d,g,v,m,y,M,w,k,E,V,z,_,P,A;o._RF.push({},"cb8a4lcdxFHkpysfhvysMlg","VMEvent",void 0);var C=a.ccclass,F=a.property,D=a.executeInEditMode,O=a.menu,R=a.help;o._RF.push({},"a9ce7kf8XZJeLPlT2iWn2zD","VMEvent",void 0);var x=function(e){return e[e.none=0]="none",e[e["=="]=1]="==",e[e["!="]=2]="!=",e[e[">"]=3]=">",e[e[">="]=4]=">=",e[e["<"]=5]="<",e[e["<="]=6]="<=",e}(x||{});e("default",(p=O("OopsFramework/Mvvm/VM-EventCall （调用函数）"),f=R("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037640&doc_id=2873565"),h=F({tooltip:"使用模板模式，可以使用多路径监听"}),b=F({tooltip:"监听获取值的路径",visible:function(){return!1===this.templateMode}}),d=F({tooltip:"触发一次后会自动关闭该事件"}),g=F({tooltip:"监听获取值的多条路径,这些值的改变都会通过这个函数回调,请使用 pathArr 区分获取的值 ",type:[c],visible:function(){return!0===this.templateMode}}),v=F({tooltip:"过滤模式，会根据条件过滤掉时间的触发",type:l(x)}),m=F({visible:function(){return this.filterMode!==x.none}}),y=F([u]),C(M=D(M=p(M=f((k=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"templateMode",k,i(t)),n(t,"watchPath",E,i(t)),n(t,"triggerOnce",V,i(t)),n(t,"watchPathArr",z,i(t)),n(t,"filterMode",_,i(t)),n(t,"compareValue",P,i(t)),n(t,"changeEvents",A,i(t)),t}r(t,e);var o=t.prototype;return o.onValueInit=function(){},o.onValueChanged=function(e,t,r){this.conditionCheck(e,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach((function(n){n.emit([e,t,r])})),!0===this.triggerOnce&&(this.enabled=!1))},o.conditionCheck=function(e,t){switch(this.filterMode){case x.none:return!0;case x["=="]:if(e==t)return!0;break;case x["!="]:if(e!=t)return!0;break;case x["<"]:if(e<t)return!0;break;case x[">"]:if(e>t)return!0;break;case x[">="]:if(e>=t)return!0;break;case x["<="]:if(e<=t)return!0}return!1},t}(s)).prototype,"templateMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(w.prototype,"watchPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),V=t(w.prototype,"triggerOnce",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(w.prototype,"watchPathArr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(w.prototype,"filterMode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.none}}),P=t(w.prototype,"compareValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=t(w.prototype,"changeEvents",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=w))||M)||M)||M)||M));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMBase.ts","./VMEnv.ts"],(function(t){var e,r,i,a,n,l,o,s,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,s=t.error},function(t){c=t.StringFormatFunction},function(t){u=t.VMBase},function(t){h=t.VMEnv}],execute:function(){var p,f,g,m,b,d,V,v,y,L,M,T;n._RF.push({},"b8011nHtyhNW6AFgIJsVEde","VMLabel",void 0);var w=l.ccclass,F=l.property,x=l.menu,A=l.executeInEditMode,P=l.help;n._RF.push({},"545c05XsG9GDJispEGWKvYv","VMLabel",void 0);t("default",(p=x("OopsFramework/Mvvm/VM-Label （标签）"),f=P("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037641&doc_id=2873565"),g=F({tooltip:"是否启用模板代码,只能在运行时之前设置,\n将会动态解析模板语法 {{0}},并且自动设置监听的路径"}),m=F({visible:function(){return!1===this.templateMode}}),b=F({readonly:!0}),d=F({type:[o],visible:function(){return!0===this.templateMode}}),w(V=A(V=p(V=f((y=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"templateMode",y,a(e)),i(e,"watchPath",L,a(e)),i(e,"labelType",M,a(e)),i(e,"watchPathArr",T,a(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),h.editor||this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){h.editor||this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var i=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=i}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,i=0;i<e.length;i++){var a=e[i],n=a.match(t),l=parseInt(n[1]||"0")||0,o=this.templateFormatArr[i],s=this.templateValueArr[l];r=r.replace(a,this.getValueFromFormat(s,o))}return r},n.getValueFromFormat=function(t,e){return c.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var i=r.join("."),a=this.watchPathArr.findIndex((function(t){return t===i}));a>=0&&(this.templateValueArr[a]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},n.getLabelValue=function(){return this.getComponent(this.labelType).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return s("没有挂载任何label组件"),!1},e}(u)).prototype,"templateMode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=e(v.prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=e(v.prototype,"labelType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"cc.Label"}}),T=e(v.prototype,"watchPathArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=v))||V)||V)||V)||V));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/VMModify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(t){var a,e,i,n,r,u,l,o;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,l=t.Enum},function(t){o=t.VMBase}],execute:function(){var s,h,c,v,p,M,f,d,m,V,b,w,y,g;r._RF.push({},"1a61ayJZDZEgKHels4/s56y","VMModify",void 0);var P=u.ccclass,I=u.property,A=u.menu,_=u.help;r._RF.push({},"7d2a4voaOJJGJZRWFPG6Bk7","VMModify",void 0);var C=function(t){return t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX",t}(C||{});t("default",(s=A("OopsFramework/Mvvm/VM-Modify （修改数据）"),h=_("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037642&doc_id=2873565"),c=I({tooltip:"监视对象路径"}),v=I({tooltip:"是不启用取值范围限制"}),p=I({type:l(C),visible:function(){return!0===this.valueClamp}}),M=I({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==C.MAX}}),f=I({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==C.MIN}}),P(d=s(d=h((V=a((m=function(t){function a(){for(var a,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return a=t.call.apply(t,[this].concat(r))||this,i(a,"watchPath",V,n(a)),i(a,"valueClamp",b,n(a)),i(a,"valueClampMode",w,n(a)),i(a,"valueMin",y,n(a)),i(a,"valueMax",g,n(a)),a}e(a,t);var r=a.prototype;return r.clampValue=function(t){var a=this.valueMin,e=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case C.MIN_MAX:t>e&&(t=e),t<a&&(t=a);break;case C.MIN:t<a&&(t=a);break;case C.MAX:t>e&&(t=e)}return t},r.vAddInt=function(t,a){this.vAdd(t,a,!0)},r.vSubInt=function(t,a){this.vSub(t,a,!0)},r.vMulInt=function(t,a){this.vMul(t,a,!0)},r.vDivInt=function(t,a){this.vDiv(t,a,!0)},r.vAdd=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)+i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vSub=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)-i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vMul=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)*i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vDiv=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)/i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vString=function(t,a){var e=a;this.VM.setValue(this.watchPath,e)},r.vNumberInt=function(t,a){this.vNumber(t,a,!0)},r.vNumber=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a);e&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},a}(o)).prototype,"watchPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=a(m.prototype,"valueClamp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=a(m.prototype,"valueClampMode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.MIN_MAX}}),y=a(m.prototype,"valueMin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=a(m.prototype,"valueMax",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=m))||d)||d)||d));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/VMParent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ViewModel.ts"],(function(t){var n,e,o,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.GameComponent},function(t){a=t.VM}],execute:function(){var r;e._RF.push({},"4c5a4Zdg3tJ9b6dedyJfV6L","VMParent",void 0);var s=o.ccclass,c=o.help,h=o.executionOrder;e._RF.push({},"15ccciO+ZRH476sPKD/LvB7","VMParent",void 0);t("default",s(r=h(-1)(r=c("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037729&doc_id=2873565")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).tag="_temp",n.data={},n.VM=a,n}n(e,t);var o=e.prototype;return o.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",a.add(this.data,this.tag);for(var t=this.getVMComponents(),n=0;n<t.length;n++){var e=t[n];this.replaceVMPath(e,this.tag)}this.onBind()}},o.onBind=function(){},o.onUnBind=function(){},o.replaceVMPath=function(t,n){var e=t.watchPath;if(1==t.templateMode){var o=t.watchPathArr;if(o)for(var i=0;i<o.length;i++){var a=o[i];o[i]=a.replace("*",n)}}else"*"===e.split(".")[0]&&(t.watchPath=e.replace("*",n))},o.getVMComponents=function(){var t=this,n=this.node.getComponentsInChildren("VMBase"),e=this.node.getComponentsInChildren("VMParent").filter((function(n){return n.uuid!==t.uuid})),o=[];return e.forEach((function(t){o=o.concat(t.getComponentsInChildren("VMBase"))})),n.filter((function(t){return o.indexOf(t)<0}))},o.onDestroy=function(){this.onUnBind(),a.remove(this.tag),this.data=null,t.prototype.onDestroy.call(this)},e}(i))||r)||r)||r);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/VMProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMCustom.ts","./VMEnv.ts"],(function(t){var e,r,i,a,o,n,s,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,s=t.CCString},function(t){l=t.StringFormatFunction},function(t){u=t.VMCustom},function(t){h=t.VMEnv}],execute:function(){var c,p,m,f,V,g,d,v,w,P;o._RF.push({},"f1cb8G3LrZKJLj94N91my1R","VMProgress",void 0);var y=n.ccclass,A=n.property,M=n.menu,b=n.help;o._RF.push({},"2a50eqI7JZNV5Sh0y/Qd9C6","VMProgress",void 0);t("default",(c=M("OopsFramework/Mvvm/VM-Progress （进度条）"),p=b("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037843&doc_id=2873565"),m=A({visible:!1,override:!0}),f=A({type:[s],tooltip:"第一个值是min 值，第二个值 是 max 值，会计算出两者的比例"}),V=A({visible:function(){return"string"===this.componentProperty},tooltip:"字符串格式化，和 VMLabel 的字段一样，需要填入对应的格式化字符串"}),y(g=c(g=p((v=e((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"watchPath",v,a(e)),i(e,"watchPathArr",w,a(e)),e.templateMode=!0,i(e,"stringFormat",P,a(e)),e}r(e,t);var o=e.prototype;return o.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},o.start=function(){h.editor||this.onValueInit()},o.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var r=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(r)},o.setComponentValue=function(e){if(""!==this.stringFormat){var r=l.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,r)}else t.prototype.setComponentValue.call(this,e)},o.onValueController=function(t,e){var r=Math.round(t*this.templateValueArr[1]);Number.isNaN(r)&&(r=0),this.VM.setValue(this.watchPathArr[0],r)},o.onValueChanged=function(t,e,r){if(!1!==this.templateMode){var i=r.join("."),a=this.watchPathArr.findIndex((function(t){return t===i}));a>=0&&(this.templateValueArr[a]=t);var o=this.templateValueArr[0]/this.templateValueArr[1];o>1&&(o=1),(o<0||Number.isNaN(o))&&(o=0),this.setComponentValue(o)}},e}(u)).prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(d.prototype,"watchPathArr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["[min]","[max]"]}}),P=e(d.prototype,"stringFormat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=d))||g)||g)||g));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/VMState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./ViewModel.ts"],(function(e){var t,i,n,o,a,r,l,u,c,s,p,h,f,N,C,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Enum,u=e.CCInteger,c=e.Node,s=e.Button,p=e.Sprite,h=e.UIRenderer,f=e.color,N=e.UIOpacity},function(e){C=e.VMBase},function(e){d=e.VM}],execute:function(){var b,v,O,m,E,y,A,T,_,g,w,D,M,V,I,S,P,k,L,R,B,z,U,F,Y,X,j,G,x,H,J;a._RF.push({},"ef2ee+fN+BJjpTNEksiegcO","VMState",void 0);var q=r.ccclass,K=r.property,Q=r.menu,W=r.help;a._RF.push({},"47052uw/Y5O1LXaLObj4ARx","VMState",void 0);var Z=function(e){return e[e["=="]=0]="==",e[e["!="]=1]="!=",e[e[">"]=2]=">",e[e[">="]=3]=">=",e[e["<"]=4]="<",e[e["<="]=5]="<=",e[e.range=6]="range",e}(Z||{}),$=function(e){return e[e.NODE_ACTIVE=0]="NODE_ACTIVE",e[e.NODE_VISIBLE=1]="NODE_VISIBLE",e[e.NODE_OPACITY=2]="NODE_OPACITY",e[e.NODE_COLOR=3]="NODE_COLOR",e[e.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM",e[e.SPRITE_GRAYSCALE=5]="SPRITE_GRAYSCALE",e[e.BUTTON_INTERACTABLE=6]="BUTTON_INTERACTABLE",e}($||{}),ee=function(e){return e[e.NODE_INDEX=0]="NODE_INDEX",e[e.NODE_NAME=1]="NODE_NAME",e}(ee||{});e("default",(b=Q("OopsFramework/Mvvm/VM-State （状态控制）"),v=W("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037846&doc_id=2873565"),O=K({tooltip:"遍历子节点,根据子节点的名字或名字转换为值，判断值满足条件 来激活"}),m=K({type:l(Z)}),E=K({type:l(ee),tooltip:"遍历子节点,根据子节点的名字转换为值，判断值满足条件 来激活",visible:function(){return!0===this.foreachChildMode}}),y=K({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}}),A=K({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===Z.range}}),T=K({type:l($),tooltip:"一旦满足条件就对节点执行操作"}),_=K({visible:function(){return this.valueAction===$.NODE_OPACITY},range:[0,255],type:u,displayName:"Action Opacity"}),g=K({visible:function(){return this.valueAction===$.NODE_COLOR},displayName:"Action Color"}),w=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Component Name"}),D=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Component Property"}),M=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Default Value"}),V=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Action Value"}),I=K({type:[c],tooltip:"需要执行条件的节点，如果不填写则默认会执行本节点以及本节点的所有子节点 的状态"}),q(S=b(S=v((k=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"watchPath",k,o(t)),n(t,"foreachChildMode",L,o(t)),n(t,"condition",R,o(t)),n(t,"foreachChildType",B,o(t)),n(t,"valueA",z,o(t)),n(t,"valueB",U,o(t)),n(t,"valueAction",F,o(t)),n(t,"valueActionOpacity",Y,o(t)),n(t,"valueActionColor",X,o(t)),n(t,"valueComponentName",j,o(t)),n(t,"valueComponentProperty",G,o(t)),n(t,"valueComponentDefaultValue",x,o(t)),n(t,"valueComponentActionValue",H,o(t)),n(t,"watchNodes",J,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==$.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},a.start=function(){this.enabled&&this.onValueInit()},a.onValueInit=function(){var e=d.getValue(this.watchPath);this.checkNodeFromValue(e)},a.onValueChanged=function(e,t,i){this.checkNodeFromValue(e)},a.checkNodeFromValue=function(e){var t=this;if(this.foreachChildMode)this.watchNodes.forEach((function(i,n){var o=t.foreachChildType===ee.NODE_INDEX?n:i.name,a=t.conditionCheck(e,o);t.setNodeState(i,a)}));else{var i=this.conditionCheck(e,this.valueA,this.valueB);this.setNodesStates(i)}},a.setNodesStates=function(e){var t=this,i=this.watchNodes,n=e;i.forEach((function(e){t.setNodeState(e,n)}))},a.setNodeState=function(e,t){var i=t;switch(this.valueAction){case $.NODE_ACTIVE:e.active=!!i;break;case $.NODE_VISIBLE:var n=e.getComponent(N);null==n&&(n=e.addComponent(N)),n&&(n.opacity=i?255:0);break;case $.NODE_OPACITY:var o=e.getComponent(N);null==o&&(o=e.addComponent(N)),o&&(o.opacity=i?this.valueActionOpacity:255);break;case $.NODE_COLOR:var a=e.getComponent(h);a&&(a.color=i?this.valueActionColor:f(255,255,255));break;case $.COMPONENT_CUSTOM:var r=e.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&(r[this.valueComponentProperty]=i?this.valueComponentActionValue:this.valueComponentDefaultValue);break;case $.SPRITE_GRAYSCALE:var l=e.getComponent(p);l&&(l.grayscale=i);break;case $.BUTTON_INTERACTABLE:var u=e.getComponent(s);u&&(u.interactable=i)}},a.conditionCheck=function(e,t,i){switch(this.condition){case Z["=="]:if(e==t)return!0;break;case Z["!="]:if(e!=t)return!0;break;case Z["<"]:if(e<t)return!0;break;case Z[">"]:if(e>t)return!0;break;case Z[">="]:if(e>=t)return!0;break;case Z["<="]:if(e<=t)return!0;break;case Z.range:if(e>=t&&e<=i)return!0}return!1},t}(C)).prototype,"watchPath",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(P.prototype,"foreachChildMode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(P.prototype,"condition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z["=="]}}),B=t(P.prototype,"foreachChildType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.NODE_INDEX}}),z=t(P.prototype,"valueA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"valueB",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(P.prototype,"valueAction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.NODE_ACTIVE}}),Y=t(P.prototype,"valueActionOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(P.prototype,"valueActionColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(155,155,155)}}),j=t(P.prototype,"valueComponentName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=t(P.prototype,"valueComponentProperty",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(P.prototype,"valueComponentDefaultValue",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=t(P.prototype,"valueComponentActionValue",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),J=t(P.prototype,"watchNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S)||S)||S));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/WebSock.ts",["cc","./Logger.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Logger}],execute:function(){e._RF.push({},"e9f99ZP7K9MZ4N4auxUQFzL","WebSock",void 0),e._RF.push({},"70df2VbIU9B66Fr+op8FKJp","WebSock",void 0);t("WebSock",function(){function t(){this._ws=null,this.onConnected=null,this.onMessage=null,this.onError=null,this.onClosed=null}var e=t.prototype;return e.connect=function(t){if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return n.logNet("websocket connecting, wait for a moment..."),!1;var e=null;if(t.url)e=t.url;else{var s=t.ip,o=t.port;e=t.protocol+"://"+s+":"+o}this._ws=new WebSocket(e),this._ws.binaryType=t.binaryType?t.binaryType:"arraybuffer";var r=this;return this._ws.onmessage=function(t){r.onMessage(t.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.send=function(t){return this._ws&&this._ws.readyState==WebSocket.OPEN?(this._ws.send(t),1):-1},e.close=function(t,e){this._ws&&this._ws.close(t,e)},t}());e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/WeChatAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ToastMgr.ts","./GameEnum.ts","./GameEvent.ts","./UmengMgr.ts","./BaseAPI.ts"],(function(e){var t,n,i,o,s,r,a,c,h,l,d,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Vec2,s=e.view},function(e){r=e.oops},function(e){a=e.ToastMgr},function(e){c=e.GetShareTitle},function(e){h=e.SDKEvent},function(e){l=e.UmengMgr},function(e){d=e.GridLocationType,u=e.BaseAPI}],execute:function(){var w;n._RF.push({},"353921mR25MFq7e8z43Ngu1","WeChatAPI",void 0),n._RF.push({},"e0d27KlOtlDhJiIr24ltswa","WeChatAPI",void 0);var g=i.ccclass;i.property,e("WeChatAPI",g("WeChatAPI")(w=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).isLastShare=!1,t.recorderTime=0,t.isShared=!1,t.shareTime=0,t.shareComplete=null,t.gameClubBtn=void 0,t}t(n,e);var i=n.prototype;return i.InitGame=function(){this.api=window.wx,this.InitOnShow(),this.InitShareMenu(),this.InitRecorder(),e.prototype.InitGame.call(this)},i.GetWindowSize=function(){return new o(window.wx.getWindowInfo().screenWidth,window.wx.getWindowInfo().screenHeight)},i.InitOnShow=function(){var e=this;window.wx.onShow((function(){e.ShareCallBack()}))},i.InitShareMenu=function(){window.wx.showShareMenu({withShareTicket:!1,menus:["shareAppMessage","shareTimeline"],success:function(e){console.log("开始被动转发shareMenu成功")},fail:function(){console.log("开始被动转发shareMenu失败")}}),(l.Instance.uma?l.Instance.uma:window.wx).onShareAppMessage((function(){return{title:c()}}))},i.InitRecorder=function(){var e=this;this.recorder=window.wx.getGameRecorder(),this.recorder&&(this.recorder.on("start",(function(){console.log("开始录制")})),this.recorder.on("stop",(function(t){console.log("录制结束,对局回放时长: "+t.duration),e.recorderTime=t.duration,e.isShaderVideo=!0,r.message.dispatchEvent(h.RecordSaved)})),console.log("初始录制组件"))},i.ShareCallBack=function(){var e,t;this.isShared&&(this.isShared=!1,(new Date).getTime()-this.shareTime>=5e3?(this.isShaderVideo=!1,null==(e=this.shareComplete)||e.call(this,!0),r.message.dispatchEvent(h.ShareVideoSuccess),this.isLastShare=!0,a.AddMessage("分享成功")):(null==(t=this.shareComplete)||t.call(this,!1),this.isLastShare&&r.random.getRandomFloat(0,100)<40?a.AddMessage("不能分享同一个群"):a.AddMessage("分享失败")))},i.StartRecorder=function(){this.GetIsCanRecorder()&&(console.log("调用开始录制"),this.recorder.start())},i.PauseRecorder=function(){this.GetIsCanRecorder()&&this.recorder.pause()},i.ResumeRecorder=function(){this.GetIsCanRecorder()&&this.recorder.resume()},i.EndRecorder=function(){this.GetIsCanRecorder()&&(console.log("调用结束录制"),this.recorder.stop())},i.ShareVideo=function(e,t,n){if(void 0===n&&(n=null),this.GetIsCanRecorder()){this.isShared=!0,this.shareTime=(new Date).getTime(),this.shareComplete=n;var i=0,o=this.recorderTime;o>6e4&&(i=o-6e4),console.log("开始分享录屏");var s=this;window.wx.operateGameRecorderVideo({title:e,desc:t+"#游戏推荐 #休闲游戏 #每天分享一款小游戏",timeRange:[[i,o]],success:function(){console.log("分享成功")},fail:function(e){s.isShared=!1,console.log("分享失败:",e)}})}},i.ShareAppMessage=function(e,t){void 0===t&&(t=null),this.isShared=!0,this.shareTime=(new Date).getTime(),this.shareComplete=t;var n={title:e,query:""};(l.Instance.uma?l.Instance.uma:window.wx).shareAppMessage(n)},i.InitGridAds=function(e,t,n,i){void 0===n&&(n=o.ONE),void 0===i&&(i=o.ZERO);var s=new o(70*n.x,100*n.y),r=this.GetWindowSize(),a=o.ZERO;t==d.居中?a=new o(r.x/2-s.x/2,r.y/2-s.y/2):t==d.底部居中?a=new o(r.x/2-s.x/2,r.y-s.y):t==d.左上?a=o.ZERO:t==d.左中?a=new o(0,r.y/2-s.y/2):t==d.左下?a=new o(0,r.y-s.y):t==d.右上?a=new o(r.x-s.x,0):t==d.右中?a=new o(r.x-s.x,r.y/2-s.y/2):t==d.右下&&(a=new o(r.x-s.x,r.y-s.y)),a=new o(a.x+i.x,a.y-i.y);var c=window.wx.createCustomAd({adUnitId:e,adIntervals:30,style:{left:a.x,top:a.y}});return c.onError((function(e){console.log("格子广告错误:"+e.errMsg)})),c},i.ShowGridAds=function(e){e?e.show().catch((function(e){console.error("游戏格子显示失败",e)})):console.log("请先初始格子广告")},i.HideGridAds=function(e){e?e.hide():console.log("请先初始格子广告")},i.CreateGameClub=function(e){var t=s.getVisibleSize(),n=e.worldPosition.x/t.width,i=1-e.worldPosition.y/t.height,o=this.GetWindowSize(),r=o.x*n+10,a=o.y*i+5;this.gameClubBtn||(this.gameClubBtn=window.wx.createGameClubButton({type:"text",text:"游戏圈",style:{left:r-45,top:a-15,width:90,height:30,backgroundColor:"FFFFFF",textAlign:"center",fontSize:.025*this.GetWindowSize().y}})),this.gameClubBtn.style.left=r-45,this.gameClubBtn.style.top=a-15,this.ShowGameClub()},i.HideGameClub=function(){this.gameClubBtn&&this.gameClubBtn.hide()},i.ShowGameClub=function(){this.gameClubBtn&&this.gameClubBtn.show()},n}(u))||w);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/WidgetTopOffset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,s,p,a,f,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,p=t.CCFloat,a=t.Widget,f=t.sys,c=t.view,d=t.Component}],execute:function(){var l,g,u,h,y;r._RF.push({},"d4e00c0p3JAXpUkmy6Rt4WG","WidgetTopOffset",void 0),r._RF.push({},"58887tbC95COqVaBlqU+SVA","WidgetTopOffset",void 0);var O=s.ccclass,T=s.property;t("WidgetTopOffset",(l=O("WidgetTopOffset"),g=T(p),l((y=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this)._paddingTopOffset=0,o(e,"paddingTopOffsetBis",y,n(e)),e}return i(e,t),e.prototype.start=function(){var t=this.getComponent(a);if(t){if(f.platform==f.Platform.TAOBAO_MINI_GAME){var e=my.getSystemInfoSync();if(e){var i=e.statusBarHeight,o=e.titleBarHeight,n=e.windowHeight;i&&o&&n&&(this._paddingTopOffset=(i+o)*(c.getVisibleSize().height/n))}}t.top+=this._paddingTopOffset+this.paddingTopOffsetBis,t.updateAlignment()}},e}(d)).prototype,"paddingTopOffsetBis",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=h))||u));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/winPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./GameComponent.ts","./ArchiveManager.ts","./GameEnum.ts","./GameEvent.ts","./GameGeneralConfig.ts","./GameUIConfig.ts","./ItemInfo.ts","./AdsManager.ts","./PlatformMgr.ts","./ShareManager.ts","./UmengMgr.ts","./RewardInfo.ts","./GameMgr.ts","./MusicMgr.ts","./ResMgr.ts","./ToastMgr.ts","./MoveVideoReward.ts"],(function(e){var n,t,o,i,r,a,c,l,s,u,v,m,f,d,h,g,p,L,w,S,R,I,G,P,M,y,b,V,k,C,E,N;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.Node,u=e.Sprite},function(e){v=e.oops},function(e){m=e.GameComponent},function(e){f=e.ArchiveManager},function(e){d=e.UmengEventID,h=e.ItemType,g=e.MoneyType},function(e){p=e.GameEvent,L=e.SDKEvent},function(e){w=e.GameGeneralConfig},function(e){S=e.UIID},function(e){R=e.ItemInfo},function(e){I=e.AdsManager},function(e){G=e.PlatformMgr},function(e){P=e.ShareManager},function(e){M=e.UmengMgr},function(e){y=e.RewardInfo},function(e){b=e.GameMgr},function(e){V=e.MusicMgr,k=e.EffectType},function(e){C=e.ResMgr},function(e){E=e.ToastMgr},function(e){N=e.MoveVideoReward}],execute:function(){var U,_,B,A,D,T,W,x,z,F,H,O,K;c._RF.push({},"de1e9NFPXJParty3bW/xzn/","winPage",void 0),c._RF.push({},"e642e3AObpOKqDGElzxYv9p","winPage",void 0);var j=l.ccclass,q=l.property;e("WinPage",(U=j("WinPage"),_=q(s),B=q(s),A=q(u),D=q(N),T=q(s),U((z=n((x=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).isUnlockLevel=!1,o(n,"titleLabel",z,i(n)),o(n,"roomNode",F,i(n)),o(n,"roomIcon",H,i(n)),o(n,"moveVideoReward",O,i(n)),o(n,"shareBtn",K,i(n)),n.rewardNum=45,n}t(n,e);var c=n.prototype;return c.start=function(){console.log("[WinPage] start - currLevel=",b.levelView.currLevel,"roomID=",b.levelView.roomID),console.log("[WinPage] unlockLevel=",f.gameLevel.data.unlockLevel,"isTest=",b.Instance.GetIsTest()),this.moveVideoReward.setData(this.rewardNum),this.dispatchEvent(p.GameOver),this.dispatchEvent(L.RecordEnd),this.shareBtn.active=G.platformAPI.isShaderVideo,this.shareBtn.active||this.on(L.RecordSaved,this.onRecordSaved.bind(this),this),this.on(L.ShareVideoSuccess,this.onShareVideo.bind(this),this),G.platformAPI.EndRecorder(),b.levelView.currLevel>=f.gameLevel.data.unlockLevel&&(f.gameLevel.data.unlockLevel=b.levelView.currLevel+1,f.gameLevel.Save(),this.isUnlockLevel=!0,G.platformAPI.UploadScore("LevelNum",f.gameLevel.data.unlockLevel)),console.log("[WinPage] isUnlockLevel=",this.isUnlockLevel),this.setButton(),b.Instance.GetIsTest()?(this.titleLabel.active=!0,this.roomNode.active=!1):(this.titleLabel.active=!1,this.roomNode.active=!0,this.ShowRoom())},c.ShowRoom=function(){var e=r(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="scenes/home/roomRefrence/Room_",n+=b.levelView.roomID,n+="_Finish",console.log("[WinPage] ShowRoom path=",n),e.next=6,C.SetSprite(this.roomIcon,n,this);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onRecordSaved=function(){this.shareBtn.active=!0},c.AdsReceiveBtn=function(){var e=this;this.moveVideoReward.stopMove(),I.Instance.ShowVideoAds({success:function(){e.rewardNum*=e.moveVideoReward.curAwardRate,e.ReceiveSuccess(),M.Instance.TrackEventByID(d.role_video)},fail:function(){e.moveVideoReward.resumeMove()},cancel:function(){e.moveVideoReward.resumeMove()}}),V.PlayEffect(k.UIClick)},c.ReceiveBtn=function(){this.ReceiveSuccess(),V.PlayEffect(k.UIClick)},c.ReceiveSuccess=function(){var e=new R(h.货币,0,g.金币),n=new y(e,this.rewardNum);b.rewardEff.ShowItemFlying(n),e.add(this.rewardNum),this.ClosePage()},c.ClosePage=function(){console.log("[WinPage] ClosePage - CurrSelect=",w.GameLevel_CurrSelect,"isUnlockLevel=",this.isUnlockLevel,"currLevel=",b.levelView.currLevel,"currLevel%3=",b.levelView.currLevel%3);var e=this;if(v.gui.remove(S.WinPage),-1==w.GameLevel_CurrSelect)return console.log("[WinPage] tutorial level -> HomeScene"),v.gui.remove(S.GameLevelScene),void v.gui.open(S.HomeScene);if(this.isUnlockLevel&&b.levelView.currLevel%3==0){var n={onRemoved:function(n,t){0==b.levelView.currLevel?(v.gui.remove(S.GameLevelScene),v.gui.open(S.HomeScene)):e.LoadNextLavel()}};v.gui.open(S.NineGridBoxPage,null,n)}else this.LoadNextLavel()},c.LoadNextLavel=function(){if(v.gui.remove(S.GameLevelScene),new R(h.货币,0,g.体力).use(w.PlayGame_Stamina)){w.GameLevel_CurrSelect+=1;var e=b.Instance.GetUnlockLevel();w.GameLevel_CurrSelect>e&&(w.GameLevel_CurrSelect=e),v.gui.open(S.GameLevelScene)}else E.AddMessage("体力不足"),v.gui.open(S.HomeScene)},c.ShareBtn=function(){var e=this;P.ShareGame("",(function(n){n&&(e.rewardNum=90,e.ReceiveSuccess(),M.Instance.TrackEventByID(d.share))}),1),V.PlayEffect(k.UIClick)},c.onShareVideo=function(){this.shareBtn.active=!1},n}(m)).prototype,"titleLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(x.prototype,"roomNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(x.prototype,"roomIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(x.prototype,"moveVideoReward",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(x.prototype,"shareBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=x))||W));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/XiaoMiAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseAPI.ts"],(function(i){var t,o,n,e;return{setters:[function(i){t=i.inheritsLoose},function(i){o=i.cclegacy,n=i._decorator},function(i){e=i.BaseAPI}],execute:function(){var r;o._RF.push({},"74b49x3PVRFt4MVHQnmLFxb","XiaoMiAPI",void 0),o._RF.push({},"48c53hbnllP9KfiKtnvWKKE","XiaoMiAPI",void 0);var c=n.ccclass;n.property,i("XiaoMiAPI",c("XiaoMiAPI")(r=function(i){function o(){return i.apply(this,arguments)||this}return t(o,i),o.prototype.InitGame=function(){this.api=window.qg,i.prototype.InitGame.call(this)},o}(e))||r);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZoomInNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(e){var t,o,n,r,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3},function(e){r=e.ecs},function(e){l=e.NodeComp}],execute:function(){var a,i;o._RF.push({},"1f10b4oMz9NYrS8OBTDXm7y","ZoomInNode",void 0),o._RF.push({},"19cf9AKPNlJwp1eYyNA5Qvy","ZoomInNode",void 0);var s=e("ZoomInNodeComp",r.register("ZoomInNode")(a=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).duration=1,t.elapsed=0,t.startScale=new n(1,1,1),t.targetScale=new n(1.2,1.2,1.2),t.onComplete=null,t}return t(o,e),o.prototype.reset=function(){this.duration=1,this.elapsed=0,this.startScale=new n(1,1,1),this.targetScale=new n(1.2,1.2,1.2),this.onComplete=null},o}(r.Comp))||a);e("ZoomInNodeSystem",r.register("ZoomInNode")(i=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.filter=function(){return r.allOf(s,l)},n.update=function(e){var t=e.get(s),o=e.get(l);if(!(t.elapsed>=t.duration)){t.elapsed+=this.dt;var n=Math.min(t.elapsed/t.duration,1);o.node.scale=t.startScale.clone().lerp(t.targetScale,n),n>=1&&(null==t.onComplete||t.onComplete(),e.remove(s))}},o}(r.ComblockSystem))||i);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ZoomOutNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECS.ts","./NodeComp.ts"],(function(e){var t,o,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e.Vec3},function(e){r=e.ecs},function(e){a=e.NodeComp}],execute:function(){var i,u;o._RF.push({},"74fb7iA+ExCkapEPNrdcMw4","ZoomOutNode",void 0),o._RF.push({},"a7447q40iJE35Uf0i5rGB9A","ZoomOutNode",void 0);var l=e("ZoomOutNodeComp",r.register("ZoomOutNode")(i=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).duration=1,t.elapsed=0,t.startScale=new n(1,1,1),t.targetScale=new n(.1,.1,.1),t.onComplete=null,t}return t(o,e),o.prototype.reset=function(){this.duration=1,this.elapsed=0,this.startScale=new n(1,1,1),this.targetScale=new n(.1,.1,.1),this.onComplete=null},o}(r.Comp))||i);e("ZoomOutNodeSystem",r.register("ZoomOutNode")(u=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.filter=function(){return r.allOf(l,a)},n.update=function(e){var t=e.get(l),o=e.get(a);if(!(t.elapsed>=t.duration)){t.elapsed+=this.dt;var n=Math.min(t.elapsed/t.duration,1);o.node.scale=t.startScale.clone().lerp(t.targetScale,n),n>=1&&(null==t.onComplete||t.onComplete(),e.remove(l))}},o}(r.ComblockSystem))||u);o._RF.pop(),o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});